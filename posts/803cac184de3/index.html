<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>Vue学习笔记（使用脚手架） | SparkGalaxy_blog</title><meta name="author" content="SparkGalaxy"><meta name="copyright" content="SparkGalaxy"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习前准备在进行Vue脚手架内容的学习时，我们需要把脚手架的安装完毕。详细的操作步骤，请查看往期文章：Vue学习笔记（安装脚手架）在将脚手架的内容完全配置完全后，即可进行一下内容的学习 笔记开始认识脚手架项目构造此处我创建了一个view-show的文件夹用于存放脚手架文件  1.node_modules：项目依赖文件夹，此处存放着脚手架运行的必要依赖文件，之后在脚手架目录中从npm或者yarn中按">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue学习笔记（使用脚手架）">
<meta property="og:url" content="https://sparkgalaxy.gitee.io/posts/803cac184de3/index.html">
<meta property="og:site_name" content="SparkGalaxy_blog">
<meta property="og:description" content="学习前准备在进行Vue脚手架内容的学习时，我们需要把脚手架的安装完毕。详细的操作步骤，请查看往期文章：Vue学习笔记（安装脚手架）在将脚手架的内容完全配置完全后，即可进行一下内容的学习 笔记开始认识脚手架项目构造此处我创建了一个view-show的文件夹用于存放脚手架文件  1.node_modules：项目依赖文件夹，此处存放着脚手架运行的必要依赖文件，之后在脚手架目录中从npm或者yarn中按">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://sparkgalaxy.gitee.io/images/pasted-157.png">
<meta property="article:published_time" content="2023-08-10T08:47:29.000Z">
<meta property="article:modified_time" content="2023-08-10T15:38:55.668Z">
<meta property="article:author" content="SparkGalaxy">
<meta property="article:tag" content="Vue">
<meta property="article:tag" content="Vue CLI">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://sparkgalaxy.gitee.io/images/pasted-157.png"><link rel="shortcut icon" href="/img/spark.png"><link rel="canonical" href="https://sparkgalaxy.gitee.io/posts/803cac184de3/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":true,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: {"limitDay":600,"position":"top","messagePrev":"该文章已超","messageNext":"天未再次更新，请谨慎参考使用"},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":300},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: SparkGalaxy","link":"链接: ","source":"来源: SparkGalaxy_blog","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Vue学习笔记（使用脚手架）',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2023-08-10 23:38:55'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/man.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/website/"><i class="fa-fw fas fa-folder-open"></i><span> 学习网站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/images/pasted-157.png')"><nav id="nav"><span id="blog-info"><a href="/" title="SparkGalaxy_blog"><span class="site-name">SparkGalaxy_blog</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li><li><a class="site-page child" href="/website/"><i class="fa-fw fas fa-folder-open"></i><span> 学习网站</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">Vue学习笔记（使用脚手架）</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-08-10T08:47:29.000Z" title="发表于 2023-08-10 16:47:29">2023-08-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-08-10T15:38:55.668Z" title="更新于 2023-08-10 23:38:55">2023-08-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/Vue/">Vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">58.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>288分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="Vue学习笔记（使用脚手架）"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="学习前准备"><a href="#学习前准备" class="headerlink" title="学习前准备"></a>学习前准备</h2><p>在进行Vue脚手架内容的学习时，我们需要把脚手架的安装完毕。<br>详细的操作步骤，请查看往期文章：<br><a href="https://sparkgalaxy.gitee.io/posts/72ed8eade779/">Vue学习笔记（安装脚手架）</a><br><img src="/images/pasted-157.png" alt="upload successful"><br>在将脚手架的内容完全配置完全后，即可进行一下内容的学习</p>
<h2 id="笔记开始"><a href="#笔记开始" class="headerlink" title="笔记开始"></a>笔记开始</h2><h3 id="认识脚手架项目构造"><a href="#认识脚手架项目构造" class="headerlink" title="认识脚手架项目构造"></a>认识脚手架项目构造</h3><p>此处我创建了一个view-show的文件夹用于存放脚手架文件</p>
<p><img src="/images/pasted-247.png" alt="upload successful"></p>
<p>1.node_modules：项目依赖文件夹，此处存放着脚手架运行的必要依赖文件，之后在脚手架目录中从npm或者yarn中按需额外下载的所有依赖都会放到这个文件夹下。</p>
<p>2.public：此处存放的是脚手架中可以公共使用的文件，初始状态下只存放index.html和Vue脚手夹的ico图标</p>
<p>3.src：此处存放的则是脚手架中的核心文件，包括App.vue,main.js入口文件等核心配置文件，之后的项目文件也都是全部写在此文件夹下</p>
<p>4.gitignore文件：其中存放着脚手架目录中需要被忽略的文件名的配置</p>
<p>5.babel.config.js：此处存放的是关于babel文件的相关配置，babel是用于js语法进行兼容性处理的配置，目的是让项目适配于大多数的浏览器进行运行</p>
<p>6.jsconfig.js：此文件可以用来配置默认的根路径，可以按需进行配置</p>
<p>7.page-lock.json：此文件用于锁定各安装模块的版本，以免在插件模块版本进行升级时，出现不兼容的情况。</p>
<p>8.package.json：此处存放的是脚手架中安装的依赖版本号的信息。</p>
<p>9.README.md：此处存放的是脚手架相关的说明信息</p>
<p>10.vue.config.js：此处存放的是vue脚手架的相关配置信息，可以在其中配置服务器代理，也可以配置语法检查等相关的设置</p>
<p>初步了解了以上文件的内容后，我们来进行下一步的学习</p>
<p>以下内容都可以在src文件下运行！</p>
<h3 id="解析src"><a href="#解析src" class="headerlink" title="解析src"></a>解析src</h3><p><img src="/images/pasted-248.png" alt="upload successful"><br>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//这个是整个项目的入口文件</span><br><span class="line">//引入vue</span><br><span class="line">//完整版的vue：vue.runtime.esm</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入App组件，它是所有组件的父组件，地位仅次于vm</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    /*</span><br><span class="line">    总结：</span><br><span class="line"></span><br><span class="line">          关于不同版本的函数：</span><br><span class="line"></span><br><span class="line">          vue.js 与 vue.runtime.xxx.js的区别：</span><br><span class="line"></span><br><span class="line">          vue.js 是完整版的 Vue，包含：核心功能+模板解析器</span><br><span class="line">          vue.runtime.xxx.js 是运行版的 Vue，只包含核心功能，没有模板解析器</span><br><span class="line">          因为 vue.runtime.xxx.js 没有模板解析器，所以不能使用 template 配置项，需要使用 render函数接收到的createElement 函数去指定具体内容</span><br><span class="line"></span><br><span class="line">          3.1.5. 修改默认配置</span><br><span class="line">          vue.config.js 是一个可选的配置文件，如果项目的（和 package.json 同级的）根目录中存在这个文件，那么它会被 @vue/cli-service 自动加载</span><br><span class="line">          使用 vue.config.js 可以对脚手架进行个性化定制，详见配置参考 | Vue CLI</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    //render的功能是在使用残缺版的vue时，创建元素</span><br><span class="line">    //render: createElement =&gt; createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;).$mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;img src=&quot;./assets/logo.png&quot; alt=&quot;logo&quot;&gt;</span><br><span class="line">      &lt;School&gt;&lt;/School&gt;</span><br><span class="line">      &lt;Student&gt;&lt;/Student&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        </span><br><span class="line">        components:&#123;</span><br><span class="line">            //注册组件</span><br><span class="line">            School,</span><br><span class="line">            Student</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>此处我们在components文件夹中创建两个文件，分别是School.vue和Student.vue</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">           </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">   //要是</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;SchoolName&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/* 组件的样式 */</span><br><span class="line">.demo&#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">   //要是发现在脚手架下运行时报错，那就需要检查一下是否把name用双驼峰命名法进行命名,例如StudentName</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;StudentName&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ref属性的运用"><a href="#ref属性的运用" class="headerlink" title="ref属性的运用"></a>ref属性的运用</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- ref属性:</span><br><span class="line">            被用来给元素或子组件注册引用信息（id的替代者）</span><br><span class="line">            应用在html标签上获取的是真实DOM元素，应用在组件标签上获取的是组件实例对象（vc）</span><br><span class="line">            使用方式：</span><br><span class="line">            打标识：&lt;h1 ref=&quot;xxx&quot;&gt;&lt;/h1&gt; 或 &lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</span><br><span class="line">            获取：this.$refs.xxx</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;点我输出上方dom&lt;/button&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line">    &lt;School ref=&quot;sch&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入school组件</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            msg:&#x27;欢迎学习&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;School&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        showDOM()&#123;</span><br><span class="line">            //ref标签可用于获取组件(vc)的实例对象</span><br><span class="line">            console.log(this.$refs.title)//真实的dom元素</span><br><span class="line">            console.log(this.$refs.btn)//真实的dom元素</span><br><span class="line">            console.log(this.$refs.sch)//School组件的实例对象(vc)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>此处我们在components文件夹中创建一个文件，分别是School.vue</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">      &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            name:&#x27;清华大学&#x27;,</span><br><span class="line">            address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="maxin混合"><a href="#maxin混合" class="headerlink" title="maxin混合"></a>maxin混合</h3><p>maxin.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//此处使用分别暴露</span><br><span class="line">export const mixin = &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        showName() &#123;</span><br><span class="line">            alert(this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        console.log(&#x27;你好&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export const mixin2 = &#123;</span><br><span class="line"></span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: 100,</span><br><span class="line">            y: 200</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//此处为配置全局的混合</span><br><span class="line">import &#123; mixin, mixin2 &#125; from &#x27;./maxin&#x27;</span><br><span class="line">//如果将混合放在这个main.js文件中的话，那无论是vm还是vc都会在运行时直接调用一次</span><br><span class="line">//如果再加上两个组件的话，那么就是vm调一次混合，组件配置调一次混合，两个组件各自调一次混合，就是调用了四次混合</span><br><span class="line">Vue.mixin(mixin)</span><br><span class="line">Vue.mixin(mixin2)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>此处我们在components文件夹中创建两个文件，分别是School.vue和Student.vue</p>
<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 @click=&quot;showName&quot;&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入一个混合组件mixin</span><br><span class="line">/*import &#123;mixin&#125; from &#x27;../maxin&#x27;</span><br><span class="line">import &#123;mixin2&#125; from &#x27;../maxin&#x27;*/</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        //data中的数据如果与混合组件中的数据发生冲突时，以data中的数据为准</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    //混合要写入数组内</span><br><span class="line">    //混合可以将组件内的所带有的数据整合到页面中</span><br><span class="line">    /*//此处为局部混合  </span><br><span class="line">    mixins:[mixin,mixin2],</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">     //如果说mounted的钩子和混合中的钩子发生冲突时，所有的mounted都会被浏览器获取，混合中的mounted会被首先获取 </span><br><span class="line">    /*mounted()&#123;</span><br><span class="line">        console.log(&#x27;你好啊！！！&#x27;)</span><br><span class="line">    &#125;*/</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 @click=&quot;showName&quot;&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入一个混合组件mixin</span><br><span class="line">/*import &#123;mixin&#125; from &#x27;../maxin&#x27;</span><br><span class="line">import &#123;mixin2&#125; from &#x27;../maxin&#x27;*/</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    //混合要写入数组内</span><br><span class="line">    //混合可以将组件内的所带有的数据整合到页面中</span><br><span class="line">      /*//此处为局部混合  </span><br><span class="line">    mixins:[mixin,mixin2],</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="插件plugins"><a href="#插件plugins" class="headerlink" title="插件plugins"></a>插件plugins</h3><p>plugins.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    //定义插件</span><br><span class="line">    install(Vue) &#123;</span><br><span class="line">        //全局过滤器</span><br><span class="line">        Vue.filter(&#x27;mySlice&#x27;, function(value) &#123;</span><br><span class="line">            return value.slice(0, 4) //只截取字符前四位</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //定义全局指令</span><br><span class="line">        Vue.directive(&#x27;fbind&#x27;, &#123;</span><br><span class="line">            //指令与元素初次成功绑定时一上来就执行</span><br><span class="line">            bind(element, binding) &#123;</span><br><span class="line">                //</span><br><span class="line">                element.value = binding.value</span><br><span class="line">            &#125;,</span><br><span class="line">            //指令所在元素被插入页面时执行</span><br><span class="line">            inserted(element) &#123;</span><br><span class="line">                element.focus()</span><br><span class="line">            &#125;,</span><br><span class="line">            //指令所在的模板被重新解析时执行</span><br><span class="line">            update(element, binding) &#123;</span><br><span class="line">                element.value = binding.value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //定义混入</span><br><span class="line">        Vue.mixin(&#123;</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    x: 100,</span><br><span class="line">                    y: 200</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //给vue原型上添加一个方法(vm和vc都可以用了)</span><br><span class="line">        Vue.prototype.hello = () =&gt; (alert(&#x27;你好啊&#x27;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//引入插件</span><br><span class="line">import plugins from &#x27;./plugins&#x27;</span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(plugins)</span><br><span class="line">    /**</span><br><span class="line">     * 插件：</span><br><span class="line"></span><br><span class="line">                功能：用于增强Vue</span><br><span class="line"></span><br><span class="line">                本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据</span><br><span class="line"></span><br><span class="line">                定义插件：</span><br><span class="line"></span><br><span class="line">                plugin.install = function (Vue, options) &#123;</span><br><span class="line">                        // 1. 添加全局过滤器</span><br><span class="line">                        Vue.filter(....)</span><br><span class="line">                    </span><br><span class="line">                        // 2. 添加全局指令</span><br><span class="line">                        Vue.directive(....)</span><br><span class="line">                    </span><br><span class="line">                        // 3. 配置全局混入</span><br><span class="line">                        Vue.mixin(....)</span><br><span class="line">                    </span><br><span class="line">                        // 4. 添加实例方法</span><br><span class="line">                        Vue.prototype.$myMethod = function () &#123;...&#125;</span><br><span class="line">                        Vue.prototype.$myProperty = xxxx</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                使用插件：Vue.use(plugin)</span><br><span class="line"></span><br><span class="line">    */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：School.vue,Student.vue</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name|mySlice&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学aa&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="scoped的使用"><a href="#scoped的使用" class="headerlink" title="scoped的使用"></a>scoped的使用</h3><p>main.js</p>
<figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件：School.vue,Student.vue</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;test&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 class=&quot;que&quot;&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">/*</span><br><span class="line">scoped样式：</span><br><span class="line"></span><br><span class="line">作用：让样式在局部生效，防止冲突</span><br><span class="line">写法：&lt;style scoped&gt;</span><br><span class="line">scoped样式一般不会在App.vue中使用</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">如果说样式名重名了，那么在引入组件时，将会用最后的组件覆盖前一组件的样式</span><br><span class="line">想要解决这个问题，只需要在style标签中添加scoped，那么此处的样式只会负责本组件的样式</span><br><span class="line">并在模板中放入一个自动生成的data值</span><br><span class="line">*/</span><br><span class="line">.test&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">    .que&#123;</span><br><span class="line">        font-size: 40px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;test&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*</span><br><span class="line">如果说样式名重名了，那么在引入组件时，将会用最后的组件覆盖前一组件的样式</span><br><span class="line">想要解决这个问题，只需要在style标签中添加scoped，那么此处的样式只会负责本组件的样式</span><br><span class="line">并在模板中放入一个自动生成的data值</span><br><span class="line">*/</span><br><span class="line">.test&#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="todoList案例"><a href="#todoList案例" class="headerlink" title="todoList案例"></a>todoList案例</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;MyHeader :addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; :checkTodo=&quot;checkTodo&quot; :deleteTodo=&quot;deleteTodo&quot;/&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; :checkAllTodo=&quot;checkAllTodo&quot; :clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //这里使用逐层传递将checkTodo，从App传到list再传到item</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p>
<p>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">            :deleteTodo=&quot;deleteTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id,todo.title)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        this.checkTodo(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            this.deleteTodo(id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line">props:[&#x27;addTodo&#x27;],</span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.addTodo(todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;,&#x27;checkAllTodo&#x27;, &#x27;clearAllTodo&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            this.checkAllTodo(value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.clearAllTodo()</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="浏览器储存"><a href="#浏览器储存" class="headerlink" title="浏览器储存"></a>浏览器储存</h3><p>此处为额外内容，自行创建文件夹进行实验即可</p>
<p>Localstorge.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;localStorage&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        总结：</span><br><span class="line"></span><br><span class="line">存储内容大小一般支持5MB左右（不同浏览器可能还不一样）</span><br><span class="line"></span><br><span class="line">浏览器端通过Window.sessionStorage和Window.localStorage属性来实现本地存储机制</span><br><span class="line"></span><br><span class="line">相关API：</span><br><span class="line"></span><br><span class="line">xxxStorage.setItem(&#x27;key&#x27;, &#x27;value&#x27;)：该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值</span><br><span class="line">xxxStorage.getItem(&#x27;key&#x27;)：该方法接受一个键名作为参数，返回键名对应的值</span><br><span class="line">xxxStorage.removeItem(&#x27;key&#x27;)：该方法接受一个键名作为参数，并把该键名从存储中删除</span><br><span class="line">xxxStorage.clear()：该方法会清空存储中的所有数据</span><br><span class="line">备注：</span><br><span class="line"></span><br><span class="line">SessionStorage存储的内容会随着浏览器窗口关闭而消失</span><br><span class="line">LocalStorage存储的内容，需要手动清除才会消失</span><br><span class="line">xxxStorage.getItem(xxx)如果 xxx 对应的 value 获取不到，那么getItem()的返回值是null</span><br><span class="line">JSON.parse(null)的结果依然是null</span><br><span class="line"></span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;h2&gt;localStorage&lt;/h2&gt;</span><br><span class="line">    &lt;button onclick=&quot;saveDate()&quot;&gt;点我保存数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;readDate()&quot;&gt;点我读数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteDate()&quot;&gt;点我删除数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteAllDate()&quot;&gt;点我清空数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let person = &#123;</span><br><span class="line">            name: &quot;张三&quot;,</span><br><span class="line">            age: 20</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function saveDate() &#123;</span><br><span class="line">            localStorage.setItem(&#x27;msg&#x27;, &#x27;localStorage&#x27;)</span><br><span class="line">                //JSON.stringify把对象转换成字符串 </span><br><span class="line">            localStorage.setItem(&#x27;person&#x27;, JSON.stringify(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function readDate() &#123;</span><br><span class="line">            console.log(localStorage.getItem(&#x27;msg&#x27;))</span><br><span class="line">            const person = localStorage.getItem(&#x27;person&#x27;)</span><br><span class="line">            console.log(JSON.parse(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteDate() &#123;</span><br><span class="line">            localStorage.removeItem(&#x27;msg&#x27;)</span><br><span class="line">            localStorage.removeItem(&#x27;person&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteAllDate() &#123;</span><br><span class="line">            localStorage.clear()</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>sessionstorage.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;sessionstorage&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;sessionstorage&lt;/h2&gt;</span><br><span class="line">    &lt;button onclick=&quot;saveDate()&quot;&gt;点我保存数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;readDate()&quot;&gt;点我读数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteDate()&quot;&gt;点我删除数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteAllDate()&quot;&gt;点我清空数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let person = &#123;</span><br><span class="line">            name: &quot;张三&quot;,</span><br><span class="line">            age: 20</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function saveDate() &#123;</span><br><span class="line">            localStorage.setItem(&#x27;msg&#x27;, &#x27;localStorage&#x27;)</span><br><span class="line">                //JSON.stringify把对象转换成字符串 </span><br><span class="line">            localStorage.setItem(&#x27;person&#x27;, JSON.stringify(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function readDate() &#123;</span><br><span class="line">            console.log(localStorage.getItem(&#x27;msg&#x27;))</span><br><span class="line">            const person = localStorage.getItem(&#x27;person&#x27;)</span><br><span class="line">            console.log(JSON.parse(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteDate() &#123;</span><br><span class="line">            localStorage.removeItem(&#x27;msg&#x27;)</span><br><span class="line">            localStorage.removeItem(&#x27;person&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteAllDate() &#123;</span><br><span class="line">            localStorage.clear()</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h3 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h3><p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">组件的自定义事件：</span><br><span class="line"></span><br><span class="line">一种组件间通信的方式，适用于：==子组件 &gt; 父组件</span><br><span class="line"></span><br><span class="line">使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（事件的回调在A中）</span><br><span class="line"></span><br><span class="line">绑定自定义事件：</span><br><span class="line"></span><br><span class="line">第一种方式，在父组件中：&lt;Demo @atguigu=&quot;test&quot;/&gt; 或 &lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</span><br><span class="line"></span><br><span class="line">第二种方式，在父组件中：</span><br><span class="line"></span><br><span class="line">&lt;Demo ref=&quot;demo&quot;/&gt;</span><br><span class="line">...</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$refs.demo.$on(&#x27;atguigu&#x27;,data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">若想让自定义事件只能触发一次，可以使用once修饰符，或$once方法</span><br><span class="line"></span><br><span class="line">触发自定义事件：this.$emit(&#x27;atguigu&#x27;,数据)</span><br><span class="line"></span><br><span class="line">解绑自定义事件：this.$off(&#x27;atguigu&#x27;)</span><br><span class="line"></span><br><span class="line">组件上也可以绑定原生DOM事件，需要使用native修饰符</span><br><span class="line"></span><br><span class="line">注意：通过this.$refs.xxx.$on(&#x27;atguigu&#x27;,回调)绑定自定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题！ --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;,学生姓名是：&#123;&#123;studentName&#125;&#125; &lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    &lt;!-- 通过父组件给子组件传递函数类型的props实现子给父传递数据 --&gt;</span><br><span class="line">    &lt;School :getSchoolName=&quot;getSchoolName&quot;/&gt;</span><br><span class="line">    &lt;!-- 第一种，使用一个v-on或是@，给student的实例对象绑定一个qinghua事件 </span><br><span class="line">    @qinghua.once只会让事件触发一次</span><br><span class="line">    --&gt;</span><br><span class="line">     &lt;!-- &lt;Student @qinghua=&quot;getStudentName&quot; @demo=&quot;m1&quot;/&gt; --&gt;</span><br><span class="line">    &lt;!--  第二种，使用ref给student的实例对象绑定一个qinghua事件 --&gt;</span><br><span class="line">    &lt;!-- @click.native绑定原生dom事件 --&gt;</span><br><span class="line">    &lt;Student ref=&quot;student&quot; @click.native=&quot;show&quot;/&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">           studentName:&#x27;&#x27;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   methods:&#123;</span><br><span class="line">       show()&#123;</span><br><span class="line">           alert(&#x27;清华大学欢迎你&#x27;)</span><br><span class="line">       &#125;,</span><br><span class="line">       getSchoolName(name)&#123;</span><br><span class="line">           console.log(&#x27;app收到了数据&#x27;,name)</span><br><span class="line">       &#125;,</span><br><span class="line">       //...params用来传输多个数据</span><br><span class="line">       getStudentName(name,...params)&#123;</span><br><span class="line">           console.log(&#x27;app收到了数据&#x27;,name,params)</span><br><span class="line">            this.studentName=name</span><br><span class="line">       &#125;,</span><br><span class="line">       m1()&#123;</span><br><span class="line">           console.log(&#x27;demo事件被触发了&#x27;)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line"></span><br><span class="line">   mounted()&#123;</span><br><span class="line">  </span><br><span class="line">        this.$refs.student.$on(&#x27;qinghua&#x27;,this.getStudentName)//$ref绑定自定义事件</span><br><span class="line">        //this.$refs.student.$once(&#x27;qinghua&#x27;,this.getStudentName)//绑定自定义事件(一次性)</span><br><span class="line">        </span><br><span class="line">        //如果将函数方法写在ref获取数据的所在时，因为它调用了qinghua的事件名，所以此处的this是student的实例对象</span><br><span class="line">        //所以无法传输数据到app的this中</span><br><span class="line">        //而如果想要传输相应的数据，需要写箭头函数，因为箭头函数没有this，所以会将实例对象指出去到app的实例对象，这样就可以完成操作</span><br><span class="line">        /*this.$refs.student.$on(&#x27;qinghua&#x27;,(name,...params)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;App收到了学生名：&#x27;,name,params)</span><br><span class="line">            console.log(this)</span><br><span class="line">            this.studentName=name</span><br><span class="line">        &#125;)*/</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    /*mounted() &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            this.$destroy()</span><br><span class="line">        &#125;, 3000); //三秒后自动销毁vm</span><br><span class="line">    &#125;*/</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>components组件:Student.vue,School.vue</p>
<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&quot;sendStudentName&quot;&gt;把学生名称给app&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;unbind&quot;&gt;解绑事件&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;destroy&quot;&gt;点我销毁组件实例&lt;/button&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;number&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;number++&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">           number:0</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        add()&#123;</span><br><span class="line">            console.log(&#x27;add被调用了&#x27;)</span><br><span class="line">            this.number++</span><br><span class="line">                &#125;,</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            //触发Student组件实例身上的qinghua事件</span><br><span class="line">            this.$emit(&#x27;qinghua&#x27;,this.name,666,888)</span><br><span class="line">            //this.$emit(&#x27;demo&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        unbind()&#123;</span><br><span class="line">            this.$off(&#x27;qinghua&#x27;)//解绑一个自定义事件</span><br><span class="line">            //this.$off([&#x27;qinghua&#x27;,&#x27;demo&#x27;])//解绑多个自定义事件</span><br><span class="line">            //this.$off()//解绑所有事件</span><br><span class="line">        &#125;,</span><br><span class="line">        destroy()&#123;</span><br><span class="line">       this.$destroy()//销毁了当前student组件的实例，销毁后所有student实例自定义事件都不会再奏效了</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendSchoolName&quot;&gt;把学校名称给app&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    props:[&#x27;getSchoolName&#x27;],</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendSchoolName()&#123;</span><br><span class="line">            this.getSchoolName(this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="todolist案例-自定义组件"><a href="#todolist案例-自定义组件" class="headerlink" title="todolist案例_自定义组件"></a>todolist案例_自定义组件</h4><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; :checkTodo=&quot;checkTodo&quot; :deleteTodo=&quot;deleteTodo&quot;/&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //这里使用逐层传递将checkTodo，从App传到list再传到item</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p>
<p>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">            :deleteTodo=&quot;deleteTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id,todo.title)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        this.checkTodo(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            this.deleteTodo(id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//想要调用$on,$off,$emit,只有组件实例对象可以做得到</span><br><span class="line">//const Demo = Vue.extend(&#123;&#125;)</span><br><span class="line">// const d = new Demo()</span><br><span class="line">//因为每一个实例对象的this都会找到组件实例对象的原型，而组件实例对象的原型会指向vue的原型</span><br><span class="line">//所以要写一个被所有组件实例对象发现的总线，要把事情写在vue的原型上</span><br><span class="line">//Vue.prototype.x = d</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    //在vue创建之前，往所定义的$bus的vue原型中放入this，this指向vue</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        // $bus的命名是为了迎合vue的程序设计</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 全局事件总线（GlobalEventBus）：</span><br><span class="line"></span><br><span class="line">一种组件间通信的方式，适用于任意组件间通信</span><br><span class="line"></span><br><span class="line">安装全局事件总线：</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">   	...</span><br><span class="line">   	beforeCreate() &#123;</span><br><span class="line">   		Vue.prototype.$bus = this //安装全局事件总线，$bus就是当前应用的vm</span><br><span class="line">   	&#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">使用事件总线：</span><br><span class="line"></span><br><span class="line">接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    methods()&#123;</span><br><span class="line">        demo(data)&#123;...&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.$bus.$on(&#x27;xxx&#x27;,this.demo)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">提供数据：this.$bus.$emit(&#x27;xxx&#x27;,data)</span><br><span class="line"></span><br><span class="line">最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件</span><br><span class="line"> */</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;School/&gt;</span><br><span class="line">    &lt;Student/&gt;</span><br><span class="line">  </span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">      </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件:School.vue,Student.vue</p>
<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line"></span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(&#x27;school&#x27;,this)</span><br><span class="line">        // 此处需要获取到$emit传递过来的值，并响应方法</span><br><span class="line">        this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;我是school组件，收到了数据&#x27;,data)</span><br><span class="line">        &#125;)</span><br><span class="line">    </span><br><span class="line">&#125;,</span><br><span class="line">     beforeDestroy()&#123;</span><br><span class="line">         //在hello事件处理完之后，在销毁组件实例对象之前，把hello事件给关闭释放出去</span><br><span class="line">            this.$bus.$off(&#x27;hello&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&#x27;sendStudentName&#x27;&gt;把学生名给school组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            // 此处依次放入放入需要调用的方法名和需要传递的值</span><br><span class="line">            this.$bus.$emit(&#x27;hello&#x27;,this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="全局事件总线——todolist案例"><a href="#全局事件总线——todolist案例" class="headerlink" title="全局事件总线——todolist案例"></a>全局事件总线——todolist案例</h4><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">         this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">         this.$bus.$on(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;deleteTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p>
<p>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并传递id的值过去</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">             //响应deleteTodo，并返回id的值</span><br><span class="line">            //响应deleteTodo方法名，并传递id的值过去</span><br><span class="line">            this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="消息订阅与发布"><a href="#消息订阅与发布" class="headerlink" title="消息订阅与发布"></a>消息订阅与发布</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;School/&gt;</span><br><span class="line">    &lt;Student/&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">      </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件:Student.vue,School.vue</p>
<p>Student.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&#x27;sendStudentName&#x27;&gt;把学生名给school组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            // this.$bus.$emit(&#x27;hello&#x27;,this.name)</span><br><span class="line">            pubsub.publish(&#x27;hello&#x27;,666)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>School.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">/**</span><br><span class="line"> * 消息订阅与发布（pubsub）：</span><br><span class="line"></span><br><span class="line">消息订阅与发布是一种组件间通信的方式，适用于任意组件间通信</span><br><span class="line"></span><br><span class="line">使用步骤：</span><br><span class="line"></span><br><span class="line">安装pubsub：npm i pubsub-js</span><br><span class="line"></span><br><span class="line">引入：import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line"></span><br><span class="line">接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    methods()&#123;</span><br><span class="line">        demo(data)&#123;...&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    mounted() &#123;</span><br><span class="line">		this.pid = pubsub.subscribe(&#x27;xxx&#x27;,this.demo)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">提供数据：pubsub.publish(&#x27;xxx&#x27;,data)</span><br><span class="line"></span><br><span class="line">最好在beforeDestroy钩子中，使用pubsub.unsubscribe(pid)取消订阅</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">//下载pubsub插件，将会提供消息订阅的功能,subscribe为订阅，publish为发布</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line"></span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        // console.log(&#x27;school&#x27;,this)</span><br><span class="line">        // this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line">        //     console.log(&#x27;我是school组件，收到了数据&#x27;,data)</span><br><span class="line">        // &#125;)</span><br><span class="line"></span><br><span class="line">        //此方法就是一挂载就去订阅消息</span><br><span class="line">        //此处的函数方法都可以写去methods中，让vm去管理，要不然就放在此处，但是想要访问vm，需要写箭头函数</span><br><span class="line">    this.pubId=pubsub.subscribe(&#x27;hello&#x27;,(msgName,data)=&gt;&#123;</span><br><span class="line">        console.log(&#x27;有人发布了hello消息&#x27;,msgName,data)</span><br><span class="line">        console.log(this)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">     beforeDestroy()&#123;</span><br><span class="line">         //在hello事件处理完之后，在销毁组件实例对象之前，把hello事件给关闭释放出去</span><br><span class="line">        //this.$bus.$off(&#x27;hello&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //因为每一次使用pubsub.subscribe时，都有独特的id生成，所以想要关闭订阅，需要把整个subscribe存进一个变量里，然后使用变量来关闭订阅功能</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h4 id="消息订阅与发布——todolist案例"><a href="#消息订阅与发布——todolist案例" class="headerlink" title="消息订阅与发布——todolist案例"></a>消息订阅与发布——todolist案例</h4><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        //  this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //  this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p>
<p>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="todolist-myitem-nextTick"><a href="#todolist-myitem-nextTick" class="headerlink" title="todolist_myitem_nextTick"></a>todolist_myitem_nextTick</h3><p>在这一部分中，在MyItem.vue组件中使用nextTick来实现消息的传递</p>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //更新一个todo</span><br><span class="line">        updateTodo(id,title)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.title=title</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">        this.$bus.$on(&#x27;updateTodo&#x27;,this.updateTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;updateTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line">    .btn-edit &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        border: 1px solid rgb(24, 65, 82);</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件与之前的todolist案例相同</p>
<p>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 编辑和展示的按钮不需要同时展示，所以两个功能是互斥的，展示的功能需要取v-show=&quot;!todo.isEdit&quot;,例如当原本的值为false时，给到这里后就是true，就展示出来--&gt;</span><br><span class="line">            &lt;span v-show=&quot;!todo.isEdit&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;input </span><br><span class="line">            type=&quot;text&quot; </span><br><span class="line">            v-show=&quot;todo.isEdit&quot; </span><br><span class="line">            :value=&quot;todo.title&quot;  </span><br><span class="line">            @blur=&quot;handleBlur(todo,$event)&quot;</span><br><span class="line">            ref=&quot;inputTitle&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;!-- $event用来获取最新的输入框数据 --&gt;</span><br><span class="line">            &lt;!--  @blur为失去焦点事件 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">        &lt;button v-show=&quot;!todo.isEdit&quot; class=&quot;btn btn-edit&quot; @click=&quot;handleEdit(todo)&quot; &gt;编辑&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑按钮</span><br><span class="line">    handleEdit(todo)&#123;</span><br><span class="line">        //isEdit不必重复添加，因为在第一次编辑后，isEdit就已经成功追加</span><br><span class="line">        //如果再次编辑的话，就不必再追加isEdit，只需要改变isEdit的值即可</span><br><span class="line">        //hasOwnProperty用来判断是否拥有todo.isEdit</span><br><span class="line">        if(todo.hasOwnProperty(&#x27;isEdit&#x27;))&#123;</span><br><span class="line">            todo.isEdit=true</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">        //要写响应式数据，不能够把数据写死，把isEdit的值改成true，进入编辑状态</span><br><span class="line">        this.$set(todo,&#x27;isEdit&#x27;,true)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //this.$nextTick在更新完dom模板之后，再执行此处的语句</span><br><span class="line">        //this.$nextTick为生命周期钩子</span><br><span class="line">       this.$nextTick(function()&#123;</span><br><span class="line">        this.$refs.inputTitle.focus()</span><br><span class="line">       &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点时修改app上的数据</span><br><span class="line">    handleBlur(todo,e)&#123;</span><br><span class="line">        todo.isEdit=false</span><br><span class="line">        //当选项为空时，返回提示语句</span><br><span class="line">        if(!e.target.value) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">        this.$bus.$emit(&#x27;updateTodo&#x27;,todo.id,e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="过渡与动画"><a href="#过渡与动画" class="headerlink" title="过渡与动画"></a>过渡与动画</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div &gt;</span><br><span class="line">&lt;Test/&gt;</span><br><span class="line">&lt;Test2/&gt;</span><br><span class="line">&lt;Test3/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">import Test from &#x27;./components/test&#x27;</span><br><span class="line">import Test2 from &#x27;./components/test2&#x27;</span><br><span class="line">import Test3 from &#x27;./components/test3&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">       Test,</span><br><span class="line">       Test2,</span><br><span class="line">       Test3</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件:Test,Test2,Test3<br>Test</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!--</span><br><span class="line">      Vue封装的过度与动画：</span><br><span class="line"></span><br><span class="line">            作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名</span><br><span class="line">            图示：</span><br><span class="line">            [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-F7tX8Utw-1648820283412)(https://cn.vuejs.org/images/transition.png)]</span><br><span class="line"></span><br><span class="line">            写法：</span><br><span class="line"></span><br><span class="line">            准备好样式：</span><br><span class="line"></span><br><span class="line">            元素进入的样式：</span><br><span class="line"></span><br><span class="line">            v-enter：进入的起点</span><br><span class="line">            v-enter-active：进入过程中</span><br><span class="line">            v-enter-to：进入的终点</span><br><span class="line">            元素离开的样式：</span><br><span class="line"></span><br><span class="line">            v-leave：离开的起点</span><br><span class="line">            v-leave-active：离开过程中</span><br><span class="line">            v-leave-to：离开的终点</span><br><span class="line">            使用&lt;transition&gt;包裹要过度的元素，并配置name属性：</span><br><span class="line"></span><br><span class="line">            &lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">                &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">            &lt;/transition&gt;</span><br><span class="line">            备注：若有多个元素需要过度，则需要使用：&lt;transition-group&gt;，且每个元素都要指定key值</span><br><span class="line">    --&gt;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 </span><br><span class="line">    此处可以用来区分其他不同的功能部分</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;transition name=&quot;hello&quot; appear&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入 */</span><br><span class="line">    .hello-enter-active&#123;</span><br><span class="line">        animation: qinghua 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"> /* 样式离开 */</span><br><span class="line">   .hello-leave-active&#123;</span><br><span class="line">        animation: qinghua 0.5s reverse linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @keyframes qinghua&#123;</span><br><span class="line">        from&#123;</span><br><span class="line">            transform: translateX(-100%);</span><br><span class="line">        &#125;</span><br><span class="line">        to&#123;</span><br><span class="line">            transform: translateX(0px);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>Test2</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;!-- transition只能够放一个元素，transition能够放多个元素 并且要设定一个key值--&gt;</span><br><span class="line">    &lt;transition-group name=&quot;hello&quot; appear&gt;</span><br><span class="line">          &lt;!-- 其中一个isShow取反，实现交叉显示 --&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;清华大学&lt;/h1&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">        /* transition: 0.5s linear; */</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入的起点 与 样式离开的终点*/</span><br><span class="line">    .hello-enter, .hello-leave-to&#123;</span><br><span class="line">        transform:translateX(-100%);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">/* 样式进入时与离开时过程的速度的控制 */</span><br><span class="line">    .hello-enter-active,.hello-leave-active&#123;</span><br><span class="line">        transition: 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入的终点 与  样式离开的起点*/</span><br><span class="line">   .hello-enter-to,.hello-leave&#123;</span><br><span class="line">      transform:translateX(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>Test3</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;!-- transition只能够放一个元素，transition能够放多个元素 并且要设定一个key值--&gt;</span><br><span class="line">    &lt;!-- 在引入第三方库后，enter-active-class和 leave-active-class可以直接写在transition标签里，并且在name中写入对应的名称就可以应用样式了 --&gt;</span><br><span class="line">    &lt;transition-group </span><br><span class="line">        name=&quot;animate__animated animate__bounce&quot;</span><br><span class="line">        appear</span><br><span class="line">        enter-active-class=&quot;animate__jello&quot;</span><br><span class="line">        leave-active-class=&quot;animate__backOutUp&quot;</span><br><span class="line">    &gt;</span><br><span class="line">       </span><br><span class="line">         &lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;清华大学&lt;/h1&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#x27;animate.css&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">        /* transition: 0.5s linear; */</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="todolist-mylist-动画"><a href="#todolist-mylist-动画" class="headerlink" title="todolist_mylist_动画"></a>todolist_mylist_动画</h4><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //更新一个todo</span><br><span class="line">        updateTodo(id,title)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.title=title</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">        this.$bus.$on(&#x27;updateTodo&#x27;,this.updateTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;updateTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    	background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line">    .btn-edit &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        border: 1px solid rgb(24, 65, 82);</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    	outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Components中的组件与之前的Todolist案例的组件相同<br>MyList.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">       &lt;transition-group name=&quot;todo&quot; appear&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">       &lt;/transition-group&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     /* 样式进入 */</span><br><span class="line">    .todo-enter-active&#123;</span><br><span class="line">        animation: qinghua 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"> /* 样式离开 */</span><br><span class="line">   .todo-leave-active&#123;</span><br><span class="line">        animation: qinghua 0.5s reverse linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @keyframes qinghua&#123;</span><br><span class="line">        from&#123;</span><br><span class="line">            transform: translateX(100%);</span><br><span class="line">        &#125;</span><br><span class="line">        to&#123;</span><br><span class="line">            transform: translateX(0px);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyItem.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">      &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 编辑和展示的按钮不需要同时展示，所以两个功能是互斥的，展示的功能需要取v-show=&quot;!todo.isEdit&quot;,例如当原本的值为false时，给到这里后就是true，就展示出来--&gt;</span><br><span class="line">            &lt;span v-show=&quot;!todo.isEdit&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;input </span><br><span class="line">            type=&quot;text&quot; </span><br><span class="line">            v-show=&quot;todo.isEdit&quot; </span><br><span class="line">            :value=&quot;todo.title&quot;  </span><br><span class="line">            @blur=&quot;handleBlur(todo,$event)&quot;</span><br><span class="line">            ref=&quot;inputTitle&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;!-- $event用来获取最新的输入框数据 --&gt;</span><br><span class="line">            &lt;!--  @blur为失去焦点事件 --&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;/label&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">         &lt;button v-show=&quot;!todo.isEdit&quot; class=&quot;btn btn-edit&quot; @click=&quot;handleEdit(todo)&quot; &gt;编辑&lt;/button&gt;</span><br><span class="line">     &lt;/li&gt;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑按钮</span><br><span class="line">    handleEdit(todo)&#123;</span><br><span class="line">        //isEdit不必重复添加，因为在第一次编辑后，isEdit就已经成功追加</span><br><span class="line">        //如果再次编辑的话，就不必再追加isEdit，只需要改变isEdit的值即可</span><br><span class="line">        //hasOwnProperty用来判断是否拥有todo.isEdit</span><br><span class="line">        if(todo.hasOwnProperty(&#x27;isEdit&#x27;))&#123;</span><br><span class="line">            todo.isEdit=true</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">        //要写响应式数据，不能够把数据写死，把isEdit的值改成true，进入编辑状态</span><br><span class="line">        this.$set(todo,&#x27;isEdit&#x27;,true)</span><br><span class="line">        &#125;</span><br><span class="line">        //this.$nextTick在更新完dom模板之后，再执行此处的语句</span><br><span class="line">       this.$nextTick(function()&#123;</span><br><span class="line">        this.$refs.inputTitle.focus()</span><br><span class="line">       &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点时修改app上的数据</span><br><span class="line">    handleBlur(todo,e)&#123;</span><br><span class="line">        todo.isEdit=false</span><br><span class="line">        //当选项为空时，返回提示语句</span><br><span class="line">        if(!e.target.value) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">        this.$bus.$emit(&#x27;updateTodo&#x27;,todo.id,e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyHeader.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>MyFooter.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="配置代理服务器"><a href="#配置代理服务器" class="headerlink" title="配置代理服务器"></a>配置代理服务器</h3><p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--  vue脚手架配置代理服务器：</span><br><span class="line"></span><br><span class="line">方法一：在vue.config.js中添加如下配置：</span><br><span class="line"></span><br><span class="line">devServer:&#123;</span><br><span class="line">    proxy:&quot;http://localhost:5000&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">优点：配置简单，请求资源时直接发给前端即可</span><br><span class="line">缺点：不能配置多个代理，不能灵活的控制请求是否走代理</span><br><span class="line">工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</span><br><span class="line">方法二：</span><br><span class="line"></span><br><span class="line">devServer: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      	&#x27;/api1&#x27;: &#123; // 匹配所有以 &#x27;/api1&#x27;开头的请求路径</span><br><span class="line">        	target: &#x27;http://localhost:5000&#x27;,// 代理目标的基础路径</span><br><span class="line">        	changeOrigin: true,</span><br><span class="line">        	pathRewrite: &#123;&#x27;^/api1&#x27;: &#x27;&#x27;&#125;</span><br><span class="line">      	&#125;,</span><br><span class="line">      	&#x27;/api2&#x27;: &#123; // 匹配所有以 &#x27;/api2&#x27;开头的请求路径</span><br><span class="line">        	target: &#x27;http://localhost:5001&#x27;,// 代理目标的基础路径</span><br><span class="line">        	changeOrigin: true,</span><br><span class="line">        	pathRewrite: &#123;&#x27;^/api2&#x27;: &#x27;&#x27;&#125;</span><br><span class="line">      	&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span><br><span class="line">// changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">优点：可以配置多个代理，且可以灵活的控制请求是否走代理</span><br><span class="line">缺点：配置略微繁琐，请求资源时必须加前缀--&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;button @click=&quot;getStudents&quot;&gt;获取学生信息&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;getCar&quot;&gt;获取汽车信息&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">       getStudents()&#123;</span><br><span class="line">        //    axios用来处理ajax请求</span><br><span class="line">        //此处使用代理服务器处理跨域问题</span><br><span class="line">        // devServer不能配置多个代理，不能灵活的控制请求是否走代理</span><br><span class="line">        </span><br><span class="line">        //在devServer中写入一个前缀api，此处命名为qinghua，使用前缀后就相当于使用了的代理服务器</span><br><span class="line">        //使用这种形式的代理服务器时，代理服务器会把前缀名qinghua也一并带入请求网址中，而服务器的网址中并没有前缀的名称，前缀只用于代理服务的连接</span><br><span class="line">        //所以要在vue.config的配置文件中，把过滤条件设置好才可以正常访问服务器</span><br><span class="line">           axios.get(&#x27;http://localhost:8080/qinghua/students&#x27;).then(</span><br><span class="line">            //    axios返回的response是对象，想要获取数据要写入response.data</span><br><span class="line">               response=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;,response.data)</span><br><span class="line">               &#125;,</span><br><span class="line">            //    error.message获取错误信息</span><br><span class="line">               error=&gt;&#123;</span><br><span class="line">                   console.log(&#x27;请求失败了&#x27;,error.message)</span><br><span class="line">               &#125;</span><br><span class="line">           )</span><br><span class="line">       &#125;,</span><br><span class="line">       getCar()&#123;</span><br><span class="line">               axios.get(&#x27;http://localhost:8080/car/cars&#x27;).then(</span><br><span class="line">            //    axios返回的response是对象，想要获取数据要写入response.data</span><br><span class="line">               response=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;,response.data)</span><br><span class="line">               &#125;,</span><br><span class="line">            //    error.message获取错误信息</span><br><span class="line">               error=&gt;&#123;</span><br><span class="line">                   console.log(&#x27;请求失败了&#x27;,error.message)</span><br><span class="line">               &#125;</span><br><span class="line">           )</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="github搜索案例"><a href="#github搜索案例" class="headerlink" title="github搜索案例"></a>github搜索案例</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Search/&gt;</span><br><span class="line">        &lt;List/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &#x27;./components/Search.vue&#x27;</span><br><span class="line">import List from &#x27;./components/List.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">       Search,</span><br><span class="line">       List</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components下设置List.vue和Search.vue两个组件</p>
<p>Search.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">        &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; v-model=&quot;keyWord&quot;/&gt;&amp;nbsp;</span><br><span class="line">            &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Search&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            keyWord:&#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        searchUsers()&#123;</span><br><span class="line"></span><br><span class="line">            //请求前更新List的数据</span><br><span class="line">            //isFirst为欢迎语，只展示在用户一开始进入界面中的时候</span><br><span class="line">            this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isFirst:false,isLoding:true,errMsg:&#x27;&#x27;,users:[]&#125;)</span><br><span class="line">            //此处的网址已配置cors跨域</span><br><span class="line">            axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">                res=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;)</span><br><span class="line">                     //请求成功后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:&#x27;&#x27;,users:res.data.items&#125;)</span><br><span class="line">               &#125;,</span><br><span class="line">                err=&gt;&#123;</span><br><span class="line">                   </span><br><span class="line">                     //请求失败后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:err.message,users:[]&#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>List.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">       &lt;!--展示用户列表  --&gt;</span><br><span class="line">        &lt;div v-show=&quot;info.users.length&quot; class=&quot;card&quot; v-for=&quot;user in info.users&quot; :key=&quot;user.login&quot;&gt;</span><br><span class="line">            &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">            &lt;img :src=&quot;user.avatar_url&quot; style=&#x27;width: 100px&#x27;/&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;user.login&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 展示欢迎词 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isFirst&quot;&gt;欢迎使用!&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示加载中 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isLoading&quot;&gt;加载中....&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示错误信息 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123;info.errMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;List&#x27;,</span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">       info:&#123;</span><br><span class="line">        isFirst:true,</span><br><span class="line">        isLoading:false,</span><br><span class="line">        errMsg:&#x27;&#x27;,</span><br><span class="line">        users:[]</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">//此处接收数据</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$bus.$on(&#x27;upateListData&#x27;,(dataObj)=&gt;&#123;</span><br><span class="line">    //    此处为es6语法，以...dataObj为主，替换掉...this.info的数据，不破坏原来的结构</span><br><span class="line">       this.info=&#123;...this.info,...dataObj&#125;</span><br><span class="line">    console.log(this)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .album &#123;</span><br><span class="line">    min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">    padding-top: 3rem;</span><br><span class="line">    padding-bottom: 3rem;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 33.333%;</span><br><span class="line">    padding: .75rem;</span><br><span class="line">    margin-bottom: 2rem;</span><br><span class="line">    border: 1px solid #efefef;</span><br><span class="line">    text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &gt; img &#123;</span><br><span class="line">    margin-bottom: .75rem;</span><br><span class="line">    border-radius: 100px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card-text &#123;</span><br><span class="line">    font-size: 85%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h4 id="github搜索案例-vue-resource版本"><a href="#github搜索案例-vue-resource版本" class="headerlink" title="github搜索案例_vue-resource版本"></a>github搜索案例_vue-resource版本</h4><p>组件设置与上一个github搜索案例相同<br>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Search/&gt;</span><br><span class="line">        &lt;List/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &#x27;./components/Search.vue&#x27;</span><br><span class="line">import List from &#x27;./components/List.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">       Search,</span><br><span class="line">       List</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Search.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">        &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; v-model=&quot;keyWord&quot;/&gt;&amp;nbsp;</span><br><span class="line">            &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Search&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            keyWord:&#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        searchUsers()&#123;</span><br><span class="line"></span><br><span class="line">            //请求前更新List的数据</span><br><span class="line">            //isFirst为欢迎语，只展示在用户一开始进入界面中的时候</span><br><span class="line">            this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isFirst:false,isLoding:true,errMsg:&#x27;&#x27;,users:[]&#125;)</span><br><span class="line">            //此处的网址已配置cors跨域</span><br><span class="line">            //此处使用vue-resource中的$http，这个也是promise形式的</span><br><span class="line">            this.$http.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">                res=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;)</span><br><span class="line">                     //请求成功后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:&#x27;&#x27;,users:res.data.items&#125;)</span><br><span class="line">               &#125;,</span><br><span class="line">                err=&gt;&#123;</span><br><span class="line">                   </span><br><span class="line">                     //请求失败后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:err.message,users:[]&#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>List.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">       &lt;!--展示用户列表  --&gt;</span><br><span class="line">        &lt;div v-show=&quot;info.users.length&quot; class=&quot;card&quot; v-for=&quot;user in info.users&quot; :key=&quot;user.login&quot;&gt;</span><br><span class="line">            &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">            &lt;img :src=&quot;user.avatar_url&quot; style=&#x27;width: 100px&#x27;/&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;user.login&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 展示欢迎词 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isFirst&quot;&gt;欢迎使用!&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示加载中 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isLoading&quot;&gt;加载中....&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示错误信息 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123;info.errMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;List&#x27;,</span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">       info:&#123;</span><br><span class="line">        isFirst:true,</span><br><span class="line">        isLoading:false,</span><br><span class="line">        errMsg:&#x27;&#x27;,</span><br><span class="line">        users:[]</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">//此处接收数据</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$bus.$on(&#x27;upateListData&#x27;,(dataObj)=&gt;&#123;</span><br><span class="line">    //    此处为es6语法，以...dataObj为主，替换掉...this.info的数据，不破坏原来的结构</span><br><span class="line">       this.info=&#123;...this.info,...dataObj&#125;</span><br><span class="line">    console.log(this)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .album &#123;</span><br><span class="line">    min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">    padding-top: 3rem;</span><br><span class="line">    padding-bottom: 3rem;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 33.333%;</span><br><span class="line">    padding: .75rem;</span><br><span class="line">    margin-bottom: 2rem;</span><br><span class="line">    border: 1px solid #efefef;</span><br><span class="line">    text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &gt; img &#123;</span><br><span class="line">    margin-bottom: .75rem;</span><br><span class="line">    border-radius: 100px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card-text &#123;</span><br><span class="line">    font-size: 85%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;https://s3.ax1x.com/2021/01/16/srJlq0.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">			&lt;ul&gt;</span><br><span class="line">				&lt;li v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">			&lt;/ul&gt;</span><br><span class="line">		&lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">		&lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">			&lt;video controls src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;&gt;&lt;/video&gt;</span><br><span class="line">		&lt;/Category&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           foods:[&#x27;火锅&#x27;,&#x27;烧烤&#x27;,&#x27;小龙虾&#x27;,&#x27;牛排&#x27;],</span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line">           films:[&#x27;《教父》&#x27;,&#x27;《拆弹专家》&#x27;]</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components下放入Category.vue组件</p>
<p>Category.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;(item,index) in listData&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">        </span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- 定义插槽，将app中的数据填充此处 --&gt;</span><br><span class="line">      &lt;slot&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">            &lt;img slot=&quot;center&quot; src=&quot;https://s3.ax1x.com/2021/01/16/srJlq0.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;    </span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">			&lt;ul slot=&quot;center&quot;&gt;</span><br><span class="line">				&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">               </span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;div class=&quot;foot&quot; slot=&quot;footer&quot;&gt;</span><br><span class="line">             &lt;a  href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;  </span><br><span class="line">             &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;哔哩哔哩&lt;/a&gt;      </span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">		&lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">			&lt;video  slot=&quot;center&quot; controls src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;&gt;&lt;/video&gt;</span><br><span class="line">            &lt;!-- &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;     --&gt;</span><br><span class="line">            &lt;!-- v-slot只能够作用在template标签上 --&gt;</span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">            &lt;div class=&quot;foot&quot; &gt;</span><br><span class="line">             &lt;a  href=&quot;http://www.baidu.com&quot;&gt;经典&lt;/a&gt;  </span><br><span class="line">             &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;热门&lt;/a&gt;      </span><br><span class="line">            &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;推荐&lt;/a&gt;    </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">            &lt;h4&gt;欢迎观看&lt;/h4&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           foods:[&#x27;火锅&#x27;,&#x27;烧烤&#x27;,&#x27;小龙虾&#x27;,&#x27;牛排&#x27;],</span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line">           films:[&#x27;《教父》&#x27;,&#x27;《拆弹专家》&#x27;]</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container,.foot&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h4&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components下放入Category.vue组件</p>
<p>Category.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;(item,index) in listData&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">        </span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- 定义插槽，将app中的数据填充此处 --&gt;</span><br><span class="line">      &lt;!-- 定义具名插槽，也就是为插槽命名 --&gt;</span><br><span class="line">    </span><br><span class="line">      &lt;slot name=&quot;center&quot;&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">      &lt;slot name=&quot;footer&quot;&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p>main.js</p>
<figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">             &lt;!-- 在使用插槽时,想要接收另一个作用域的数据,就必须要写一个template标签,并在其中写入scop接收数据 --&gt;</span><br><span class="line">		&lt;!-- 生成的数据的格式是由此处的使用者而定，也就是template中的语句 --&gt;</span><br><span class="line">        &lt;!-- 此处使用es6的传值语法&#123;games&#125; --&gt;</span><br><span class="line">        &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">				&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">            &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;ol&gt;</span><br><span class="line">				&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ol&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">         &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">             &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;h5 v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h5&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">         &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container,.foot&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h4&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components下放入Category.vue组件</p>
<p>Category.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;!-- 在由于games的数据在category的作用域中，所以想要传数据到另一个作用域的时候，需要在slot标签中写入一个v-bind，</span><br><span class="line">      然后就可以把数据传输到另一个使用插槽的作用域 --&gt;</span><br><span class="line">      &lt;!-- 如果使用了v-for的方法，就可以在slot标签内使用:$index=&quot;index&quot;将遍历出来的序列号传输给父组件</span><br><span class="line">            在父组件中如果想要将子组件里传过来的index解析出来的话，就要将index序列号与需要的数据值配位一致，例如slot-scope=&quot;&#123;todo,$index&#125;&quot;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;slot :games=&quot;games&quot;&gt;这是默认的内容&lt;/slot&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;title&#x27;],</span><br><span class="line">    data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           </span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line"> </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="认识Vuex"><a href="#认识Vuex" class="headerlink" title="认识Vuex"></a>认识Vuex</h3><h4 id="vuex官方解释"><a href="#vuex官方解释" class="headerlink" title="vuex官方解释"></a>vuex官方解释</h4><p>  Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式 + 库。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p>
<p>Vuex 可以帮助我们管理共享状态，并附带了更多的概念和框架。这需要对短期和长期效益进行权衡。</p>
<p>如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。确实是如此——如果您的应用够简单，您最好不要使用 Vuex。一个简单的 store 模式就足够您所需了。但是，如果您需要构建一个中大型单页应用，您很可能会考虑如何更好地在组件外部管理状态，Vuex 将会成为自然而然的选择。</p>
<p>而在接下来的案例中，将会使用vuex进行案例的构建，以及使用纯vue的版本与vuex的版本进行比对</p>
<p>vuex的安装<br>npm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex@next --save</span><br></pre></td></tr></table></figure>
<p>yarn</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vuex@next --save</span><br></pre></td></tr></table></figure>
<h3 id="求和案例-纯vue版本"><a href="#求和案例-纯vue版本" class="headerlink" title="求和案例_纯vue版本"></a>求和案例_纯vue版本</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在vuex中，我们需要设置一个store文件来进行状态的管理<br>我们可以在src目录下创建了一个store文件夹，其中的index.js文件则是状态管理文件<br>index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">	jia(context,value)&#123;</span><br><span class="line">		// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">		context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">	JIA(state,value)&#123;</span><br><span class="line">		// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">		state.sum += value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	actions,</span><br><span class="line">	mutations,</span><br><span class="line">	state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0 //当前的和</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>components组件:Count.vue</p>
<p>Count.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;$store.state.sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">			increment()&#123;</span><br><span class="line">			//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">			this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			decrement()&#123;</span><br><span class="line">			this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementOdd()&#123;</span><br><span class="line">                </span><br><span class="line">				this.$store.dispatch(&#x27;addOdd&#x27;,this.n)</span><br><span class="line">				</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementWait()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="求和案例-使用了getter、mapState和mapGetters"><a href="#求和案例-使用了getter、mapState和mapGetters" class="headerlink" title="求和案例_使用了getter、mapState和mapGetters"></a>求和案例_使用了getter、mapState和mapGetters</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>store&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">	jia(context,value)&#123;</span><br><span class="line">		// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">		context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">	JIA(state,value)&#123;</span><br><span class="line">		// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">		state.sum += value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	actions,</span><br><span class="line">	mutations,</span><br><span class="line">	state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">	bigSum(state)&#123;</span><br><span class="line">		return state.sum * 10</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	...</span><br><span class="line">	getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>components组件：Count.vue</p>
<p>Count.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;mapState,mapGetters&#125; from &#x27;vuex&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		//此处为靠自己手打的计算属性</span><br><span class="line">		computed:&#123;</span><br><span class="line">		// 	sum()&#123;</span><br><span class="line">		// 		return this.$store.state.sum</span><br><span class="line">		// 	&#125;,</span><br><span class="line">		// 	school()&#123;</span><br><span class="line">		// 		return this.$store.state.school</span><br><span class="line">		// 	&#125;,</span><br><span class="line">		// 	subject()&#123;</span><br><span class="line">		// 		return this.$store.state.subject</span><br><span class="line">		// 	&#125;,</span><br><span class="line">		</span><br><span class="line"></span><br><span class="line">		//此处使用es6的展开语法</span><br><span class="line">		//mapState自动生成计算属性，从state中读取数据(对象写法)</span><br><span class="line">		// ...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;),</span><br><span class="line">		</span><br><span class="line">		//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">		// 此处的数组写法既可以声明计算属性名，也可以声明state后的变量名，而计算属性名要和state中的变量名相同</span><br><span class="line">		  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line">		</span><br><span class="line">		/*--------------------------------------*/</span><br><span class="line">			// bigSum()&#123;</span><br><span class="line">			// 	return this.$store.getters.bigSum</span><br><span class="line">			// &#125;</span><br><span class="line"></span><br><span class="line">			//使用mapGetters自动生成getter的计算属性，从getter中获取数据(对象写法)</span><br><span class="line">			// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line">			//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">			...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">			increment()&#123;</span><br><span class="line">			//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">			this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			decrement()&#123;</span><br><span class="line">			this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementOdd()&#123;</span><br><span class="line">                </span><br><span class="line">				this.$store.dispatch(&#x27;addOdd&#x27;,this.n)</span><br><span class="line">				</span><br><span class="line">			&#125;,</span><br><span class="line">			incrementWait()&#123;</span><br><span class="line">				this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">			&#125;,</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted()&#123;</span><br><span class="line">			const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">			console.log(x)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="求和案例-使用mapMutations与mapActions"><a href="#求和案例-使用mapMutations与mapActions" class="headerlink" title="求和案例_使用mapMutations与mapActions"></a>求和案例_使用mapMutations与mapActions</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>store&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">	jia(context,value)&#123;</span><br><span class="line">		// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">		context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">	JIA(state,value)&#123;</span><br><span class="line">		// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">		state.sum += value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	actions,</span><br><span class="line">	mutations,</span><br><span class="line">	state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">	bigSum(state)&#123;</span><br><span class="line">		return state.sum * 10</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	...</span><br><span class="line">	getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>components组件：Count.vue</p>
<p>Count.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		</span><br><span class="line">		&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;mapState,mapGetters,mapMutations,mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		</span><br><span class="line">		computed:&#123;</span><br><span class="line">		</span><br><span class="line">		//此处使用es6的展开语法</span><br><span class="line">		//mapState自动生成计算属性，从state中读取数据(对象写法)</span><br><span class="line">		// ...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;),</span><br><span class="line">		</span><br><span class="line">		//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">		// 此处的数组写法既可以声明计算属性名，也可以连接state中的方法名，而计算属性名要和state中的方法名相同</span><br><span class="line">		  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line">		</span><br><span class="line">		/*--------------------------------------*/</span><br><span class="line">			</span><br><span class="line">			//使用mapGetters自动生成getter的计算属性，从getter中获取数据(对象写法)</span><br><span class="line">			// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">			//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">			...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line">			//此处为手写的方法代码</span><br><span class="line">			// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">			//increment()&#123;</span><br><span class="line">			//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">			// this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">			// &#125;,</span><br><span class="line">			// decrement()&#123;</span><br><span class="line">			// this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">			// &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">			//此处在生成函数时，会接收button按钮上的event点击事件，从而传输到mutation中，造成错误</span><br><span class="line">			//所以需要在按钮上的函数名后接上data中的值</span><br><span class="line">			...mapMutations(&#123;increment:&#x27;ADD&#x27;,decrement:&#x27;REDUCE&#x27;&#125;),</span><br><span class="line">			</span><br><span class="line">			</span><br><span class="line">			//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">			//此处数组中的值是声明本文件中的方法名和连接mutation的方法名的，两边需要名称相同才可以实现相应的功能</span><br><span class="line">			// ...mapMutations([&#x27;ADD&#x27;,&#x27;REDUCE&#x27;]),</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line">			// -----------------------------------------</span><br><span class="line">			// 手写的方法代码</span><br><span class="line">			// incrementOdd()&#123;</span><br><span class="line">			// 	this.$store.dispatch(&#x27;addOdd&#x27;,this.n)	</span><br><span class="line">			// &#125;,</span><br><span class="line">			// incrementWait()&#123;</span><br><span class="line">			// 	this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">			// &#125;,</span><br><span class="line">			</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">			...mapActions(&#123;incrementOdd:&#x27;addOdd&#x27;,incrementWait:&#x27;addWait&#x27;&#125;)</span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">			// ...mapActions([&#x27;addOdd&#x27;,&#x27;addWait&#x27;])</span><br><span class="line">		</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted()&#123;</span><br><span class="line">			const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">			console.log(x)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="求和案例-多组件共享数据"><a href="#求和案例-多组件共享数据" class="headerlink" title="求和案例_多组件共享数据"></a>求和案例_多组件共享数据</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;Person/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count,</span><br><span class="line">    Person</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>store&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">	jia(context,value)&#123;</span><br><span class="line">		// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">		context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">	&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">	JIA(state,value)&#123;</span><br><span class="line">		// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">		state.sum += value</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	actions,</span><br><span class="line">	mutations,</span><br><span class="line">	state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;,</span><br><span class="line">    ADD_PERSON(state, value) &#123;</span><br><span class="line">        console.log(&#x27;ADD_PERSON被调用了 mutations&#x27;)</span><br><span class="line">        state.personList.unshift(value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;,</span><br><span class="line">    personList: [</span><br><span class="line">        &#123; id: &#x27;001&#x27;, name: &#x27;张三&#x27; &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">	bigSum(state)&#123;</span><br><span class="line">		return state.sum * 10</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">	...</span><br><span class="line">	getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>components下在组件：Count.vue,Person.vue</p>
<p>Count.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">	&lt;div&gt;</span><br><span class="line">		&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">		&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">		&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;h3 style=&quot;color:red&quot;&gt;Person的总人数是：&#123;&#123;personList.length&#125;&#125;&lt;/h3&gt;</span><br><span class="line">		&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">		&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">			&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">			&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">		&lt;/select&gt;</span><br><span class="line">		&lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">		&lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">	&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">	import &#123;mapState,mapGetters,mapMutations,mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">	export default &#123;</span><br><span class="line">		name:&#x27;Count&#x27;,</span><br><span class="line">		data() &#123;</span><br><span class="line">			return &#123;</span><br><span class="line">				n:1, //用户选择的数字</span><br><span class="line">				</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;,</span><br><span class="line">		</span><br><span class="line">		computed:&#123;</span><br><span class="line">		//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">		// 此处的数组写法既可以声明计算属性名，也可以连接state中的方法名，而计算属性名要和state中的方法名相同</span><br><span class="line">		  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;,&#x27;personList&#x27;]),</span><br><span class="line">		</span><br><span class="line">		/*--------------------------------------*/</span><br><span class="line">			</span><br><span class="line">			//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">			...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">		&#125;,</span><br><span class="line">		methods: &#123;</span><br><span class="line"></span><br><span class="line">			//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">			//此处在生成函数时，会接收button按钮上的event点击事件，从而传输到mutation中，造成错误</span><br><span class="line">			//所以需要在按钮上的函数名后接上data中的值</span><br><span class="line">			...mapMutations(&#123;increment:&#x27;ADD&#x27;,decrement:&#x27;REDUCE&#x27;&#125;),</span><br><span class="line">					</span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">			...mapActions(&#123;incrementOdd:&#x27;addOdd&#x27;,incrementWait:&#x27;addWait&#x27;&#125;)</span><br><span class="line">			//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">			// ...mapActions([&#x27;addOdd&#x27;,&#x27;addWait&#x27;])</span><br><span class="line">		</span><br><span class="line">		&#125;,</span><br><span class="line">		mounted()&#123;</span><br><span class="line">			const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">			console.log(x)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">	button&#123;</span><br><span class="line">		margin-left: 5px;</span><br><span class="line">	&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Person.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">      &lt;h1&gt;人员列表&lt;/h1&gt;</span><br><span class="line">      &lt;h3 style=&quot;color:red&quot;&gt;Count组件的求和为&#123;&#123;sum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; placeholder=&quot;请输入名字&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">      &lt;button @click=&quot;add&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;p in personList&quot; :key=&quot;p.id&quot;&gt;&#123;&#123;p.name&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&quot;Preson&quot;,</span><br><span class="line">    data()&#123;</span><br><span class="line">      return&#123;</span><br><span class="line">        name:&#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">     personList()&#123;</span><br><span class="line">      return this.$store.state.personList</span><br><span class="line">     &#125;,</span><br><span class="line">     sum()&#123;</span><br><span class="line">       return this.$store.state.sum</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      add()&#123;</span><br><span class="line">        const personObj=&#123;id:nanoid(),name:this.name&#125;</span><br><span class="line">        this.$store.commit(&#x27;ADD_PERSON&#x27;,personObj)</span><br><span class="line">        this.name=&#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="求和案例-模块化编码"><a href="#求和案例-模块化编码" class="headerlink" title="求和案例_模块化编码"></a>求和案例_模块化编码</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- </span><br><span class="line">   模块化+命名空间：</span><br><span class="line"></span><br><span class="line">目的：让代码更好维护，让多种数据分类更加明确</span><br><span class="line"></span><br><span class="line">修改store.js：</span><br><span class="line"></span><br><span class="line">const countAbout = &#123;</span><br><span class="line">	namespaced:true,//开启命名空间</span><br><span class="line">	state:&#123;x:1&#125;,</span><br><span class="line">    mutations: &#123; ... &#125;,</span><br><span class="line">    actions: &#123; ... &#125;,</span><br><span class="line">  	getters: &#123;</span><br><span class="line">    	bigSum(state)&#123;</span><br><span class="line">       		return state.sum * 10</span><br><span class="line">    	&#125;</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const personAbout = &#123;</span><br><span class="line">  	namespaced:true,//开启命名空间</span><br><span class="line">  	state:&#123; ... &#125;,</span><br><span class="line">  	mutations: &#123; ... &#125;,</span><br><span class="line">  	actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  	modules: &#123;</span><br><span class="line">    	countAbout,</span><br><span class="line">    	personAbout</span><br><span class="line">  	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中读取state数据：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接读取</span><br><span class="line">this.$store.state.personAbout.list</span><br><span class="line">//方式二：借助mapState读取：</span><br><span class="line">...mapState(&#x27;countAbout&#x27;,[&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中读取getters数据：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接读取</span><br><span class="line">this.$store.getters[&#x27;personAbout/firstPersonName&#x27;]</span><br><span class="line">//方式二：借助mapGetters读取：</span><br><span class="line">...mapGetters(&#x27;countAbout&#x27;,[&#x27;bigSum&#x27;])</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中调用dispatch：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接dispatch</span><br><span class="line">this.$store.dispatch(&#x27;personAbout/addPersonWang&#x27;,person)</span><br><span class="line">//方式二：借助mapActions：</span><br><span class="line">...mapActions(&#x27;countAbout&#x27;,&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中调用commit：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接commit</span><br><span class="line">this.$store.commit(&#x27;personAbout/ADD_PERSON&#x27;,person)</span><br><span class="line">//方式二：借助mapMutations：</span><br><span class="line">...mapMutations(&#x27;countAbout&#x27;,&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;),</span><br><span class="line">  --&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;Person/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count,</span><br><span class="line">     Person</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>store&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//引入countOptions</span><br><span class="line">import countOptions from &#x27;./count&#x27;</span><br><span class="line">//引入personOptions</span><br><span class="line">import personOptions from &#x27;./person&#x27;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    //使用modules来声明分类好的模块配置</span><br><span class="line">    modules: &#123;</span><br><span class="line">        countAbout: countOptions,</span><br><span class="line">        personAbout: personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>store&#x2F;count.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    //开启命名空间</span><br><span class="line">    namespaced: true,</span><br><span class="line">    //准备actions--用于响应组件中的动作</span><br><span class="line">    actions: &#123;</span><br><span class="line">        addOdd(context, value) &#123;</span><br><span class="line">            console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">                //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">            if (context.state.sum % 2) &#123;</span><br><span class="line">                context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        addWait(context, value) &#123;</span><br><span class="line">            console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">                //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">            setTimeout(() =&gt; &#123;</span><br><span class="line">                context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">            &#125;, 500);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备mutation--用于操作数据(state)</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        ADD(state, value) &#123;</span><br><span class="line">            console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">            state.sum += value</span><br><span class="line">        &#125;,</span><br><span class="line">        REDUCE(state, value) &#123;</span><br><span class="line">            console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">            state.sum -= value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备state--用于存储数据</span><br><span class="line">    state: &#123;</span><br><span class="line">        sum: 0, //当前的和</span><br><span class="line">        school: &#x27;清华大学&#x27;,</span><br><span class="line">        subject: &#x27;线性代数&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备getters--用于将state中的数据进行加工</span><br><span class="line">    getters: &#123;</span><br><span class="line"></span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>store&#x2F;person.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//人员管理功能相关的配置</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">import &#123; nanoid &#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    namespaced: true,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        addPersonWang(context, value) &#123;</span><br><span class="line">            if (value.name.indexOf(&#x27;王&#x27;) === 0) &#123;</span><br><span class="line">                context.commit(&#x27;ADD_PERSON&#x27;, value)</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                alert(&#x27;添加的人必须姓王&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        //调用api</span><br><span class="line">        addPersonServer(context) &#123;</span><br><span class="line">            axios.get(&#x27;https://api.uixsj.cn/hitokoto/get?type=social&#x27;).then(</span><br><span class="line">                res =&gt; &#123;</span><br><span class="line">                    context.commit(&#x27;ADD_PERSON&#x27;, &#123; id: nanoid(), name: res.data &#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                err =&gt; &#123;</span><br><span class="line">                    alert(err.message)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        ADD_PERSON(state, value) &#123;</span><br><span class="line">            console.log(&#x27;ADD_PERSON被调用了 mutations&#x27;)</span><br><span class="line">            state.personList.unshift(value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    state: &#123;</span><br><span class="line">        personList: [</span><br><span class="line">            &#123; id: &#x27;001&#x27;, name: &#x27;张三&#x27; &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        firstPersonName(state) &#123;</span><br><span class="line">            return state.personList[0].name</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="认识vue-route"><a href="#认识vue-route" class="headerlink" title="认识vue-route"></a>认识vue-route</h3><p>vue-router是什么<br>这里的路由并不是指我们平时所说的硬件路由器，这里的路由就是SPA（单页应用）的路径管理器。再通俗的说，vue-router就是WebApp的链接路径管理系统。<br>vue-router是Vue.js官方的路由插件，它和vue.js是深度集成的，适合用于构建单页面应用。vue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来。传统的页面应用，是用一些超链接来实现页面切换和跳转的。在vue-router单页面应用中，则是路径之间的切换，也就是组件的切换。路由模块的本质 就是建立起url和页面之间的映射关系。</p>
<p>vue-route的安装<br>npm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-router -S</span><br></pre></td></tr></table></figure>
<h3 id="vue-route的基本使用"><a href="#vue-route的基本使用" class="headerlink" title="vue-route的基本使用"></a>vue-route的基本使用</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>在vue-route中，我们需要创建一个route文件对路由进行管理<br>此处在src目录下创建一个router文件，其中的index.js文件存放路由配置信息<br>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 什么是路由?</span><br><span class="line"></span><br><span class="line">一个路由就是一组映射关系（key - value）</span><br><span class="line">key 为路径，value 可能是 function 或 componen</span><br><span class="line">路由分类</span><br><span class="line"></span><br><span class="line">后端路由：</span><br><span class="line"></span><br><span class="line">理解：value 是 function，用于处理客户端提交的请求</span><br><span class="line">工作过程：服务器接收到一个请求时，根据请求路径找到匹配的函数来处理请求，返回响应数据</span><br><span class="line">前端路由：</span><br><span class="line"></span><br><span class="line">理解：value 是 component，用于展示页面内容</span><br><span class="line">工作过程：当浏览器的路径改变时，对应的组件就会显示</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入VueRouter</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入Luyou 组件</span><br><span class="line">import About from &#x27;../components/About&#x27;</span><br><span class="line">import Home from &#x27;../components/Home&#x27;</span><br><span class="line"></span><br><span class="line">//创建router实例对象，去管理一组一组的路由规则</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">	routes:[</span><br><span class="line">		&#123;</span><br><span class="line">			path:&#x27;/about&#x27;,</span><br><span class="line">			component:About</span><br><span class="line">		&#125;,</span><br><span class="line">		&#123;</span><br><span class="line">			path:&#x27;/home&#x27;,</span><br><span class="line">			component:Home</span><br><span class="line">		&#125;</span><br><span class="line">	]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//暴露router</span><br><span class="line">export default router</span><br><span class="line">实现切换（active-class可配置高亮样式）：</span><br><span class="line"></span><br><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">指定展示位：&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../components/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../components/Home.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>components组件：About.vue，Home.vue</p>
<p>About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;我是About的内容&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;我是Home的内容&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  配置路由规则，使用children配置项：</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">	&#123;</span><br><span class="line">		path:&#x27;/about&#x27;,</span><br><span class="line">		component:About,</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		path:&#x27;/home&#x27;,</span><br><span class="line">		component:Home,</span><br><span class="line">		children:[ //通过children配置子级路由</span><br><span class="line">			&#123;</span><br><span class="line">				path:&#x27;news&#x27;, //此处一定不要写：/news</span><br><span class="line">				component:News</span><br><span class="line">			&#125;,</span><br><span class="line">			&#123;</span><br><span class="line">				path:&#x27;message&#x27;, //此处一定不要写：/message</span><br><span class="line">				component:Message</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">跳转（要写完整路径）：&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>此处在src目录下设置pages文件夹，用于存放路由管理的页面</p>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message1&quot;&gt;message001&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message2&quot;&gt;message002&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message/3&quot;&gt;message003&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="路由的query参数"><a href="#路由的query参数" class="headerlink" title="路由的query参数"></a>路由的query参数</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(this.$route)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h3><p>main.js</p>
<figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt;</span><br><span class="line">  </span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(this.$route)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="路由的params参数"><a href="#路由的params参数" class="headerlink" title="路由的params参数"></a>路由的params参数</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line">                        //使用params时，需要在path中表明id和title的占位符</span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        &lt;!-- 跳转路由并携带params参数，to的字符串写法 --&gt;</span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail/$&#123;n.id&#125;/$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             //在使用params参数时，只能够写name字段，不能够写path字段</span><br><span class="line">             name:&#x27;xiangqing&#x27;,   </span><br><span class="line">            params:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">  </span><br><span class="line">       &lt;li&gt;消息编号：&#123;&#123;$route.params.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.params.title&#125;&#125;&lt;/li&gt; </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    // mounted()&#123;</span><br><span class="line">    //     console.log(this.$route)</span><br><span class="line">    // &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="路由props配置"><a href="#路由props配置" class="headerlink" title="路由props配置"></a>路由props配置</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="router-link的replace属性"><a href="#router-link的replace属性" class="headerlink" title="router-link的replace属性"></a>router-link的replace属性</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;!-- replace作用：控制路由跳转时操作浏览器历史记录的模式--&gt;</span><br><span class="line">          &lt;!-- replace用来替换原来进入后一开始的历史记录--&gt;</span><br><span class="line">          &lt;!-- 浏览器的历史记录有两种写入方式：push和replace，其中push是追加历史记录，replace是替换当前记录。路由跳转时候默认为push方式</span><br><span class="line">开启replace模式：&lt;router-link replace ...&gt;News&lt;/router-link&gt; --&gt;</span><br><span class="line">          &lt;router-link replace class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link replace class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="缓存路由组件"><a href="#缓存路由组件" class="headerlink" title="缓存路由组件"></a>缓存路由组件</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="路由中两个生命周期钩子"><a href="#路由中两个生命周期钩子" class="headerlink" title="路由中两个生命周期钩子"></a>路由中两个生命周期钩子</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">//后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="独享路由守卫"><a href="#独享路由守卫" class="headerlink" title="独享路由守卫"></a>独享路由守卫</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                        &#123;</span><br><span class="line">                            // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                            console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                            //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                            if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                                //判断localStorage的值</span><br><span class="line">                                if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                                    next()</span><br><span class="line">                                &#125; else &#123;</span><br><span class="line">                                    alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                                next()</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">//后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue<br>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="组件内路由守卫"><a href="#组件内路由守卫" class="headerlink" title="组件内路由守卫"></a>组件内路由守卫</h3><p>main.js</p>
<figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    // beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                    //     &#123;</span><br><span class="line">                    //         // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                    //         console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                    //         //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                    //         if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                    //             //判断localStorage的值</span><br><span class="line">                    //             if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                    //                 next()</span><br><span class="line">                    //             &#125; else &#123;</span><br><span class="line">                    //                 alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                    //             &#125;</span><br><span class="line">                    //         &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                    //             next()</span><br><span class="line">                    //         &#125;</span><br><span class="line">                    //     &#125;</span><br><span class="line">                    // &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">// 后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line">  //组件内路由守卫</span><br><span class="line">  // 与全局路由守卫不同的是，组件内路由守卫是观察进出的动作的，例如进入此组件时，就会调用 beforeRouteEnter，而不会立即调用beforeRouteLeave，只有在离开此组件时，才会触发beforeRouteLeave</span><br><span class="line">  //通过路由规则，进入该组件时被调用</span><br><span class="line">  beforeRouteEnter(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发进入时的路由守卫&#x27;,to,from)</span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //通过路由规则，离开该组件时被调用</span><br><span class="line">  beforeRouteLeave(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发离开时的路由守卫&#x27;,to,from)</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue</p>
<p>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<h3 id="hash和history的区别"><a href="#hash和history的区别" class="headerlink" title="hash和history的区别"></a>hash和history的区别</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>router&#x2F;index.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">/**</span><br><span class="line"> * 路由器的两种工作模式</span><br><span class="line">对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值</span><br><span class="line"></span><br><span class="line">hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器</span><br><span class="line"></span><br><span class="line">hash模式：</span><br><span class="line"></span><br><span class="line">地址中永远带着#号，不美观</span><br><span class="line">若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法</span><br><span class="line">兼容性较好</span><br><span class="line">history模式：</span><br><span class="line"></span><br><span class="line">地址干净，美观</span><br><span class="line">兼容性和hash模式相比略差</span><br><span class="line">应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    // 路由的运作模式默认为hash，路径的标识是/#/，可以且换成history</span><br><span class="line">    // 但是history上面有一个缺陷，就是路径上的东西都会当做资源路径请求</span><br><span class="line">    mode: &#x27;history&#x27;,</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    // beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                    //     &#123;</span><br><span class="line">                    //         // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                    //         console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                    //         //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                    //         if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                    //             //判断localStorage的值</span><br><span class="line">                    //             if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                    //                 next()</span><br><span class="line">                    //             &#125; else &#123;</span><br><span class="line">                    //                 alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                    //             &#125;</span><br><span class="line">                    //         &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                    //             next()</span><br><span class="line">                    //         &#125;</span><br><span class="line">                    //     &#125;</span><br><span class="line">                    // &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">// 后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Detail.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Home.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;Message.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>pages&#x2F;News.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>
<p>pages&#x2F;About.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line">  //组件内路由守卫</span><br><span class="line">  // 与全局路由守卫不同的是，组件内路由守卫是观察进出的动作的，例如进入此组件时，就会调用 beforeRouteEnter，而不会立即调用beforeRouteLeave，只有在离开此组件时，才会触发beforeRouteLeave</span><br><span class="line">  //通过路由规则，进入该组件时被调用</span><br><span class="line">  beforeRouteEnter(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发进入时的路由守卫&#x27;,to,from)</span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //通过路由规则，离开该组件时被调用</span><br><span class="line">  beforeRouteLeave(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发离开时的路由守卫&#x27;,to,from)</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>components组件：Banner.vue<br>Banner.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>

<h3 id="认识element-ui"><a href="#认识element-ui" class="headerlink" title="认识element-ui"></a>认识element-ui</h3><p>Element-Ul是饿了么前端团队推出的一款基于Vue.js 2.0 的桌面端UI框架，一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库，手机端有对应框架是Mint UI 。</p>
<p>中文文档：<a target="_blank" rel="noopener" href="http://element-cn.eleme.io/#/zh-CN">http://element-cn.eleme.io/#/zh-CN</a> github地址：<a target="_blank" rel="noopener" href="https://github.com/ElemeFE/element">https://github.com/ElemeFE/element</a></p>
<p>安装element-ui<br>npm</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure>

<h3 id="使用element-ui"><a href="#使用element-ui" class="headerlink" title="使用element-ui"></a>使用element-ui</h3><p>main.js</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//完整引入</span><br><span class="line">// 引入element-ui组件库</span><br><span class="line">// import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">// 引入ElementUI的样式</span><br><span class="line">// import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line">//使用ElementUI</span><br><span class="line">// Vue.use(ElementUI);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button&gt;原生的按钮&lt;/button&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot;&gt;</span><br><span class="line">  &lt;el-row&gt;</span><br><span class="line">    &lt;el-button&gt;默认按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;primary&quot;&gt;主要按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;success&quot;&gt;成功按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;info&quot;&gt;信息按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;warning&quot;&gt;警告按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot;&gt;危险按钮&lt;/el-button&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;block&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;demonstration&quot;&gt;默认&lt;/span&gt;</span><br><span class="line">    &lt;el-date-picker</span><br><span class="line">      v-model=&quot;value1&quot;</span><br><span class="line">      type=&quot;date&quot;</span><br><span class="line">      placeholder=&quot;选择日期&quot;&gt;</span><br><span class="line">    &lt;/el-date-picker&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-button icon=&quot;el-icon-search&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-platform-eleme&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;success&quot; icon=&quot;el-icon-check&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;info&quot; icon=&quot;el-icon-message&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;warning&quot; icon=&quot;el-icon-star-off&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;danger&quot; icon=&quot;el-icon-delete&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以上是本文的全部内容，如果你觉得这篇文章能够帮助到你，或者有什么问题的话，欢迎在评论区中留言！</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="https://sparkgalaxy.gitee.io">SparkGalaxy</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://sparkgalaxy.gitee.io/posts/803cac184de3/">https://sparkgalaxy.gitee.io/posts/803cac184de3/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://sparkgalaxy.gitee.io" target="_blank">SparkGalaxy_blog</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Vue/">Vue</a><a class="post-meta__tags" href="/tags/Vue-CLI/">Vue CLI</a></div><div class="post_share"><div class="social-share" data-image="/images/pasted-157.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="/img/alipay.jpg" target="_blank"><img class="post-qr-code-img" src="/img/alipay.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/posts/72ed8eade779/" title="Vue学习笔记（安装脚手架）"><img class="cover" src="/images/pasted-157.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Vue学习笔记（安装脚手架）</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/posts/72ed8eade779/" title="Vue学习笔记（安装脚手架）"><img class="cover" src="/images/pasted-157.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-23</div><div class="title">Vue学习笔记（安装脚手架）</div></div></a></div><div><a href="/posts/153a7b00a80e/" title="Vue学习笔记（基础部分）"><img class="cover" src="/images/pasted-151.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-07-18</div><div class="title">Vue学习笔记（基础部分）</div></div></a></div></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="lv-container" data-id="city" data-uid="MTAyMC81ODcxOC8zNTE4MA=="></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/man.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">SparkGalaxy</div><div class="author-info__description">记录学习与进步</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">5</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">4</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/discoveryoffice"><i class="fab fa-github"></i><span>Follow Me To GitHub</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/discoveryoffice" target="_blank" title="Github"><i class="fab fa-github" style="color: #24292e;"></i></a><a class="social-icon" href="mailto:2390656110@QQ.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color: #4a7dbe;"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到SparkGalaxy_blog！</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%A6%E4%B9%A0%E5%89%8D%E5%87%86%E5%A4%87"><span class="toc-number">1.</span> <span class="toc-text">学习前准备</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%94%E8%AE%B0%E5%BC%80%E5%A7%8B"><span class="toc-number">2.</span> <span class="toc-text">笔记开始</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E8%84%9A%E6%89%8B%E6%9E%B6%E9%A1%B9%E7%9B%AE%E6%9E%84%E9%80%A0"><span class="toc-number">2.1.</span> <span class="toc-text">认识脚手架项目构造</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90src"><span class="toc-number">2.2.</span> <span class="toc-text">解析src</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ref%E5%B1%9E%E6%80%A7%E7%9A%84%E8%BF%90%E7%94%A8"><span class="toc-number">2.3.</span> <span class="toc-text">ref属性的运用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#maxin%E6%B7%B7%E5%90%88"><span class="toc-number">2.4.</span> <span class="toc-text">maxin混合</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%92%E4%BB%B6plugins"><span class="toc-number">2.5.</span> <span class="toc-text">插件plugins</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scoped%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.6.</span> <span class="toc-text">scoped的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#todoList%E6%A1%88%E4%BE%8B"><span class="toc-number">2.7.</span> <span class="toc-text">todoList案例</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B5%8F%E8%A7%88%E5%99%A8%E5%82%A8%E5%AD%98"><span class="toc-number">2.8.</span> <span class="toc-text">浏览器储存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">2.9.</span> <span class="toc-text">组件的自定义事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#todolist%E6%A1%88%E4%BE%8B-%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">2.9.1.</span> <span class="toc-text">todolist案例_自定义组件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF"><span class="toc-number">2.10.</span> <span class="toc-text">全局事件总线</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E2%80%94%E2%80%94todolist%E6%A1%88%E4%BE%8B"><span class="toc-number">2.10.1.</span> <span class="toc-text">全局事件总线——todolist案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83"><span class="toc-number">2.11.</span> <span class="toc-text">消息订阅与发布</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83%E2%80%94%E2%80%94todolist%E6%A1%88%E4%BE%8B"><span class="toc-number">2.11.1.</span> <span class="toc-text">消息订阅与发布——todolist案例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#todolist-myitem-nextTick"><span class="toc-number">2.12.</span> <span class="toc-text">todolist_myitem_nextTick</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%87%E6%B8%A1%E4%B8%8E%E5%8A%A8%E7%94%BB"><span class="toc-number">2.13.</span> <span class="toc-text">过渡与动画</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#todolist-mylist-%E5%8A%A8%E7%94%BB"><span class="toc-number">2.13.1.</span> <span class="toc-text">todolist_mylist_动画</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">2.14.</span> <span class="toc-text">配置代理服务器</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#github%E6%90%9C%E7%B4%A2%E6%A1%88%E4%BE%8B"><span class="toc-number">2.15.</span> <span class="toc-text">github搜索案例</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#github%E6%90%9C%E7%B4%A2%E6%A1%88%E4%BE%8B-vue-resource%E7%89%88%E6%9C%AC"><span class="toc-number">2.15.1.</span> <span class="toc-text">github搜索案例_vue-resource版本</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD"><span class="toc-number">2.16.</span> <span class="toc-text">默认插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-number">2.17.</span> <span class="toc-text">具名插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">2.18.</span> <span class="toc-text">作用域插槽</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86Vuex"><span class="toc-number">2.19.</span> <span class="toc-text">认识Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E5%AE%98%E6%96%B9%E8%A7%A3%E9%87%8A"><span class="toc-number">2.19.1.</span> <span class="toc-text">vuex官方解释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E6%A1%88%E4%BE%8B-%E7%BA%AFvue%E7%89%88%E6%9C%AC"><span class="toc-number">2.20.</span> <span class="toc-text">求和案例_纯vue版本</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E6%A1%88%E4%BE%8B-%E4%BD%BF%E7%94%A8%E4%BA%86getter%E3%80%81mapState%E5%92%8CmapGetters"><span class="toc-number">2.21.</span> <span class="toc-text">求和案例_使用了getter、mapState和mapGetters</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E6%A1%88%E4%BE%8B-%E4%BD%BF%E7%94%A8mapMutations%E4%B8%8EmapActions"><span class="toc-number">2.22.</span> <span class="toc-text">求和案例_使用mapMutations与mapActions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E6%A1%88%E4%BE%8B-%E5%A4%9A%E7%BB%84%E4%BB%B6%E5%85%B1%E4%BA%AB%E6%95%B0%E6%8D%AE"><span class="toc-number">2.23.</span> <span class="toc-text">求和案例_多组件共享数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%82%E5%92%8C%E6%A1%88%E4%BE%8B-%E6%A8%A1%E5%9D%97%E5%8C%96%E7%BC%96%E7%A0%81"><span class="toc-number">2.24.</span> <span class="toc-text">求和案例_模块化编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86vue-route"><span class="toc-number">2.25.</span> <span class="toc-text">认识vue-route</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue-route%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.26.</span> <span class="toc-text">vue-route的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E8%B7%AF%E7%94%B1"><span class="toc-number">2.27.</span> <span class="toc-text">嵌套路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84query%E5%8F%82%E6%95%B0"><span class="toc-number">2.28.</span> <span class="toc-text">路由的query参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">2.29.</span> <span class="toc-text">命名路由</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%9A%84params%E5%8F%82%E6%95%B0"><span class="toc-number">2.30.</span> <span class="toc-text">路由的params参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1props%E9%85%8D%E7%BD%AE"><span class="toc-number">2.31.</span> <span class="toc-text">路由props配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#router-link%E7%9A%84replace%E5%B1%9E%E6%80%A7"><span class="toc-number">2.32.</span> <span class="toc-text">router-link的replace属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">2.33.</span> <span class="toc-text">编程式路由导航</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">2.34.</span> <span class="toc-text">缓存路由组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%B8%AD%E4%B8%A4%E4%B8%AA%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">2.35.</span> <span class="toc-text">路由中两个生命周期钩子</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">2.36.</span> <span class="toc-text">路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%8B%AC%E4%BA%AB%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">2.37.</span> <span class="toc-text">独享路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E5%86%85%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">2.38.</span> <span class="toc-text">组件内路由守卫</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#hash%E5%92%8Chistory%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.39.</span> <span class="toc-text">hash和history的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86element-ui"><span class="toc-number">2.40.</span> <span class="toc-text">认识element-ui</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8element-ui"><span class="toc-number">2.41.</span> <span class="toc-text">使用element-ui</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/803cac184de3/" title="Vue学习笔记（使用脚手架）"><img src="/images/pasted-157.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue学习笔记（使用脚手架）"/></a><div class="content"><a class="title" href="/posts/803cac184de3/" title="Vue学习笔记（使用脚手架）">Vue学习笔记（使用脚手架）</a><time datetime="2023-08-10T08:47:29.000Z" title="发表于 2023-08-10 16:47:29">2023-08-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/72ed8eade779/" title="Vue学习笔记（安装脚手架）"><img src="/images/pasted-157.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue学习笔记（安装脚手架）"/></a><div class="content"><a class="title" href="/posts/72ed8eade779/" title="Vue学习笔记（安装脚手架）">Vue学习笔记（安装脚手架）</a><time datetime="2023-07-23T14:08:33.000Z" title="发表于 2023-07-23 22:08:33">2023-07-23</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/153a7b00a80e/" title="Vue学习笔记（基础部分）"><img src="/images/pasted-151.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Vue学习笔记（基础部分）"/></a><div class="content"><a class="title" href="/posts/153a7b00a80e/" title="Vue学习笔记（基础部分）">Vue学习笔记（基础部分）</a><time datetime="2023-07-17T16:00:00.000Z" title="发表于 2023-07-18 00:00:00">2023-07-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/fc992f84422f/" title="腾讯云开发工程师认证"><img src="/images/pasted-1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="腾讯云开发工程师认证"/></a><div class="content"><a class="title" href="/posts/fc992f84422f/" title="腾讯云开发工程师认证">腾讯云开发工程师认证</a><time datetime="2023-07-17T02:14:32.000Z" title="发表于 2023-07-17 10:14:32">2023-07-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/06aa2b5650ce/" title="博客首次启动"><img src="/images/pasted-0.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="博客首次启动"/></a><div class="content"><a class="title" href="/posts/06aa2b5650ce/" title="博客首次启动">博客首次启动</a><time datetime="2023-07-12T07:53:00.000Z" title="发表于 2023-07-12 15:53:00">2023-07-12</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/images/pasted-157.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2023 By SparkGalaxy</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">I wish you to become your own sun, no need to rely on who's light.<p><a target="_blank" href="https://hexo.io/"><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&logo=hexo" title="博客框架为Hexo"></a>&nbsp;<a target="_blank" href="https://butterfly.js.org/"><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&logo=bitdefender" title="主题采用butterfly"></a>&nbsp;<a target="_blank" href="https://www.jsdelivr.com/"><img src="https://img.shields.io/badge/CDN-jsDelivr-orange?style=flat&logo=jsDelivr" title="本站使用JsDelivr为静态资源提供CDN加速"></a> &nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Vervel-brightgreen?style=flat&logo=Vercel" title="本站采用双线部署，默认线路托管于Vercel"></a>&nbsp;<a target="_blank" href="https://vercel.com/ "><img src="https://img.shields.io/badge/Hosted-Coding-0cedbe?style=flat&logo=Codio" title="本站采用双线部署，联通线路托管于Coding"></a>&nbsp;<a target="_blank" href="https://github.com/"><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&logo=GitHub" title="本站项目由Gtihub托管"></a>&nbsp;<a target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&logo=Claris" title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可"></a></p></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><div class="js-pjax"><script>function loadLivere () {
  if (typeof LivereTower === 'object') {
    window.LivereTower.init()
  }
  else {
    (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
    })(document, 'script');
  }
}

if ('Livere' === 'Livere' || !true) {
  if (true) btf.loadComment(document.getElementById('lv-container'), loadLivere)
  else loadLivere()
}
else {
  function loadOtherComment () {
    loadLivere()
  }
}</script></div><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="true" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = false;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script id="click-heart" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/click-heart.min.js" async="async" mobile="false"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div class="no-result" id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>