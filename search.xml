<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>LeetCode算法练习——两数之和</title>
      <link href="/posts/378aefd1aae4/"/>
      <url>/posts/378aefd1aae4/</url>
      
        <content type="html"><![CDATA[<h3 id="题目描述"><a href="#题目描述" class="headerlink" title="题目描述"></a>题目描述</h3><p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出 和为目标值 target  的那 两个 整数，并返回它们的数组下标。</p><p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p><p>你可以按任意顺序返回答案。</p><h4 id="本题难度：简单"><a href="#本题难度：简单" class="headerlink" title="本题难度：简单"></a>本题难度：<text style="color:green;">简单</text></h4><h5 id="示例-1："><a href="#示例-1：" class="headerlink" title="示例 1："></a>示例 1：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [2,7,11,15], target = 9</span><br><span class="line">输出：[0,1]</span><br><span class="line">解释：因为 nums[0] + nums[1] == 9 ，返回 [0, 1] 。</span><br></pre></td></tr></table></figure><h5 id="示例-2："><a href="#示例-2：" class="headerlink" title="示例 2："></a>示例 2：</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [3,2,4], target = 6</span><br><span class="line">输出：[1,2]。</span><br></pre></td></tr></table></figure><h3 id="解题思路1——暴力破解"><a href="#解题思路1——暴力破解" class="headerlink" title="解题思路1——暴力破解"></a>解题思路1——暴力破解</h3><p>这道题最简单的思路，就是用双指针的方法进行暴力的遍历操作。<br>只要遍历到的两个数的和等于target的数，然后直接返回这个两个数的下标即可。<br>如果始终都没有找到这个数，</p><h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><h4 id="python3"><a href="#python3" class="headerlink" title="python3"></a>python3</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:</span><br><span class="line">        n=len(nums)</span><br><span class="line"></span><br><span class="line">        for i in range(n):</span><br><span class="line">            for j in range(i+1,n):</span><br><span class="line">                if (nums[i]+nums[j]==target):</span><br><span class="line">                    return [i,j]</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">        return []</span><br></pre></td></tr></table></figure><h4 id="Java"><a href="#Java" class="headerlink" title="Java"></a>Java</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int[] twoSum(int[] nums, int target) &#123;</span><br><span class="line">      for(int i =0;;i++)&#123;</span><br><span class="line">        for(int j=i+1;j&lt;nums.length;j++)&#123; // 枚举 i 右边的 j</span><br><span class="line">            if (nums[i] + nums[j] == target) // 满足要求</span><br><span class="line">                    return new int[]&#123;i, j&#125;; // 返回两个数的下标</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var twoSum = function (nums, target) &#123;</span><br><span class="line">    for (let i = 0; ; i++) // 枚举 i</span><br><span class="line">        for (let j = i + 1; j &lt; nums.length; j++) // 枚举 i 右边的 j</span><br><span class="line">            if (nums[i] + nums[j] === target) // 满足要求</span><br><span class="line">                return [i, j]; // 返回两个数的下标</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>但是这种解题思路的执行效率太慢了，所以我们使用另外一种解题思路——哈希表解题</p><h3 id="解题思路2——哈希表"><a href="#解题思路2——哈希表" class="headerlink" title="解题思路2——哈希表"></a>解题思路2——哈希表</h3><p>如果的target-x的值在哈希表中的话，就直接输出该值存储在哈希表中的下标，否则就将当前的数和下标存入哈希表中</p><h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><h4 id="python3-1"><a href="#python3-1" class="headerlink" title="python3"></a>python3</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">class Solution:</span><br><span class="line">    def twoSum(self, nums: List[int], target: int) -&gt; List[int]:</span><br><span class="line">    #创建一个空的哈希表，其中的键记录的是nums数组的对应的值，值记录的是nums数组的对应位置的下标</span><br><span class="line">      idx=&#123;&#125;</span><br><span class="line">      </span><br><span class="line">      # 遍历下标j和值x</span><br><span class="line">      for j,x in enumerate(nums):</span><br><span class="line">      </span><br><span class="line">      </span><br><span class="line">      # 在左边找 nums[i]，满足 nums[i]+x=target</span><br><span class="line">        if target-x in idx:</span><br><span class="line">        </span><br><span class="line">        #找到就返回两个数的下标</span><br><span class="line">          return [idx[target-x],j]</span><br><span class="line">          </span><br><span class="line">        #找不到就存储nums数组的下标和数据到哈希表中</span><br><span class="line">        idx[x]=j</span><br></pre></td></tr></table></figure><h4 id="Java-1"><a href="#Java-1" class="headerlink" title="Java"></a>Java</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">class Solution &#123;</span><br><span class="line">    public int[] twoSum(int[] nums, int target) &#123;</span><br><span class="line">      Map&lt;Integer,Integer&gt;idx=new HashMap&lt;&gt;();//创建一个空哈希表</span><br><span class="line">      </span><br><span class="line">      for(int j=0;;j++)&#123;// 枚举j</span><br><span class="line">      </span><br><span class="line">      // 在左边找nums[i],满足nums[i]+x=target</span><br><span class="line">        int x=nums[j];</span><br><span class="line">        </span><br><span class="line">        if(idx.containsKey(target-x))//在哈希表中找到了对应的数据</span><br><span class="line">          return new int[]&#123;idx.get(target-x),j&#125;;</span><br><span class="line">          </span><br><span class="line">        //否则将nums[j]和j作为键值对放入哈希表中</span><br><span class="line">        idx.put(x,j);</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="JavaScript-1"><a href="#JavaScript-1" class="headerlink" title="JavaScript"></a>JavaScript</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">var twoSum = function (nums, target) &#123;</span><br><span class="line">    let idx = new Map(); // 创建一个空哈希表</span><br><span class="line">    </span><br><span class="line">    for (let j = 0; ; j++) &#123; // 枚举 j</span><br><span class="line">    </span><br><span class="line">        const x = nums[j];</span><br><span class="line">        </span><br><span class="line">        // 在左边找 nums[i]，满足 nums[i]+x=target</span><br><span class="line">        </span><br><span class="line">        if (idx.has(target - x)) // 找到了</span><br><span class="line">        </span><br><span class="line">            return [idx.get(target - x), j]; // 返回两个数的下标</span><br><span class="line">            </span><br><span class="line">        idx.set(x, j); // 将 nums[j] 和 j作为键值对保存到哈希表中</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 算法练习 </category>
          
          <category> 算法难度：简单 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> LeetCode算法 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue学习笔记（使用脚手架）</title>
      <link href="/posts/803cac184de3/"/>
      <url>/posts/803cac184de3/</url>
      
        <content type="html"><![CDATA[<h2 id="学习前准备"><a href="#学习前准备" class="headerlink" title="学习前准备"></a>学习前准备</h2><p>在进行Vue脚手架内容的学习时，我们需要把脚手架的安装完毕。<br>详细的操作步骤，请查看往期文章：<br><a href="https://sparkgalaxy.gitee.io/posts/72ed8eade779/">Vue学习笔记（安装脚手架）</a><br><img src="/images/pasted-157.png" alt="upload successful"><br>在将脚手架的内容完全配置完全后，即可进行一下内容的学习</p><h2 id="笔记开始"><a href="#笔记开始" class="headerlink" title="笔记开始"></a>笔记开始</h2><h3 id="认识脚手架项目构造"><a href="#认识脚手架项目构造" class="headerlink" title="认识脚手架项目构造"></a>认识脚手架项目构造</h3><p>此处我创建了一个view-show的文件夹用于存放脚手架文件</p><p><img src="/images/pasted-247.png" alt="upload successful"></p><p>1.node_modules：项目依赖文件夹，此处存放着脚手架运行的必要依赖文件，之后在脚手架目录中从npm或者yarn中按需额外下载的所有依赖都会放到这个文件夹下。</p><p>2.public：此处存放的是脚手架中可以公共使用的文件，初始状态下只存放index.html和Vue脚手夹的ico图标</p><p>3.src：此处存放的则是脚手架中的核心文件，包括App.vue,main.js入口文件等核心配置文件，之后的项目文件也都是全部写在此文件夹下</p><p>4.gitignore文件：其中存放着脚手架目录中需要被忽略的文件名的配置</p><p>5.babel.config.js：此处存放的是关于babel文件的相关配置，babel是用于js语法进行兼容性处理的配置，目的是让项目适配于大多数的浏览器进行运行</p><p>6.jsconfig.js：此文件可以用来配置默认的根路径，可以按需进行配置</p><p>7.page-lock.json：此文件用于锁定各安装模块的版本，以免在插件模块版本进行升级时，出现不兼容的情况。</p><p>8.package.json：此处存放的是脚手架中安装的依赖版本号的信息。</p><p>9.README.md：此处存放的是脚手架相关的说明信息</p><p>10.vue.config.js：此处存放的是vue脚手架的相关配置信息，可以在其中配置服务器代理，也可以配置语法检查等相关的设置</p><p>初步了解了以上文件的内容后，我们来进行下一步的学习</p><p>以下内容都可以在src文件下运行！</p><h3 id="解析src"><a href="#解析src" class="headerlink" title="解析src"></a>解析src</h3><p><img src="/images/pasted-248.png" alt="upload successful"><br>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">//这个是整个项目的入口文件</span><br><span class="line">//引入vue</span><br><span class="line">//完整版的vue：vue.runtime.esm</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入App组件，它是所有组件的父组件，地位仅次于vm</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    /*</span><br><span class="line">    总结：</span><br><span class="line"></span><br><span class="line">          关于不同版本的函数：</span><br><span class="line"></span><br><span class="line">          vue.js 与 vue.runtime.xxx.js的区别：</span><br><span class="line"></span><br><span class="line">          vue.js 是完整版的 Vue，包含：核心功能+模板解析器</span><br><span class="line">          vue.runtime.xxx.js 是运行版的 Vue，只包含核心功能，没有模板解析器</span><br><span class="line">          因为 vue.runtime.xxx.js 没有模板解析器，所以不能使用 template 配置项，需要使用 render函数接收到的createElement 函数去指定具体内容</span><br><span class="line"></span><br><span class="line">          3.1.5. 修改默认配置</span><br><span class="line">          vue.config.js 是一个可选的配置文件，如果项目的（和 package.json 同级的）根目录中存在这个文件，那么它会被 @vue/cli-service 自动加载</span><br><span class="line">          使用 vue.config.js 可以对脚手架进行个性化定制，详见配置参考 | Vue CLI</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    //render的功能是在使用残缺版的vue时，创建元素</span><br><span class="line">    //render: createElement =&gt; createElement(&#x27;h1&#x27;, &#x27;你好啊&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;).$mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;img src=&quot;./assets/logo.png&quot; alt=&quot;logo&quot;&gt;</span><br><span class="line">      &lt;School&gt;&lt;/School&gt;</span><br><span class="line">      &lt;Student&gt;&lt;/Student&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        </span><br><span class="line">        components:&#123;</span><br><span class="line">            //注册组件</span><br><span class="line">            School,</span><br><span class="line">            Student</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>此处我们在components文件夹中创建两个文件，分别是School.vue和Student.vue</p><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">           </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">   //要是</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;SchoolName&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">       </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/* 组件的样式 */</span><br><span class="line">.demo&#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">   //要是发现在脚手架下运行时报错，那就需要检查一下是否把name用双驼峰命名法进行命名,例如StudentName</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;StudentName&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="ref属性的运用"><a href="#ref属性的运用" class="headerlink" title="ref属性的运用"></a>ref属性的运用</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- ref属性:</span><br><span class="line">            被用来给元素或子组件注册引用信息（id的替代者）</span><br><span class="line">            应用在html标签上获取的是真实DOM元素，应用在组件标签上获取的是组件实例对象（vc）</span><br><span class="line">            使用方式：</span><br><span class="line">            打标识：&lt;h1 ref=&quot;xxx&quot;&gt;&lt;/h1&gt; 或 &lt;School ref=&quot;xxx&quot;&gt;&lt;/School&gt;</span><br><span class="line">            获取：this.$refs.xxx</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;h1 v-text=&quot;msg&quot; ref=&quot;title&quot;&gt;&lt;/h1&gt;</span><br><span class="line">    &lt;button ref=&quot;btn&quot; @click=&quot;showDOM&quot;&gt;点我输出上方dom&lt;/button&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line">    &lt;School ref=&quot;sch&quot;/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入school组件</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            msg:&#x27;欢迎学习&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    components:&#123;School&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        showDOM()&#123;</span><br><span class="line">            //ref标签可用于获取组件(vc)的实例对象</span><br><span class="line">            console.log(this.$refs.title)//真实的dom元素</span><br><span class="line">            console.log(this.$refs.btn)//真实的dom元素</span><br><span class="line">            console.log(this.$refs.sch)//School组件的实例对象(vc)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>此处我们在components文件夹中创建一个文件，分别是School.vue</p><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">      &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            name:&#x27;清华大学&#x27;,</span><br><span class="line">            address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: gray;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="maxin混合"><a href="#maxin混合" class="headerlink" title="maxin混合"></a>maxin混合</h3><p>maxin.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//此处使用分别暴露</span><br><span class="line">export const mixin = &#123;</span><br><span class="line">    methods: &#123;</span><br><span class="line">        showName() &#123;</span><br><span class="line">            alert(this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        console.log(&#x27;你好&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">export const mixin2 = &#123;</span><br><span class="line"></span><br><span class="line">    data() &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: 100,</span><br><span class="line">            y: 200</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//此处为配置全局的混合</span><br><span class="line">import &#123; mixin, mixin2 &#125; from &#x27;./maxin&#x27;</span><br><span class="line">//如果将混合放在这个main.js文件中的话，那无论是vm还是vc都会在运行时直接调用一次</span><br><span class="line">//如果再加上两个组件的话，那么就是vm调一次混合，组件配置调一次混合，两个组件各自调一次混合，就是调用了四次混合</span><br><span class="line">Vue.mixin(mixin)</span><br><span class="line">Vue.mixin(mixin2)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>此处我们在components文件夹中创建两个文件，分别是School.vue和Student.vue</p><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 @click=&quot;showName&quot;&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入一个混合组件mixin</span><br><span class="line">/*import &#123;mixin&#125; from &#x27;../maxin&#x27;</span><br><span class="line">import &#123;mixin2&#125; from &#x27;../maxin&#x27;*/</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        //data中的数据如果与混合组件中的数据发生冲突时，以data中的数据为准</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    //混合要写入数组内</span><br><span class="line">    //混合可以将组件内的所带有的数据整合到页面中</span><br><span class="line">    /*//此处为局部混合  </span><br><span class="line">    mixins:[mixin,mixin2],</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">     //如果说mounted的钩子和混合中的钩子发生冲突时，所有的mounted都会被浏览器获取，混合中的mounted会被首先获取 </span><br><span class="line">    /*mounted()&#123;</span><br><span class="line">        console.log(&#x27;你好啊！！！&#x27;)</span><br><span class="line">    &#125;*/</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 @click=&quot;showName&quot;&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入一个混合组件mixin</span><br><span class="line">/*import &#123;mixin&#125; from &#x27;../maxin&#x27;</span><br><span class="line">import &#123;mixin2&#125; from &#x27;../maxin&#x27;*/</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    //混合要写入数组内</span><br><span class="line">    //混合可以将组件内的所带有的数据整合到页面中</span><br><span class="line">      /*//此处为局部混合  </span><br><span class="line">    mixins:[mixin,mixin2],</span><br><span class="line">    */</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="插件plugins"><a href="#插件plugins" class="headerlink" title="插件plugins"></a>插件plugins</h3><p>plugins.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    //定义插件</span><br><span class="line">    install(Vue) &#123;</span><br><span class="line">        //全局过滤器</span><br><span class="line">        Vue.filter(&#x27;mySlice&#x27;, function(value) &#123;</span><br><span class="line">            return value.slice(0, 4) //只截取字符前四位</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //定义全局指令</span><br><span class="line">        Vue.directive(&#x27;fbind&#x27;, &#123;</span><br><span class="line">            //指令与元素初次成功绑定时一上来就执行</span><br><span class="line">            bind(element, binding) &#123;</span><br><span class="line">                //</span><br><span class="line">                element.value = binding.value</span><br><span class="line">            &#125;,</span><br><span class="line">            //指令所在元素被插入页面时执行</span><br><span class="line">            inserted(element) &#123;</span><br><span class="line">                element.focus()</span><br><span class="line">            &#125;,</span><br><span class="line">            //指令所在的模板被重新解析时执行</span><br><span class="line">            update(element, binding) &#123;</span><br><span class="line">                element.value = binding.value</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //定义混入</span><br><span class="line">        Vue.mixin(&#123;</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    x: 100,</span><br><span class="line">                    y: 200</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        //给vue原型上添加一个方法(vm和vc都可以用了)</span><br><span class="line">        Vue.prototype.hello = () =&gt; (alert(&#x27;你好啊&#x27;))</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//引入插件</span><br><span class="line">import plugins from &#x27;./plugins&#x27;</span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(plugins)</span><br><span class="line">    /**</span><br><span class="line">     * 插件：</span><br><span class="line"></span><br><span class="line">                功能：用于增强Vue</span><br><span class="line"></span><br><span class="line">                本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据</span><br><span class="line"></span><br><span class="line">                定义插件：</span><br><span class="line"></span><br><span class="line">                plugin.install = function (Vue, options) &#123;</span><br><span class="line">                        // 1. 添加全局过滤器</span><br><span class="line">                        Vue.filter(....)</span><br><span class="line">                    </span><br><span class="line">                        // 2. 添加全局指令</span><br><span class="line">                        Vue.directive(....)</span><br><span class="line">                    </span><br><span class="line">                        // 3. 配置全局混入</span><br><span class="line">                        Vue.mixin(....)</span><br><span class="line">                    </span><br><span class="line">                        // 4. 添加实例方法</span><br><span class="line">                        Vue.prototype.$myMethod = function () &#123;...&#125;</span><br><span class="line">                        Vue.prototype.$myProperty = xxxx</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                使用插件：Vue.use(plugin)</span><br><span class="line"></span><br><span class="line">    */</span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：School.vue,Student.vue</p><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name|mySlice&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学aa&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="scoped的使用"><a href="#scoped的使用" class="headerlink" title="scoped的使用"></a>scoped的使用</h3><p>main.js</p><figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;!-- 此处使用自闭合的形式的组件标签 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;Student /&gt;</span><br><span class="line">    &lt;School /&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：School.vue,Student.vue</p><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;test&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2 class=&quot;que&quot;&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line">/*</span><br><span class="line">scoped样式：</span><br><span class="line"></span><br><span class="line">作用：让样式在局部生效，防止冲突</span><br><span class="line">写法：&lt;style scoped&gt;</span><br><span class="line">scoped样式一般不会在App.vue中使用</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line">/*</span><br><span class="line">如果说样式名重名了，那么在引入组件时，将会用最后的组件覆盖前一组件的样式</span><br><span class="line">想要解决这个问题，只需要在style标签中添加scoped，那么此处的样式只会负责本组件的样式</span><br><span class="line">并在模板中放入一个自动生成的data值</span><br><span class="line">*/</span><br><span class="line">.test&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">    .que&#123;</span><br><span class="line">        font-size: 40px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;test&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">/*</span><br><span class="line">如果说样式名重名了，那么在引入组件时，将会用最后的组件覆盖前一组件的样式</span><br><span class="line">想要解决这个问题，只需要在style标签中添加scoped，那么此处的样式只会负责本组件的样式</span><br><span class="line">并在模板中放入一个自动生成的data值</span><br><span class="line">*/</span><br><span class="line">.test&#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="todoList案例"><a href="#todoList案例" class="headerlink" title="todoList案例"></a>todoList案例</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;MyHeader :addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; :checkTodo=&quot;checkTodo&quot; :deleteTodo=&quot;deleteTodo&quot;/&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; :checkAllTodo=&quot;checkAllTodo&quot; :clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //这里使用逐层传递将checkTodo，从App传到list再传到item</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">            :deleteTodo=&quot;deleteTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id,todo.title)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        this.checkTodo(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            this.deleteTodo(id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line">props:[&#x27;addTodo&#x27;],</span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.addTodo(todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;,&#x27;checkAllTodo&#x27;, &#x27;clearAllTodo&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            this.checkAllTodo(value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.clearAllTodo()</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="浏览器储存"><a href="#浏览器储存" class="headerlink" title="浏览器储存"></a>浏览器储存</h3><p>此处为额外内容，自行创建文件夹进行实验即可</p><p>Localstorge.html</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;localStorage&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        总结：</span><br><span class="line"></span><br><span class="line">存储内容大小一般支持5MB左右（不同浏览器可能还不一样）</span><br><span class="line"></span><br><span class="line">浏览器端通过Window.sessionStorage和Window.localStorage属性来实现本地存储机制</span><br><span class="line"></span><br><span class="line">相关API：</span><br><span class="line"></span><br><span class="line">xxxStorage.setItem(&#x27;key&#x27;, &#x27;value&#x27;)：该方法接受一个键和值作为参数，会把键值对添加到存储中，如果键名存在，则更新其对应的值</span><br><span class="line">xxxStorage.getItem(&#x27;key&#x27;)：该方法接受一个键名作为参数，返回键名对应的值</span><br><span class="line">xxxStorage.removeItem(&#x27;key&#x27;)：该方法接受一个键名作为参数，并把该键名从存储中删除</span><br><span class="line">xxxStorage.clear()：该方法会清空存储中的所有数据</span><br><span class="line">备注：</span><br><span class="line"></span><br><span class="line">SessionStorage存储的内容会随着浏览器窗口关闭而消失</span><br><span class="line">LocalStorage存储的内容，需要手动清除才会消失</span><br><span class="line">xxxStorage.getItem(xxx)如果 xxx 对应的 value 获取不到，那么getItem()的返回值是null</span><br><span class="line">JSON.parse(null)的结果依然是null</span><br><span class="line"></span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;h2&gt;localStorage&lt;/h2&gt;</span><br><span class="line">    &lt;button onclick=&quot;saveDate()&quot;&gt;点我保存数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;readDate()&quot;&gt;点我读数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteDate()&quot;&gt;点我删除数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteAllDate()&quot;&gt;点我清空数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let person = &#123;</span><br><span class="line">            name: &quot;张三&quot;,</span><br><span class="line">            age: 20</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function saveDate() &#123;</span><br><span class="line">            localStorage.setItem(&#x27;msg&#x27;, &#x27;localStorage&#x27;)</span><br><span class="line">                //JSON.stringify把对象转换成字符串 </span><br><span class="line">            localStorage.setItem(&#x27;person&#x27;, JSON.stringify(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function readDate() &#123;</span><br><span class="line">            console.log(localStorage.getItem(&#x27;msg&#x27;))</span><br><span class="line">            const person = localStorage.getItem(&#x27;person&#x27;)</span><br><span class="line">            console.log(JSON.parse(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteDate() &#123;</span><br><span class="line">            localStorage.removeItem(&#x27;msg&#x27;)</span><br><span class="line">            localStorage.removeItem(&#x27;person&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteAllDate() &#123;</span><br><span class="line">            localStorage.clear()</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>sessionstorage.html</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;sessionstorage&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;h2&gt;sessionstorage&lt;/h2&gt;</span><br><span class="line">    &lt;button onclick=&quot;saveDate()&quot;&gt;点我保存数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;readDate()&quot;&gt;点我读数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteDate()&quot;&gt;点我删除数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">    &lt;button onclick=&quot;deleteAllDate()&quot;&gt;点我清空数据&lt;/button&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        let person = &#123;</span><br><span class="line">            name: &quot;张三&quot;,</span><br><span class="line">            age: 20</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function saveDate() &#123;</span><br><span class="line">            localStorage.setItem(&#x27;msg&#x27;, &#x27;localStorage&#x27;)</span><br><span class="line">                //JSON.stringify把对象转换成字符串 </span><br><span class="line">            localStorage.setItem(&#x27;person&#x27;, JSON.stringify(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function readDate() &#123;</span><br><span class="line">            console.log(localStorage.getItem(&#x27;msg&#x27;))</span><br><span class="line">            const person = localStorage.getItem(&#x27;person&#x27;)</span><br><span class="line">            console.log(JSON.parse(person))</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteDate() &#123;</span><br><span class="line">            localStorage.removeItem(&#x27;msg&#x27;)</span><br><span class="line">            localStorage.removeItem(&#x27;person&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        function deleteAllDate() &#123;</span><br><span class="line">            localStorage.clear()</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="组件的自定义事件"><a href="#组件的自定义事件" class="headerlink" title="组件的自定义事件"></a>组件的自定义事件</h3><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">组件的自定义事件：</span><br><span class="line"></span><br><span class="line">一种组件间通信的方式，适用于：==子组件 &gt; 父组件</span><br><span class="line"></span><br><span class="line">使用场景：A是父组件，B是子组件，B想给A传数据，那么就要在A中给B绑定自定义事件（事件的回调在A中）</span><br><span class="line"></span><br><span class="line">绑定自定义事件：</span><br><span class="line"></span><br><span class="line">第一种方式，在父组件中：&lt;Demo @atguigu=&quot;test&quot;/&gt; 或 &lt;Demo v-on:atguigu=&quot;test&quot;/&gt;</span><br><span class="line"></span><br><span class="line">第二种方式，在父组件中：</span><br><span class="line"></span><br><span class="line">&lt;Demo ref=&quot;demo&quot;/&gt;</span><br><span class="line">...</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$refs.demo.$on(&#x27;atguigu&#x27;,data)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">若想让自定义事件只能触发一次，可以使用once修饰符，或$once方法</span><br><span class="line"></span><br><span class="line">触发自定义事件：this.$emit(&#x27;atguigu&#x27;,数据)</span><br><span class="line"></span><br><span class="line">解绑自定义事件：this.$off(&#x27;atguigu&#x27;)</span><br><span class="line"></span><br><span class="line">组件上也可以绑定原生DOM事件，需要使用native修饰符</span><br><span class="line"></span><br><span class="line">注意：通过this.$refs.xxx.$on(&#x27;atguigu&#x27;,回调)绑定自定义事件时，回调要么配置在methods中，要么用箭头函数，否则this指向会出问题！ --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;,学生姓名是：&#123;&#123;studentName&#125;&#125; &lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    &lt;!-- 通过父组件给子组件传递函数类型的props实现子给父传递数据 --&gt;</span><br><span class="line">    &lt;School :getSchoolName=&quot;getSchoolName&quot;/&gt;</span><br><span class="line">    &lt;!-- 第一种，使用一个v-on或是@，给student的实例对象绑定一个qinghua事件 </span><br><span class="line">    @qinghua.once只会让事件触发一次</span><br><span class="line">    --&gt;</span><br><span class="line">     &lt;!-- &lt;Student @qinghua=&quot;getStudentName&quot; @demo=&quot;m1&quot;/&gt; --&gt;</span><br><span class="line">    &lt;!--  第二种，使用ref给student的实例对象绑定一个qinghua事件 --&gt;</span><br><span class="line">    &lt;!-- @click.native绑定原生dom事件 --&gt;</span><br><span class="line">    &lt;Student ref=&quot;student&quot; @click.native=&quot;show&quot;/&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">           studentName:&#x27;&#x27;</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   methods:&#123;</span><br><span class="line">       show()&#123;</span><br><span class="line">           alert(&#x27;清华大学欢迎你&#x27;)</span><br><span class="line">       &#125;,</span><br><span class="line">       getSchoolName(name)&#123;</span><br><span class="line">           console.log(&#x27;app收到了数据&#x27;,name)</span><br><span class="line">       &#125;,</span><br><span class="line">       //...params用来传输多个数据</span><br><span class="line">       getStudentName(name,...params)&#123;</span><br><span class="line">           console.log(&#x27;app收到了数据&#x27;,name,params)</span><br><span class="line">            this.studentName=name</span><br><span class="line">       &#125;,</span><br><span class="line">       m1()&#123;</span><br><span class="line">           console.log(&#x27;demo事件被触发了&#x27;)</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line"></span><br><span class="line">   mounted()&#123;</span><br><span class="line">  </span><br><span class="line">        this.$refs.student.$on(&#x27;qinghua&#x27;,this.getStudentName)//$ref绑定自定义事件</span><br><span class="line">        //this.$refs.student.$once(&#x27;qinghua&#x27;,this.getStudentName)//绑定自定义事件(一次性)</span><br><span class="line">        </span><br><span class="line">        //如果将函数方法写在ref获取数据的所在时，因为它调用了qinghua的事件名，所以此处的this是student的实例对象</span><br><span class="line">        //所以无法传输数据到app的this中</span><br><span class="line">        //而如果想要传输相应的数据，需要写箭头函数，因为箭头函数没有this，所以会将实例对象指出去到app的实例对象，这样就可以完成操作</span><br><span class="line">        /*this.$refs.student.$on(&#x27;qinghua&#x27;,(name,...params)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;App收到了学生名：&#x27;,name,params)</span><br><span class="line">            console.log(this)</span><br><span class="line">            this.studentName=name</span><br><span class="line">        &#125;)*/</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    /*mounted() &#123;</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            this.$destroy()</span><br><span class="line">        &#125;, 3000); //三秒后自动销毁vm</span><br><span class="line">    &#125;*/</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components组件:Student.vue,School.vue</p><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&quot;sendStudentName&quot;&gt;把学生名称给app&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;unbind&quot;&gt;解绑事件&lt;/button&gt;</span><br><span class="line">    &lt;button @click=&quot;destroy&quot;&gt;点我销毁组件实例&lt;/button&gt;</span><br><span class="line">    &lt;h2&gt;&#123;&#123;number&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;add&quot;&gt;number++&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">           number:0</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        add()&#123;</span><br><span class="line">            console.log(&#x27;add被调用了&#x27;)</span><br><span class="line">            this.number++</span><br><span class="line">                &#125;,</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            //触发Student组件实例身上的qinghua事件</span><br><span class="line">            this.$emit(&#x27;qinghua&#x27;,this.name,666,888)</span><br><span class="line">            //this.$emit(&#x27;demo&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        unbind()&#123;</span><br><span class="line">            this.$off(&#x27;qinghua&#x27;)//解绑一个自定义事件</span><br><span class="line">            //this.$off([&#x27;qinghua&#x27;,&#x27;demo&#x27;])//解绑多个自定义事件</span><br><span class="line">            //this.$off()//解绑所有事件</span><br><span class="line">        &#125;,</span><br><span class="line">        destroy()&#123;</span><br><span class="line">       this.$destroy()//销毁了当前student组件的实例，销毁后所有student实例自定义事件都不会再奏效了</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;button @click=&quot;sendSchoolName&quot;&gt;把学校名称给app&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line">    props:[&#x27;getSchoolName&#x27;],</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendSchoolName()&#123;</span><br><span class="line">            this.getSchoolName(this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="todolist案例-自定义组件"><a href="#todolist案例-自定义组件" class="headerlink" title="todolist案例_自定义组件"></a>todolist案例_自定义组件</h4><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App)</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; :checkTodo=&quot;checkTodo&quot; :deleteTodo=&quot;deleteTodo&quot;/&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //这里使用逐层传递将checkTodo，从App传到list再传到item</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            :checkTodo=&quot;checkTodo&quot;</span><br><span class="line">            :deleteTodo=&quot;deleteTodo&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id,todo.title)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;,&#x27;checkTodo&#x27;,&#x27;deleteTodo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        this.checkTodo(id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            this.deleteTodo(id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="全局事件总线"><a href="#全局事件总线" class="headerlink" title="全局事件总线"></a>全局事件总线</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//想要调用$on,$off,$emit,只有组件实例对象可以做得到</span><br><span class="line">//const Demo = Vue.extend(&#123;&#125;)</span><br><span class="line">// const d = new Demo()</span><br><span class="line">//因为每一个实例对象的this都会找到组件实例对象的原型，而组件实例对象的原型会指向vue的原型</span><br><span class="line">//所以要写一个被所有组件实例对象发现的总线，要把事情写在vue的原型上</span><br><span class="line">//Vue.prototype.x = d</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    //在vue创建之前，往所定义的$bus的vue原型中放入this，this指向vue</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        // $bus的命名是为了迎合vue的程序设计</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 全局事件总线（GlobalEventBus）：</span><br><span class="line"></span><br><span class="line">一种组件间通信的方式，适用于任意组件间通信</span><br><span class="line"></span><br><span class="line">安装全局事件总线：</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">   ...</span><br><span class="line">   beforeCreate() &#123;</span><br><span class="line">   Vue.prototype.$bus = this //安装全局事件总线，$bus就是当前应用的vm</span><br><span class="line">   &#125;,</span><br><span class="line">    ...</span><br><span class="line">&#125;) </span><br><span class="line"></span><br><span class="line">使用事件总线：</span><br><span class="line"></span><br><span class="line">接收数据：A组件想接收数据，则在A组件中给$bus绑定自定义事件，事件的回调留在A组件自身</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    methods()&#123;</span><br><span class="line">        demo(data)&#123;...&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        this.$bus.$on(&#x27;xxx&#x27;,this.demo)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">提供数据：this.$bus.$emit(&#x27;xxx&#x27;,data)</span><br><span class="line"></span><br><span class="line">最好在beforeDestroy钩子中，用$off去解绑当前组件所用到的事件</span><br><span class="line"> */</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;School/&gt;</span><br><span class="line">    &lt;Student/&gt;</span><br><span class="line">  </span><br><span class="line">   </span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">      </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:School.vue,Student.vue</p><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line"></span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(&#x27;school&#x27;,this)</span><br><span class="line">        // 此处需要获取到$emit传递过来的值，并响应方法</span><br><span class="line">        this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line">            console.log(&#x27;我是school组件，收到了数据&#x27;,data)</span><br><span class="line">        &#125;)</span><br><span class="line">    </span><br><span class="line">&#125;,</span><br><span class="line">     beforeDestroy()&#123;</span><br><span class="line">         //在hello事件处理完之后，在销毁组件实例对象之前，把hello事件给关闭释放出去</span><br><span class="line">            this.$bus.$off(&#x27;hello&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&#x27;sendStudentName&#x27;&gt;把学生名给school组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            // 此处依次放入放入需要调用的方法名和需要传递的值</span><br><span class="line">            this.$bus.$emit(&#x27;hello&#x27;,this.name)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="全局事件总线——todolist案例"><a href="#全局事件总线——todolist案例" class="headerlink" title="全局事件总线——todolist案例"></a>全局事件总线——todolist案例</h4><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        deleteTodo(id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">         this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">         this.$bus.$on(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;deleteTodo&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并传递id的值过去</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">             //响应deleteTodo，并返回id的值</span><br><span class="line">            //响应deleteTodo方法名，并传递id的值过去</span><br><span class="line">            this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="消息订阅与发布"><a href="#消息订阅与发布" class="headerlink" title="消息订阅与发布"></a>消息订阅与发布</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div class=&quot;app&quot;&gt;</span><br><span class="line">   &lt;h1&gt; &#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">    &lt;School/&gt;</span><br><span class="line">    &lt;Student/&gt;</span><br><span class="line"> </span><br><span class="line">&lt;/div&gt;</span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import Student from &#x27;./components/Student.vue&#x27;</span><br><span class="line">import School from &#x27;./components/School.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;Student,School&#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return &#123;</span><br><span class="line">           msg:&#x27;你好啊&#x27;,</span><br><span class="line">      </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;,</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">.app&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: grey;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:Student.vue,School.vue</p><p>Student.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;student&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学生性别：&#123;&#123;sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">     &lt;button @click=&#x27;sendStudentName&#x27;&gt;把学生名给school组件&lt;/button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line"> </span><br><span class="line">    name:&#x27;StudentName&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        </span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;张三&#x27;,</span><br><span class="line">           sex:&#x27;男&#x27;,</span><br><span class="line">    </span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        sendStudentName()&#123;</span><br><span class="line">            // this.$bus.$emit(&#x27;hello&#x27;,this.name)</span><br><span class="line">            pubsub.publish(&#x27;hello&#x27;,666)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">   </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line"></span><br><span class="line">.student&#123;</span><br><span class="line">    padding: 5px;</span><br><span class="line">    background-color: orange;</span><br><span class="line">    margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>School.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;school&quot;&gt;</span><br><span class="line">   </span><br><span class="line">      &lt;h2&gt;学校名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">      &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">/**</span><br><span class="line"> * 消息订阅与发布（pubsub）：</span><br><span class="line"></span><br><span class="line">消息订阅与发布是一种组件间通信的方式，适用于任意组件间通信</span><br><span class="line"></span><br><span class="line">使用步骤：</span><br><span class="line"></span><br><span class="line">安装pubsub：npm i pubsub-js</span><br><span class="line"></span><br><span class="line">引入：import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line"></span><br><span class="line">接收数据：A组件想接收数据，则在A组件中订阅消息，订阅的回调留在A组件自身</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    methods()&#123;</span><br><span class="line">        demo(data)&#123;...&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ...</span><br><span class="line">    mounted() &#123;</span><br><span class="line">this.pid = pubsub.subscribe(&#x27;xxx&#x27;,this.demo)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">提供数据：pubsub.publish(&#x27;xxx&#x27;,data)</span><br><span class="line"></span><br><span class="line">最好在beforeDestroy钩子中，使用pubsub.unsubscribe(pid)取消订阅</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">//下载pubsub插件，将会提供消息订阅的功能,subscribe为订阅，publish为发布</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;SchoolName&#x27;,</span><br><span class="line"></span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">           name:&#x27;清华大学&#x27;,</span><br><span class="line">           address:&#x27;北京&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        // console.log(&#x27;school&#x27;,this)</span><br><span class="line">        // this.$bus.$on(&#x27;hello&#x27;,(data)=&gt;&#123;</span><br><span class="line">        //     console.log(&#x27;我是school组件，收到了数据&#x27;,data)</span><br><span class="line">        // &#125;)</span><br><span class="line"></span><br><span class="line">        //此方法就是一挂载就去订阅消息</span><br><span class="line">        //此处的函数方法都可以写去methods中，让vm去管理，要不然就放在此处，但是想要访问vm，需要写箭头函数</span><br><span class="line">    this.pubId=pubsub.subscribe(&#x27;hello&#x27;,(msgName,data)=&gt;&#123;</span><br><span class="line">        console.log(&#x27;有人发布了hello消息&#x27;,msgName,data)</span><br><span class="line">        console.log(this)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br><span class="line">     beforeDestroy()&#123;</span><br><span class="line">         //在hello事件处理完之后，在销毁组件实例对象之前，把hello事件给关闭释放出去</span><br><span class="line">        //this.$bus.$off(&#x27;hello&#x27;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        //因为每一次使用pubsub.subscribe时，都有独特的id生成，所以想要关闭订阅，需要把整个subscribe存进一个变量里，然后使用变量来关闭订阅功能</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style lang=&quot;less&quot; scoped&gt;</span><br><span class="line"></span><br><span class="line">.school&#123;</span><br><span class="line">    background-color: greenyellow;</span><br><span class="line">    /*less可以用来进行样式嵌套，此处版本选择7以内的版本 */</span><br><span class="line">   </span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="消息订阅与发布——todolist案例"><a href="#消息订阅与发布——todolist案例" class="headerlink" title="消息订阅与发布——todolist案例"></a>消息订阅与发布——todolist案例</h4><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        //  this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //  this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:MyList.vue,MyItem.vue,MyHeader.vue，MyFooter.vue</p><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line">            &lt;span&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="todolist-myitem-nextTick"><a href="#todolist-myitem-nextTick" class="headerlink" title="todolist_myitem_nextTick"></a>todolist_myitem_nextTick</h3><p>在这一部分中，在MyItem.vue组件中使用nextTick来实现消息的传递</p><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //更新一个todo</span><br><span class="line">        updateTodo(id,title)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.title=title</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">        this.$bus.$on(&#x27;updateTodo&#x27;,this.updateTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;updateTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line">    .btn-edit &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        border: 1px solid rgb(24, 65, 82);</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件与之前的todolist案例相同</p><p>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 编辑和展示的按钮不需要同时展示，所以两个功能是互斥的，展示的功能需要取v-show=&quot;!todo.isEdit&quot;,例如当原本的值为false时，给到这里后就是true，就展示出来--&gt;</span><br><span class="line">            &lt;span v-show=&quot;!todo.isEdit&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;input </span><br><span class="line">            type=&quot;text&quot; </span><br><span class="line">            v-show=&quot;todo.isEdit&quot; </span><br><span class="line">            :value=&quot;todo.title&quot;  </span><br><span class="line">            @blur=&quot;handleBlur(todo,$event)&quot;</span><br><span class="line">            ref=&quot;inputTitle&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;!-- $event用来获取最新的输入框数据 --&gt;</span><br><span class="line">            &lt;!--  @blur为失去焦点事件 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">        &lt;button v-show=&quot;!todo.isEdit&quot; class=&quot;btn btn-edit&quot; @click=&quot;handleEdit(todo)&quot; &gt;编辑&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑按钮</span><br><span class="line">    handleEdit(todo)&#123;</span><br><span class="line">        //isEdit不必重复添加，因为在第一次编辑后，isEdit就已经成功追加</span><br><span class="line">        //如果再次编辑的话，就不必再追加isEdit，只需要改变isEdit的值即可</span><br><span class="line">        //hasOwnProperty用来判断是否拥有todo.isEdit</span><br><span class="line">        if(todo.hasOwnProperty(&#x27;isEdit&#x27;))&#123;</span><br><span class="line">            todo.isEdit=true</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">        //要写响应式数据，不能够把数据写死，把isEdit的值改成true，进入编辑状态</span><br><span class="line">        this.$set(todo,&#x27;isEdit&#x27;,true)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        //this.$nextTick在更新完dom模板之后，再执行此处的语句</span><br><span class="line">        //this.$nextTick为生命周期钩子</span><br><span class="line">       this.$nextTick(function()&#123;</span><br><span class="line">        this.$refs.inputTitle.focus()</span><br><span class="line">       &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点时修改app上的数据</span><br><span class="line">    handleBlur(todo,e)&#123;</span><br><span class="line">        todo.isEdit=false</span><br><span class="line">        //当选项为空时，返回提示语句</span><br><span class="line">        if(!e.target.value) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">        this.$bus.$emit(&#x27;updateTodo&#x27;,todo.id,e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="过渡与动画"><a href="#过渡与动画" class="headerlink" title="过渡与动画"></a>过渡与动画</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div &gt;</span><br><span class="line">&lt;Test/&gt;</span><br><span class="line">&lt;Test2/&gt;</span><br><span class="line">&lt;Test3/&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">import Test from &#x27;./components/test&#x27;</span><br><span class="line">import Test2 from &#x27;./components/test2&#x27;</span><br><span class="line">import Test3 from &#x27;./components/test3&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">       Test,</span><br><span class="line">       Test2,</span><br><span class="line">       Test3</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件:Test,Test2,Test3<br>Test</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;!--</span><br><span class="line">      Vue封装的过度与动画：</span><br><span class="line"></span><br><span class="line">            作用：在插入、更新或移除 DOM元素时，在合适的时候给元素添加样式类名</span><br><span class="line">            图示：</span><br><span class="line">            [外链图片转存失败,源站可能有防盗链机制,建议将图片保存下来直接上传(img-F7tX8Utw-1648820283412)(https://cn.vuejs.org/images/transition.png)]</span><br><span class="line"></span><br><span class="line">            写法：</span><br><span class="line"></span><br><span class="line">            准备好样式：</span><br><span class="line"></span><br><span class="line">            元素进入的样式：</span><br><span class="line"></span><br><span class="line">            v-enter：进入的起点</span><br><span class="line">            v-enter-active：进入过程中</span><br><span class="line">            v-enter-to：进入的终点</span><br><span class="line">            元素离开的样式：</span><br><span class="line"></span><br><span class="line">            v-leave：离开的起点</span><br><span class="line">            v-leave-active：离开过程中</span><br><span class="line">            v-leave-to：离开的终点</span><br><span class="line">            使用&lt;transition&gt;包裹要过度的元素，并配置name属性：</span><br><span class="line"></span><br><span class="line">            &lt;transition name=&quot;hello&quot;&gt;</span><br><span class="line">                &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;</span><br><span class="line">            &lt;/transition&gt;</span><br><span class="line">            备注：若有多个元素需要过度，则需要使用：&lt;transition-group&gt;，且每个元素都要指定key值</span><br><span class="line">    --&gt;</span><br><span class="line">  </span><br><span class="line">  </span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 </span><br><span class="line">    此处可以用来区分其他不同的功能部分</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;transition name=&quot;hello&quot; appear&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">    &lt;/transition&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入 */</span><br><span class="line">    .hello-enter-active&#123;</span><br><span class="line">        animation: qinghua 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"> /* 样式离开 */</span><br><span class="line">   .hello-leave-active&#123;</span><br><span class="line">        animation: qinghua 0.5s reverse linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @keyframes qinghua&#123;</span><br><span class="line">        from&#123;</span><br><span class="line">            transform: translateX(-100%);</span><br><span class="line">        &#125;</span><br><span class="line">        to&#123;</span><br><span class="line">            transform: translateX(0px);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Test2</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;!-- transition只能够放一个元素，transition能够放多个元素 并且要设定一个key值--&gt;</span><br><span class="line">    &lt;transition-group name=&quot;hello&quot; appear&gt;</span><br><span class="line">          &lt;!-- 其中一个isShow取反，实现交叉显示 --&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;清华大学&lt;/h1&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">        /* transition: 0.5s linear; */</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入的起点 与 样式离开的终点*/</span><br><span class="line">    .hello-enter, .hello-leave-to&#123;</span><br><span class="line">        transform:translateX(-100%);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">/* 样式进入时与离开时过程的速度的控制 */</span><br><span class="line">    .hello-enter-active,.hello-leave-active&#123;</span><br><span class="line">        transition: 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"> /* 样式进入的终点 与  样式离开的起点*/</span><br><span class="line">   .hello-enter-to,.hello-leave&#123;</span><br><span class="line">      transform:translateX(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>Test3</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"> &lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">      </span><br><span class="line"></span><br><span class="line">      &lt;button @click=&quot;isShow= !isShow&quot;&gt;显示/隐藏&lt;/button&gt;</span><br><span class="line">      &lt;!--此处使用transition标签之后，就可以使用vue的 .v-enter-active和 .v-leave-active控制事先准备好的出现和退出的动态样式 --&gt;</span><br><span class="line">    &lt;!-- name可以用来定义transition的名字，而样式中的名字就必须从v变成name所定义的名字 --&gt;</span><br><span class="line">    &lt;!--  appear传入的是布尔值，一般写法是:appear=&quot;true&quot; 但true的情况可以直接简写成appear --&gt;</span><br><span class="line">    &lt;!-- transition只能够放一个元素，transition能够放多个元素 并且要设定一个key值--&gt;</span><br><span class="line">    &lt;!-- 在引入第三方库后，enter-active-class和 leave-active-class可以直接写在transition标签里，并且在name中写入对应的名称就可以应用样式了 --&gt;</span><br><span class="line">    &lt;transition-group </span><br><span class="line">        name=&quot;animate__animated animate__bounce&quot;</span><br><span class="line">        appear</span><br><span class="line">        enter-active-class=&quot;animate__jello&quot;</span><br><span class="line">        leave-active-class=&quot;animate__backOutUp&quot;</span><br><span class="line">    &gt;</span><br><span class="line">       </span><br><span class="line">         &lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊&lt;/h1&gt;</span><br><span class="line">         &lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;清华大学&lt;/h1&gt;</span><br><span class="line">    &lt;/transition-group&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#x27;animate.css&#x27;</span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Test&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            isShow:true</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    h1&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">        /* transition: 0.5s linear; */</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="todolist-mylist-动画"><a href="#todolist-mylist-动画" class="headerlink" title="todolist_mylist_动画"></a>todolist_mylist_动画</h4><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;todo-container&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;todo-wrap&quot;&gt;</span><br><span class="line">            &lt;!-- 触发addTodo事件 --&gt;</span><br><span class="line">            &lt;MyHeader @addTodo=&quot;addTodo&quot;/&gt;</span><br><span class="line">            &lt;MyList :todos=&quot;todos&quot; /&gt;</span><br><span class="line">            &lt;MyFooter :todos=&quot;todos&quot; @checkAllTodo=&quot;checkAllTodo&quot; @clearAllTodo=&quot;clearAllTodo&quot;/&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">import MyHeader from &#x27;./components/MyHeader.vue&#x27;</span><br><span class="line">import MyFooter from &#x27;./components/MyFooter.vue&#x27;;</span><br><span class="line">import MyList from &#x27;./components/MyList.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    </span><br><span class="line">    components:&#123;</span><br><span class="line">        MyHeader,</span><br><span class="line">        MyFooter,</span><br><span class="line">        MyList</span><br><span class="line">    &#125;,</span><br><span class="line">      data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            //此处是获取本地存储的值并存入todos中，null时返回空值</span><br><span class="line">            todos:JSON.parse(localStorage.getItem(&#x27;todos&#x27;)) || []</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //添加一个todo</span><br><span class="line">        addTodo(todoObj)&#123;</span><br><span class="line">           this.todos.unshift(todoObj)</span><br><span class="line">        &#125;,</span><br><span class="line">        //勾选or取消勾选todo</span><br><span class="line">        checkTodo(id)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.done=!todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //更新一个todo</span><br><span class="line">        updateTodo(id,title)&#123;</span><br><span class="line">            //将此处的方法传入事件总线并调用</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //todo.done=!todo.done处理点击后变为相反状态，比如说原本的状态为已勾选，再点一次方框就是未勾选</span><br><span class="line">                if(todo.id===id) todo.title=title</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //删除todo</span><br><span class="line">        //_是用来占位的</span><br><span class="line">        deleteTodo(_,id)&#123;</span><br><span class="line">            this.todos=this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                //把不想要的值给过滤掉，实现删除功能</span><br><span class="line">                return todo.id!==id</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //全选or全不选</span><br><span class="line">        checkAllTodo(done)&#123;</span><br><span class="line">            this.todos.forEach((todo)=&gt;&#123;</span><br><span class="line">                //赋初始值给todo.done</span><br><span class="line">                todo.done=done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;,</span><br><span class="line">        //清除所有已经完成的todo</span><br><span class="line">        clearAllTodo()&#123;</span><br><span class="line">           this.todos= this.todos.filter((todo)=&gt;&#123;</span><br><span class="line">                return !todo.done</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">   </span><br><span class="line">    watch:&#123;</span><br><span class="line">        todos:&#123;</span><br><span class="line">            //开启深度监视，获取勾选状态</span><br><span class="line">            deep:true,</span><br><span class="line">            handler(value)&#123;</span><br><span class="line">                //在输入框输入内容并回车后，watch监视会在todos的值变化时获取value，并将其放入浏览器的本地存储之中</span><br><span class="line">            localStorage.setItem(&#x27;todos&#x27;,JSON.stringify(value))</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //通过全局事件总线把方法名调用后，返回相应的值，然后进行方法处理</span><br><span class="line">     mounted()&#123;</span><br><span class="line">        this.$bus.$on(&#x27;checkTodo&#x27;,this.checkTodo)</span><br><span class="line">        //this.$bus.$on(&#x27;deletTodo&#x27;,this.deleteTodo)</span><br><span class="line">        this.$bus.$on(&#x27;updateTodo&#x27;,this.updateTodo)</span><br><span class="line">       this.pubId=pubsub.subscribe(&#x27;deleteTodo&#x27;,this.deleteTodo)</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">        this.$bus.$off(&#x27;checkTodo&#x27;)</span><br><span class="line">        this.$bus.$off(&#x27;updateTodo&#x27;)</span><br><span class="line">        pubsub.unsubscribe(this.pubId)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    body &#123;</span><br><span class="line">    background: #fff;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        padding: 4px 12px;</span><br><span class="line">        margin-bottom: 0;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        line-height: 20px;</span><br><span class="line">        text-align: center;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">        box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.2), 0 1px 2px rgba(0, 0, 0, 0.05);</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #da4f49;</span><br><span class="line">        border: 1px solid #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .btn-danger:hover &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: #bd362f;</span><br><span class="line">    &#125;</span><br><span class="line">    .btn-edit &#123;</span><br><span class="line">        color: #fff;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        border: 1px solid rgb(24, 65, 82);</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    .btn:focus &#123;</span><br><span class="line">    outline: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-container &#123;</span><br><span class="line">        width: 600px;</span><br><span class="line">        margin: 0 auto;</span><br><span class="line">    &#125;</span><br><span class="line">    .todo-container .todo-wrap &#123;</span><br><span class="line">        padding: 10px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Components中的组件与之前的Todolist案例的组件相同<br>MyList.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;ul class=&quot;todo-main&quot;&gt;</span><br><span class="line">       &lt;transition-group name=&quot;todo&quot; appear&gt;</span><br><span class="line">        &lt;MyItem </span><br><span class="line">            v-for=&quot;todoObj in todos&quot; </span><br><span class="line">            :key=&quot;todoObj.id&quot; </span><br><span class="line">            :todo=&quot;todoObj&quot; </span><br><span class="line">            </span><br><span class="line">        /&gt;</span><br><span class="line">       &lt;/transition-group&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import MyItem from &#x27;./MyItem.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;MyList&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">        MyItem</span><br><span class="line">    &#125;,</span><br><span class="line">    props:[&#x27;todos&#x27;]</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-main &#123;</span><br><span class="line">        margin-left: 0px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding: 0px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-empty &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        border: 1px solid #ddd;</span><br><span class="line">        border-radius: 2px;</span><br><span class="line">        padding-left: 5px;</span><br><span class="line">        margin-top: 10px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">     /* 样式进入 */</span><br><span class="line">    .todo-enter-active&#123;</span><br><span class="line">        animation: qinghua 0.5s linear;</span><br><span class="line">    &#125;</span><br><span class="line"> /* 样式离开 */</span><br><span class="line">   .todo-leave-active&#123;</span><br><span class="line">        animation: qinghua 0.5s reverse linear;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @keyframes qinghua&#123;</span><br><span class="line">        from&#123;</span><br><span class="line">            transform: translateX(100%);</span><br><span class="line">        &#125;</span><br><span class="line">        to&#123;</span><br><span class="line">            transform: translateX(0px);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyItem.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br></pre></td><td class="code"><pre><span class="line">  </span><br><span class="line">      &lt;li&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;!-- :checked可以动态接收勾选状态，接收值为true则勾选，false为不勾选，此处因为接收了todo数据，所以可以写成 todo.done--&gt;</span><br><span class="line">            &lt;!-- :checked=&quot;todo.done&quot;可以写成v-model=&quot;todo.done&quot;，但是缺点是v-model只会检测浅层的数据变化，例如当具体数据a不再嵌套在其它数据中而是直接给v-model去改，那么就会报错，并且会修改props，有点违反原则，所以不建议使用这种方法 --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; :checked=&quot;todo.done&quot; @click=&quot;handleCheck(todo.id)&quot;/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;!-- 编辑和展示的按钮不需要同时展示，所以两个功能是互斥的，展示的功能需要取v-show=&quot;!todo.isEdit&quot;,例如当原本的值为false时，给到这里后就是true，就展示出来--&gt;</span><br><span class="line">            &lt;span v-show=&quot;!todo.isEdit&quot;&gt;&#123;&#123;todo.title&#125;&#125;&lt;/span&gt;</span><br><span class="line">            &lt;input </span><br><span class="line">            type=&quot;text&quot; </span><br><span class="line">            v-show=&quot;todo.isEdit&quot; </span><br><span class="line">            :value=&quot;todo.title&quot;  </span><br><span class="line">            @blur=&quot;handleBlur(todo,$event)&quot;</span><br><span class="line">            ref=&quot;inputTitle&quot;</span><br><span class="line">            &gt;</span><br><span class="line">            &lt;!-- $event用来获取最新的输入框数据 --&gt;</span><br><span class="line">            &lt;!--  @blur为失去焦点事件 --&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;/label&gt;</span><br><span class="line">        </span><br><span class="line">         &lt;button class=&quot;btn btn-danger&quot; @click=&quot;handleDelete(todo.id)&quot;&gt;删除&lt;/button&gt;</span><br><span class="line">         &lt;button v-show=&quot;!todo.isEdit&quot; class=&quot;btn btn-edit&quot; @click=&quot;handleEdit(todo)&quot; &gt;编辑&lt;/button&gt;</span><br><span class="line">     &lt;/li&gt;</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import pubsub from &#x27;pubsub-js&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyItem&#x27;,</span><br><span class="line">//声明接收todo对象</span><br><span class="line">props:[&#x27;todo&#x27;],</span><br><span class="line">methods:&#123;</span><br><span class="line">    //勾选or不勾选</span><br><span class="line">    handleCheck(id)&#123;</span><br><span class="line">        //通知App组件将对应的todo对象的done值取反</span><br><span class="line">        //this.checkTodo(id)</span><br><span class="line">        //响应checkTodo方法名，并返回id的值</span><br><span class="line">        this.$bus.$emit(&#x27;checkTodo&#x27;,id)</span><br><span class="line">    &#125;,</span><br><span class="line">    //删除按钮</span><br><span class="line">    handleDelete(id)&#123;</span><br><span class="line">        //confirm确认布尔值为true还是false</span><br><span class="line">        if(confirm(&#x27;确认要删除吗？&#x27;))&#123;</span><br><span class="line">            //使用逐级传递，响应deleteTodo，并返回id的值</span><br><span class="line">            //this.deleteTodo(id)</span><br><span class="line">   </span><br><span class="line">            </span><br><span class="line">            //使用全局事件总线，响应deleteTodo方法名，并返回id的值</span><br><span class="line">            //this.$bus.$emit(&#x27;deleteTodo&#x27;,id)</span><br><span class="line"></span><br><span class="line">            //通过pubsub.publish将id值传递给app的deleteTodo</span><br><span class="line">            pubsub.publish(&#x27;deleteTodo&#x27;,id)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //编辑按钮</span><br><span class="line">    handleEdit(todo)&#123;</span><br><span class="line">        //isEdit不必重复添加，因为在第一次编辑后，isEdit就已经成功追加</span><br><span class="line">        //如果再次编辑的话，就不必再追加isEdit，只需要改变isEdit的值即可</span><br><span class="line">        //hasOwnProperty用来判断是否拥有todo.isEdit</span><br><span class="line">        if(todo.hasOwnProperty(&#x27;isEdit&#x27;))&#123;</span><br><span class="line">            todo.isEdit=true</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">        //要写响应式数据，不能够把数据写死，把isEdit的值改成true，进入编辑状态</span><br><span class="line">        this.$set(todo,&#x27;isEdit&#x27;,true)</span><br><span class="line">        &#125;</span><br><span class="line">        //this.$nextTick在更新完dom模板之后，再执行此处的语句</span><br><span class="line">       this.$nextTick(function()&#123;</span><br><span class="line">        this.$refs.inputTitle.focus()</span><br><span class="line">       &#125;)</span><br><span class="line">    &#125;,</span><br><span class="line">    //失去焦点时修改app上的数据</span><br><span class="line">    handleBlur(todo,e)&#123;</span><br><span class="line">        todo.isEdit=false</span><br><span class="line">        //当选项为空时，返回提示语句</span><br><span class="line">        if(!e.target.value) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">        this.$bus.$emit(&#x27;updateTodo&#x27;,todo.id,e.target.value)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    li &#123;</span><br><span class="line">        list-style: none;</span><br><span class="line">        height: 36px;</span><br><span class="line">        line-height: 36px;</span><br><span class="line">        padding: 0 5px;</span><br><span class="line">        border-bottom: 1px solid #ddd;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label &#123;</span><br><span class="line">        float: left;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li label li input &#123;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 6px;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        display: none;</span><br><span class="line">        margin-top: 3px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:before &#123;</span><br><span class="line">        content: initial;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:last-child &#123;</span><br><span class="line">        border-bottom: none;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover &#123;</span><br><span class="line">        background-color: #eee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    li:hover button&#123;</span><br><span class="line">        display: block;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyHeader.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=&quot;todo-header&quot;&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入你的任务名称，按回车键确认&quot; @keydown.enter=&quot;add&quot; v-model=&quot;title&quot;/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyHeader&#x27;,</span><br><span class="line">//当receive被props接收后，receive就直接放在了组件实例对象vc身上</span><br><span class="line">//也就是说，只需要使用this.receive()(this为vc)，就可以往括号中传入相应的值，被App.vue中定义的方法receive所接收</span><br><span class="line"></span><br><span class="line">data()&#123;</span><br><span class="line">  return&#123;</span><br><span class="line">    //title的初始值为空</span><br><span class="line">    title:&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods:&#123;</span><br><span class="line">  </span><br><span class="line">  add()&#123;</span><br><span class="line">    //如果title输入栏为空，则不添加元素</span><br><span class="line">    if(!this.title) return alert(&#x27;输入不能为空&#x27;)</span><br><span class="line">    //将用户的输入包装成一个todo对象</span><br><span class="line">    //this.title==e.target.value</span><br><span class="line">    const todoObj=&#123;id:nanoid(),title:this.title,done:false&#125;</span><br><span class="line">    //此处将todoObj的数值传入App.vue中</span><br><span class="line">    this.$emit(&#x27;addTodo&#x27;,todoObj)</span><br><span class="line">    //添加完数据后，清空输入栏</span><br><span class="line">    this.title=&#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-header input &#123;</span><br><span class="line">        width: 560px;</span><br><span class="line">        height: 28px;</span><br><span class="line">        font-size: 14px;</span><br><span class="line">        border: 1px solid #ccc;</span><br><span class="line">        border-radius: 4px;</span><br><span class="line">        padding: 4px 7px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-header input:focus &#123;</span><br><span class="line">        outline: none;</span><br><span class="line">        border-color: rgba(82, 168, 236, 0.8);</span><br><span class="line">        box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075), 0 0 8px rgba(82, 168, 236, 0.6);</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>MyFooter.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;todo-footer&quot; v-show=&quot;total&quot;&gt;</span><br><span class="line">        &lt;label&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;</span><br><span class="line">        &lt;/label&gt;</span><br><span class="line">        &lt;span&gt;</span><br><span class="line">            &lt;span&gt;已完成&#123;&#123;doneTotal&#125;&#125;&lt;/span&gt; / 全部&#123;&#123;total&#125;&#125;</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">        &lt;button class=&quot;btn btn-danger&quot; @click=&quot;clearAll&quot;&gt;清除已完成任务&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;MyFooter&#x27;,</span><br><span class="line">props:[&#x27;todos&#x27;],</span><br><span class="line">computed:&#123;</span><br><span class="line">    total()&#123;</span><br><span class="line">        //返回todos全部的长度</span><br><span class="line">        return this.todos.length</span><br><span class="line">    &#125;,</span><br><span class="line">    doneTotal()&#123;</span><br><span class="line">        /*const x=this.todos.reduce((pre,current)=&gt;&#123;</span><br><span class="line">            //current所代表的是每一个todo</span><br><span class="line">            //pre用来计数，并且可以作为reduce的返回值</span><br><span class="line">            //done为true的为1，false为0</span><br><span class="line">            return pre+(current.done?1:0)</span><br><span class="line">        &#125;,0)*/</span><br><span class="line">        //简写</span><br><span class="line">        return this.todos.reduce((pre,todo)=&gt;pre+(todo.done?1:0),0)</span><br><span class="line">     </span><br><span class="line">    &#125;,</span><br><span class="line">    isAll:&#123;</span><br><span class="line">        //this.doneTotal===this.total并且total值大于0的情况下，footer才会展示</span><br><span class="line">        //使用v-model会引起数据变化，需要些getter和setter</span><br><span class="line">        get()&#123;</span><br><span class="line">        return this.doneTotal===this.total &amp;&amp; this.total&gt;0</span><br><span class="line">    &#125;,</span><br><span class="line">        set(value)&#123;</span><br><span class="line">            //value获取是否打勾</span><br><span class="line">            //this.checkAllTodo(value)</span><br><span class="line">            this.$emit(&#x27;checkAllTodo&#x27;,value)</span><br><span class="line">        &#125;   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        //    checkAll(e)&#123;</span><br><span class="line">        //        //e.target.checked获取是否打勾</span><br><span class="line">        //        this.checkAllTodo(e.target.checked)</span><br><span class="line">             </span><br><span class="line">        //    &#125; </span><br><span class="line">        clearAll()&#123;</span><br><span class="line">            this.$emit(&#x27;clearAllTodo&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">    .todo-footer &#123;</span><br><span class="line">        height: 40px;</span><br><span class="line">        line-height: 40px;</span><br><span class="line">        padding-left: 6px;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label &#123;</span><br><span class="line">        display: inline-block;</span><br><span class="line">        margin-right: 20px;</span><br><span class="line">        cursor: pointer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer label input &#123;</span><br><span class="line">        position: relative;</span><br><span class="line">        top: -1px;</span><br><span class="line">        vertical-align: middle;</span><br><span class="line">        margin-right: 5px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .todo-footer button &#123;</span><br><span class="line">        float: right;</span><br><span class="line">        margin-top: 5px;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="配置代理服务器"><a href="#配置代理服务器" class="headerlink" title="配置代理服务器"></a>配置代理服务器</h3><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!--  vue脚手架配置代理服务器：</span><br><span class="line"></span><br><span class="line">方法一：在vue.config.js中添加如下配置：</span><br><span class="line"></span><br><span class="line">devServer:&#123;</span><br><span class="line">    proxy:&quot;http://localhost:5000&quot;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">优点：配置简单，请求资源时直接发给前端即可</span><br><span class="line">缺点：不能配置多个代理，不能灵活的控制请求是否走代理</span><br><span class="line">工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</span><br><span class="line">方法二：</span><br><span class="line"></span><br><span class="line">devServer: &#123;</span><br><span class="line">    proxy: &#123;</span><br><span class="line">      &#x27;/api1&#x27;: &#123; // 匹配所有以 &#x27;/api1&#x27;开头的请求路径</span><br><span class="line">        target: &#x27;http://localhost:5000&#x27;,// 代理目标的基础路径</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        pathRewrite: &#123;&#x27;^/api1&#x27;: &#x27;&#x27;&#125;</span><br><span class="line">      &#125;,</span><br><span class="line">      &#x27;/api2&#x27;: &#123; // 匹配所有以 &#x27;/api2&#x27;开头的请求路径</span><br><span class="line">        target: &#x27;http://localhost:5001&#x27;,// 代理目标的基础路径</span><br><span class="line">        changeOrigin: true,</span><br><span class="line">        pathRewrite: &#123;&#x27;^/api2&#x27;: &#x27;&#x27;&#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// changeOrigin设置为true时，服务器收到的请求头中的host为：localhost:5000</span><br><span class="line">// changeOrigin设置为false时，服务器收到的请求头中的host为：localhost:8080</span><br><span class="line"></span><br><span class="line">说明：</span><br><span class="line"></span><br><span class="line">优点：可以配置多个代理，且可以灵活的控制请求是否走代理</span><br><span class="line">缺点：配置略微繁琐，请求资源时必须加前缀--&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">        &lt;button @click=&quot;getStudents&quot;&gt;获取学生信息&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;getCar&quot;&gt;获取汽车信息&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">       getStudents()&#123;</span><br><span class="line">        //    axios用来处理ajax请求</span><br><span class="line">        //此处使用代理服务器处理跨域问题</span><br><span class="line">        // devServer不能配置多个代理，不能灵活的控制请求是否走代理</span><br><span class="line">        </span><br><span class="line">        //在devServer中写入一个前缀api，此处命名为qinghua，使用前缀后就相当于使用了的代理服务器</span><br><span class="line">        //使用这种形式的代理服务器时，代理服务器会把前缀名qinghua也一并带入请求网址中，而服务器的网址中并没有前缀的名称，前缀只用于代理服务的连接</span><br><span class="line">        //所以要在vue.config的配置文件中，把过滤条件设置好才可以正常访问服务器</span><br><span class="line">           axios.get(&#x27;http://localhost:8080/qinghua/students&#x27;).then(</span><br><span class="line">            //    axios返回的response是对象，想要获取数据要写入response.data</span><br><span class="line">               response=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;,response.data)</span><br><span class="line">               &#125;,</span><br><span class="line">            //    error.message获取错误信息</span><br><span class="line">               error=&gt;&#123;</span><br><span class="line">                   console.log(&#x27;请求失败了&#x27;,error.message)</span><br><span class="line">               &#125;</span><br><span class="line">           )</span><br><span class="line">       &#125;,</span><br><span class="line">       getCar()&#123;</span><br><span class="line">               axios.get(&#x27;http://localhost:8080/car/cars&#x27;).then(</span><br><span class="line">            //    axios返回的response是对象，想要获取数据要写入response.data</span><br><span class="line">               response=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;,response.data)</span><br><span class="line">               &#125;,</span><br><span class="line">            //    error.message获取错误信息</span><br><span class="line">               error=&gt;&#123;</span><br><span class="line">                   console.log(&#x27;请求失败了&#x27;,error.message)</span><br><span class="line">               &#125;</span><br><span class="line">           )</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="github搜索案例"><a href="#github搜索案例" class="headerlink" title="github搜索案例"></a>github搜索案例</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Search/&gt;</span><br><span class="line">        &lt;List/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &#x27;./components/Search.vue&#x27;</span><br><span class="line">import List from &#x27;./components/List.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">       Search,</span><br><span class="line">       List</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components下设置List.vue和Search.vue两个组件</p><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">        &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; v-model=&quot;keyWord&quot;/&gt;&amp;nbsp;</span><br><span class="line">            &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Search&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            keyWord:&#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        searchUsers()&#123;</span><br><span class="line"></span><br><span class="line">            //请求前更新List的数据</span><br><span class="line">            //isFirst为欢迎语，只展示在用户一开始进入界面中的时候</span><br><span class="line">            this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isFirst:false,isLoding:true,errMsg:&#x27;&#x27;,users:[]&#125;)</span><br><span class="line">            //此处的网址已配置cors跨域</span><br><span class="line">            axios.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">                res=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;)</span><br><span class="line">                     //请求成功后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:&#x27;&#x27;,users:res.data.items&#125;)</span><br><span class="line">               &#125;,</span><br><span class="line">                err=&gt;&#123;</span><br><span class="line">                   </span><br><span class="line">                     //请求失败后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:err.message,users:[]&#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">       &lt;!--展示用户列表  --&gt;</span><br><span class="line">        &lt;div v-show=&quot;info.users.length&quot; class=&quot;card&quot; v-for=&quot;user in info.users&quot; :key=&quot;user.login&quot;&gt;</span><br><span class="line">            &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">            &lt;img :src=&quot;user.avatar_url&quot; style=&#x27;width: 100px&#x27;/&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;user.login&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 展示欢迎词 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isFirst&quot;&gt;欢迎使用!&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示加载中 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isLoading&quot;&gt;加载中....&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示错误信息 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123;info.errMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;List&#x27;,</span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">       info:&#123;</span><br><span class="line">        isFirst:true,</span><br><span class="line">        isLoading:false,</span><br><span class="line">        errMsg:&#x27;&#x27;,</span><br><span class="line">        users:[]</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">//此处接收数据</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$bus.$on(&#x27;upateListData&#x27;,(dataObj)=&gt;&#123;</span><br><span class="line">    //    此处为es6语法，以...dataObj为主，替换掉...this.info的数据，不破坏原来的结构</span><br><span class="line">       this.info=&#123;...this.info,...dataObj&#125;</span><br><span class="line">    console.log(this)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .album &#123;</span><br><span class="line">    min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">    padding-top: 3rem;</span><br><span class="line">    padding-bottom: 3rem;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 33.333%;</span><br><span class="line">    padding: .75rem;</span><br><span class="line">    margin-bottom: 2rem;</span><br><span class="line">    border: 1px solid #efefef;</span><br><span class="line">    text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &gt; img &#123;</span><br><span class="line">    margin-bottom: .75rem;</span><br><span class="line">    border-radius: 100px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card-text &#123;</span><br><span class="line">    font-size: 85%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="github搜索案例-vue-resource版本"><a href="#github搜索案例-vue-resource版本" class="headerlink" title="github搜索案例_vue-resource版本"></a>github搜索案例_vue-resource版本</h4><p>组件设置与上一个github搜索案例相同<br>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Search/&gt;</span><br><span class="line">        &lt;List/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Search from &#x27;./components/Search.vue&#x27;</span><br><span class="line">import List from &#x27;./components/List.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">       Search,</span><br><span class="line">       List</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Search.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;section class=&quot;jumbotron&quot;&gt;</span><br><span class="line">        &lt;h3 class=&quot;jumbotron-heading&quot;&gt;Search Github Users&lt;/h3&gt;</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; placeholder=&quot;enter the name you search&quot; v-model=&quot;keyWord&quot;/&gt;&amp;nbsp;</span><br><span class="line">            &lt;button @click=&quot;searchUsers&quot;&gt;Search&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/section&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Search&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            keyWord:&#x27;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        searchUsers()&#123;</span><br><span class="line"></span><br><span class="line">            //请求前更新List的数据</span><br><span class="line">            //isFirst为欢迎语，只展示在用户一开始进入界面中的时候</span><br><span class="line">            this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isFirst:false,isLoding:true,errMsg:&#x27;&#x27;,users:[]&#125;)</span><br><span class="line">            //此处的网址已配置cors跨域</span><br><span class="line">            //此处使用vue-resource中的$http，这个也是promise形式的</span><br><span class="line">            this.$http.get(`https://api.github.com/search/users?q=$&#123;this.keyWord&#125;`).then(</span><br><span class="line">                res=&gt;&#123;</span><br><span class="line">                    console.log(&#x27;请求成功了&#x27;)</span><br><span class="line">                     //请求成功后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:&#x27;&#x27;,users:res.data.items&#125;)</span><br><span class="line">               &#125;,</span><br><span class="line">                err=&gt;&#123;</span><br><span class="line">                   </span><br><span class="line">                     //请求失败后更新List的数据</span><br><span class="line">                    this.$bus.$emit(&#x27;upateListData&#x27;,&#123;isLoding:false,errMsg:err.message,users:[]&#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>List.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">   &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">       &lt;!--展示用户列表  --&gt;</span><br><span class="line">        &lt;div v-show=&quot;info.users.length&quot; class=&quot;card&quot; v-for=&quot;user in info.users&quot; :key=&quot;user.login&quot;&gt;</span><br><span class="line">            &lt;a :href=&quot;user.html_url&quot; target=&quot;_blank&quot;&gt;</span><br><span class="line">            &lt;img :src=&quot;user.avatar_url&quot; style=&#x27;width: 100px&#x27;/&gt;</span><br><span class="line">            &lt;/a&gt;</span><br><span class="line">            &lt;p class=&quot;card-text&quot;&gt;&#123;&#123;user.login&#125;&#125;&lt;/p&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- 展示欢迎词 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isFirst&quot;&gt;欢迎使用!&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示加载中 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.isLoading&quot;&gt;加载中....&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 展示错误信息 --&gt;</span><br><span class="line">        &lt;h1 v-show=&quot;info.errMsg&quot;&gt;&#123;&#123;info.errMsg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;List&#x27;,</span><br><span class="line">data()&#123;</span><br><span class="line">    return&#123;</span><br><span class="line">       info:&#123;</span><br><span class="line">        isFirst:true,</span><br><span class="line">        isLoading:false,</span><br><span class="line">        errMsg:&#x27;&#x27;,</span><br><span class="line">        users:[]</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;,</span><br><span class="line">//此处接收数据</span><br><span class="line">mounted()&#123;</span><br><span class="line">    this.$bus.$on(&#x27;upateListData&#x27;,(dataObj)=&gt;&#123;</span><br><span class="line">    //    此处为es6语法，以...dataObj为主，替换掉...this.info的数据，不破坏原来的结构</span><br><span class="line">       this.info=&#123;...this.info,...dataObj&#125;</span><br><span class="line">    console.log(this)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .album &#123;</span><br><span class="line">    min-height: 50rem; /* Can be removed; just added for demo purposes */</span><br><span class="line">    padding-top: 3rem;</span><br><span class="line">    padding-bottom: 3rem;</span><br><span class="line">    background-color: #f7f7f7;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &#123;</span><br><span class="line">    float: left;</span><br><span class="line">    width: 33.333%;</span><br><span class="line">    padding: .75rem;</span><br><span class="line">    margin-bottom: 2rem;</span><br><span class="line">    border: 1px solid #efefef;</span><br><span class="line">    text-align: center;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card &gt; img &#123;</span><br><span class="line">    margin-bottom: .75rem;</span><br><span class="line">    border-radius: 100px;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .card-text &#123;</span><br><span class="line">    font-size: 85%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">            &lt;img src=&quot;https://s3.ax1x.com/2021/01/16/srJlq0.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">&lt;ul&gt;</span><br><span class="line">&lt;li v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">&lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">&lt;video controls src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;&gt;&lt;/video&gt;</span><br><span class="line">&lt;/Category&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           foods:[&#x27;火锅&#x27;,&#x27;烧烤&#x27;,&#x27;小龙虾&#x27;,&#x27;牛排&#x27;],</span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line">           films:[&#x27;《教父》&#x27;,&#x27;《拆弹专家》&#x27;]</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components下放入Category.vue组件</p><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;(item,index) in listData&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">        </span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- 定义插槽，将app中的数据填充此处 --&gt;</span><br><span class="line">      &lt;slot&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;Category title=&quot;美食&quot;&gt;</span><br><span class="line">            &lt;img slot=&quot;center&quot; src=&quot;https://s3.ax1x.com/2021/01/16/srJlq0.jpg&quot; alt=&quot;&quot;&gt;</span><br><span class="line">            &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;    </span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">&lt;ul slot=&quot;center&quot;&gt;</span><br><span class="line">&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">               </span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">            &lt;div class=&quot;foot&quot; slot=&quot;footer&quot;&gt;</span><br><span class="line">             &lt;a  href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;  </span><br><span class="line">             &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;哔哩哔哩&lt;/a&gt;      </span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">&lt;Category title=&quot;电影&quot;&gt;</span><br><span class="line">&lt;video  slot=&quot;center&quot; controls src=&quot;http://clips.vorwaerts-gmbh.de/big_buck_bunny.mp4&quot;&gt;&lt;/video&gt;</span><br><span class="line">            &lt;!-- &lt;a slot=&quot;footer&quot; href=&quot;http://www.baidu.com&quot;&gt;百度一下&lt;/a&gt;     --&gt;</span><br><span class="line">            &lt;!-- v-slot只能够作用在template标签上 --&gt;</span><br><span class="line">            &lt;template v-slot:footer&gt;</span><br><span class="line">            &lt;div class=&quot;foot&quot; &gt;</span><br><span class="line">             &lt;a  href=&quot;http://www.baidu.com&quot;&gt;经典&lt;/a&gt;  </span><br><span class="line">             &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;热门&lt;/a&gt;      </span><br><span class="line">            &lt;a  href=&quot;http://www.bilibili.com&quot;&gt;推荐&lt;/a&gt;    </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">            &lt;h4&gt;欢迎观看&lt;/h4&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line">   data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           foods:[&#x27;火锅&#x27;,&#x27;烧烤&#x27;,&#x27;小龙虾&#x27;,&#x27;牛排&#x27;],</span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line">           films:[&#x27;《教父》&#x27;,&#x27;《拆弹专家》&#x27;]</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container,.foot&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h4&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components下放入Category.vue组件</p><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">          &lt;li v-for=&quot;(item,index) in listData&quot; :key=&quot;index&quot;&gt;&#123;&#123;item&#125;&#125;&lt;/li&gt;</span><br><span class="line">        </span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- 定义插槽，将app中的数据填充此处 --&gt;</span><br><span class="line">      &lt;!-- 定义具名插槽，也就是为插槽命名 --&gt;</span><br><span class="line">    </span><br><span class="line">      &lt;slot name=&quot;center&quot;&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">      &lt;slot name=&quot;footer&quot;&gt;此处为默认值，为默认插槽&lt;/slot&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;listData&#x27;,&#x27;title&#x27;]</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h3><p>main.js</p><figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line">    //使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">             &lt;!-- 在使用插槽时,想要接收另一个作用域的数据,就必须要写一个template标签,并在其中写入scop接收数据 --&gt;</span><br><span class="line">&lt;!-- 生成的数据的格式是由此处的使用者而定，也就是template中的语句 --&gt;</span><br><span class="line">        &lt;!-- 此处使用es6的传值语法&#123;games&#125; --&gt;</span><br><span class="line">        &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;ul&gt;</span><br><span class="line">&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ul&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">            &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;ol&gt;</span><br><span class="line">&lt;li  v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;</span><br><span class="line">            &lt;/ol&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">         &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line">        </span><br><span class="line">         &lt;Category title=&quot;游戏&quot; &gt;</span><br><span class="line">             &lt;template scope=&quot;&#123;games&#125;&quot;&gt;</span><br><span class="line">            &lt;h5 v-for=&quot;(g,index) in games&quot; :key=&quot;index&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h5&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">         &lt;/Category&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Category from &#x27;./components/Category.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Category</span><br><span class="line">   &#125;,</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">.container,.foot&#123;</span><br><span class="line">    display: flex;</span><br><span class="line">    justify-content: space-around;</span><br><span class="line">&#125;</span><br><span class="line">.container img&#123;</span><br><span class="line">    width: 100%;</span><br><span class="line">&#125;</span><br><span class="line">video &#123;</span><br><span class="line">    width:100%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">h4&#123;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components下放入Category.vue组件</p><p>Category.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;category&quot;&gt; </span><br><span class="line">      &lt;h3&gt;</span><br><span class="line">        &#123;&#123;title&#125;&#125;分类</span><br><span class="line">      &lt;/h3&gt;</span><br><span class="line">      &lt;!-- 在由于games的数据在category的作用域中，所以想要传数据到另一个作用域的时候，需要在slot标签中写入一个v-bind，</span><br><span class="line">      然后就可以把数据传输到另一个使用插槽的作用域 --&gt;</span><br><span class="line">      &lt;!-- 如果使用了v-for的方法，就可以在slot标签内使用:$index=&quot;index&quot;将遍历出来的序列号传输给父组件</span><br><span class="line">            在父组件中如果想要将子组件里传过来的index解析出来的话，就要将index序列号与需要的数据值配位一致，例如slot-scope=&quot;&#123;todo,$index&#125;&quot;</span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;slot :games=&quot;games&quot;&gt;这是默认的内容&lt;/slot&gt;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Category&#x27;,</span><br><span class="line">    props:[&#x27;title&#x27;],</span><br><span class="line">    data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">           </span><br><span class="line">           games:[&#x27;植物大战僵尸&#x27;,&#x27;红色警戒&#x27;,&#x27;空洞骑士&#x27;,&#x27;王国&#x27;],</span><br><span class="line"> </span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .category&#123;</span><br><span class="line">        background-color: skyblue;</span><br><span class="line">        width: 200px;</span><br><span class="line">        height: 300px;</span><br><span class="line">    &#125;</span><br><span class="line">    .category h3&#123;</span><br><span class="line">        background-color: orange;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="认识Vuex"><a href="#认识Vuex" class="headerlink" title="认识Vuex"></a>认识Vuex</h3><h4 id="vuex官方解释"><a href="#vuex官方解释" class="headerlink" title="vuex官方解释"></a>vuex官方解释</h4><p>  Vuex 是一个专为 Vue.js 应用程序开发的状态管理模式 + 库。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。</p><p>Vuex 可以帮助我们管理共享状态，并附带了更多的概念和框架。这需要对短期和长期效益进行权衡。</p><p>如果您不打算开发大型单页应用，使用 Vuex 可能是繁琐冗余的。确实是如此——如果您的应用够简单，您最好不要使用 Vuex。一个简单的 store 模式就足够您所需了。但是，如果您需要构建一个中大型单页应用，您很可能会考虑如何更好地在组件外部管理状态，Vuex 将会成为自然而然的选择。</p><p>而在接下来的案例中，将会使用vuex进行案例的构建，以及使用纯vue的版本与vuex的版本进行比对</p><p>vuex的安装<br>npm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install vuex@next --save</span><br></pre></td></tr></table></figure><p>yarn</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add vuex@next --save</span><br></pre></td></tr></table></figure><h3 id="求和案例-纯vue版本"><a href="#求和案例-纯vue版本" class="headerlink" title="求和案例_纯vue版本"></a>求和案例_纯vue版本</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在vuex中，我们需要设置一个store文件来进行状态的管理<br>我们可以在src目录下创建了一个store文件夹，其中的index.js文件则是状态管理文件<br>index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">jia(context,value)&#123;</span><br><span class="line">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">JIA(state,value)&#123;</span><br><span class="line">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">state.sum += value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0 //当前的和</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components组件:Count.vue</p><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">&lt;h1&gt;当前求和为：&#123;&#123;$store.state.sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Count&#x27;,</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">n:1, //用户选择的数字</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">increment()&#123;</span><br><span class="line">//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">&#125;,</span><br><span class="line">decrement()&#123;</span><br><span class="line">this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">&#125;,</span><br><span class="line">incrementOdd()&#123;</span><br><span class="line">                </span><br><span class="line">this.$store.dispatch(&#x27;addOdd&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">incrementWait()&#123;</span><br><span class="line">this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">button&#123;</span><br><span class="line">margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="求和案例-使用了getter、mapState和mapGetters"><a href="#求和案例-使用了getter、mapState和mapGetters" class="headerlink" title="求和案例_使用了getter、mapState和mapGetters"></a>求和案例_使用了getter、mapState和mapGetters</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">jia(context,value)&#123;</span><br><span class="line">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">JIA(state,value)&#123;</span><br><span class="line">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">state.sum += value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">bigSum(state)&#123;</span><br><span class="line">return state.sum * 10</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">...</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components组件：Count.vue</p><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState,mapGetters&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Count&#x27;,</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">n:1, //用户选择的数字</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line">//此处为靠自己手打的计算属性</span><br><span class="line">computed:&#123;</span><br><span class="line">// sum()&#123;</span><br><span class="line">// return this.$store.state.sum</span><br><span class="line">// &#125;,</span><br><span class="line">// school()&#123;</span><br><span class="line">// return this.$store.state.school</span><br><span class="line">// &#125;,</span><br><span class="line">// subject()&#123;</span><br><span class="line">// return this.$store.state.subject</span><br><span class="line">// &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//此处使用es6的展开语法</span><br><span class="line">//mapState自动生成计算属性，从state中读取数据(对象写法)</span><br><span class="line">// ...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">// 此处的数组写法既可以声明计算属性名，也可以声明state后的变量名，而计算属性名要和state中的变量名相同</span><br><span class="line">  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">/*--------------------------------------*/</span><br><span class="line">// bigSum()&#123;</span><br><span class="line">// return this.$store.getters.bigSum</span><br><span class="line">// &#125;</span><br><span class="line"></span><br><span class="line">//使用mapGetters自动生成getter的计算属性，从getter中获取数据(对象写法)</span><br><span class="line">// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line">//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">increment()&#123;</span><br><span class="line">//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">&#125;,</span><br><span class="line">decrement()&#123;</span><br><span class="line">this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">&#125;,</span><br><span class="line">incrementOdd()&#123;</span><br><span class="line">                </span><br><span class="line">this.$store.dispatch(&#x27;addOdd&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">incrementWait()&#123;</span><br><span class="line">this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">console.log(x)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">button&#123;</span><br><span class="line">margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="求和案例-使用mapMutations与mapActions"><a href="#求和案例-使用mapMutations与mapActions" class="headerlink" title="求和案例_使用mapMutations与mapActions"></a>求和案例_使用mapMutations与mapActions</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">jia(context,value)&#123;</span><br><span class="line">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">JIA(state,value)&#123;</span><br><span class="line">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">state.sum += value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">bigSum(state)&#123;</span><br><span class="line">return state.sum * 10</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">...</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components组件：Count.vue</p><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState,mapGetters,mapMutations,mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Count&#x27;,</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">n:1, //用户选择的数字</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">computed:&#123;</span><br><span class="line"></span><br><span class="line">//此处使用es6的展开语法</span><br><span class="line">//mapState自动生成计算属性，从state中读取数据(对象写法)</span><br><span class="line">// ...mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">// 此处的数组写法既可以声明计算属性名，也可以连接state中的方法名，而计算属性名要和state中的方法名相同</span><br><span class="line">  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">/*--------------------------------------*/</span><br><span class="line"></span><br><span class="line">//使用mapGetters自动生成getter的计算属性，从getter中获取数据(对象写法)</span><br><span class="line">// ...mapGetters(&#123;bigSum:&#x27;bigSum&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line">//此处为手写的方法代码</span><br><span class="line">// 如果是单纯没有多少业务逻辑，可以直接通过commit调用mutations,不用通过actions</span><br><span class="line">//increment()&#123;</span><br><span class="line">//经过配置，现在$store存在了vc上，所以调用this.$store，并使用dispatch向store提交数据</span><br><span class="line">// this.$store.commit(&#x27;ADD&#x27;,this.n)</span><br><span class="line">// &#125;,</span><br><span class="line">// decrement()&#123;</span><br><span class="line">// this.$store.commit(&#x27;REDUCE&#x27;,this.n)</span><br><span class="line">// &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">//此处在生成函数时，会接收button按钮上的event点击事件，从而传输到mutation中，造成错误</span><br><span class="line">//所以需要在按钮上的函数名后接上data中的值</span><br><span class="line">...mapMutations(&#123;increment:&#x27;ADD&#x27;,decrement:&#x27;REDUCE&#x27;&#125;),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(数组写法)</span><br><span class="line">//此处数组中的值是声明本文件中的方法名和连接mutation的方法名的，两边需要名称相同才可以实现相应的功能</span><br><span class="line">// ...mapMutations([&#x27;ADD&#x27;,&#x27;REDUCE&#x27;]),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">// -----------------------------------------</span><br><span class="line">// 手写的方法代码</span><br><span class="line">// incrementOdd()&#123;</span><br><span class="line">// this.$store.dispatch(&#x27;addOdd&#x27;,this.n)</span><br><span class="line">// &#125;,</span><br><span class="line">// incrementWait()&#123;</span><br><span class="line">// this.$store.dispatch(&#x27;addWait&#x27;,this.n)</span><br><span class="line"></span><br><span class="line">// &#125;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">...mapActions(&#123;incrementOdd:&#x27;addOdd&#x27;,incrementWait:&#x27;addWait&#x27;&#125;)</span><br><span class="line">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">// ...mapActions([&#x27;addOdd&#x27;,&#x27;addWait&#x27;])</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">console.log(x)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">button&#123;</span><br><span class="line">margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="求和案例-多组件共享数据"><a href="#求和案例-多组件共享数据" class="headerlink" title="求和案例_多组件共享数据"></a>求和案例_多组件共享数据</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;Person/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count,</span><br><span class="line">    Person</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * 总结：</span><br><span class="line"></span><br><span class="line">Vuex的基本使用：</span><br><span class="line"></span><br><span class="line">初始化数据state，配置actions、mutations，操作文件store.js</span><br><span class="line"></span><br><span class="line">//引入Vue核心库</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">//引入Vuex</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//引用Vuex</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">const actions = &#123;</span><br><span class="line">    //响应组件中加的动作</span><br><span class="line">jia(context,value)&#123;</span><br><span class="line">// console.log(&#x27;actions中的jia被调用了&#x27;,miniStore,value)</span><br><span class="line">context.commit(&#x27;JIA&#x27;,value)</span><br><span class="line">&#125;,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //执行加</span><br><span class="line">JIA(state,value)&#123;</span><br><span class="line">// console.log(&#x27;mutations中的JIA被调用了&#x27;,state,value)</span><br><span class="line">state.sum += value</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//初始化数据</span><br><span class="line">const state = &#123;</span><br><span class="line">   sum:0</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">actions,</span><br><span class="line">mutations,</span><br><span class="line">state,</span><br><span class="line">&#125;)</span><br><span class="line">组件中读取vuex中的数据：$store.state.sum</span><br><span class="line"></span><br><span class="line">组件中修改vuex中的数据：$store.dispatch(&#x27;action中的方法名&#x27;,数据) 或 $store.commit(&#x27;mutations中的方法名&#x27;,数据)</span><br><span class="line"></span><br><span class="line">备注：若没有网络请求或其他业务逻辑，组件中也可以越过actions，即不写dispatch，直接编写commit</span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//准备actions--用于响应组件中的动作</span><br><span class="line">// context用来联系actions和mutation,value用来接收传过来的值</span><br><span class="line">const actions = &#123;</span><br><span class="line">    // add(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用add actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    // reduce(context, value) &#123;</span><br><span class="line">    //     console.log(&#x27;调用reduce actions&#x27;)</span><br><span class="line">    //     context.commit(&#x27;REDUCE&#x27;, value)</span><br><span class="line">    // &#125;,</span><br><span class="line"></span><br><span class="line">    addOdd(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        if (context.state.sum % 2) &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    addWait(context, value) &#123;</span><br><span class="line">        console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">            //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">        setTimeout(() =&gt; &#123;</span><br><span class="line">            context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">        &#125;, 500);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备mutation--用于操作数据(state)</span><br><span class="line">const mutations = &#123;</span><br><span class="line">    //mutation中需要用同名的方法才能够使用action提交过来的值</span><br><span class="line">    //使用大写是为了区分action的方法，实际上此处小写也可以</span><br><span class="line">    // state是存储数据的地方，value是传过来的值</span><br><span class="line">    ADD(state, value) &#123;</span><br><span class="line">        console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">        state.sum += value</span><br><span class="line">    &#125;,</span><br><span class="line">    REDUCE(state, value) &#123;</span><br><span class="line">        console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">        state.sum -= value</span><br><span class="line">    &#125;,</span><br><span class="line">    ADD_PERSON(state, value) &#123;</span><br><span class="line">        console.log(&#x27;ADD_PERSON被调用了 mutations&#x27;)</span><br><span class="line">        state.personList.unshift(value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//准备state--用于存储数据</span><br><span class="line">const state = &#123;</span><br><span class="line">    sum: 0, //当前的和</span><br><span class="line">    school: &#x27;清华大学&#x27;,</span><br><span class="line">    subject: &#x27;线性代数&#x27;,</span><br><span class="line">    personList: [</span><br><span class="line">        &#123; id: &#x27;001&#x27;, name: &#x27;张三&#x27; &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//准备getters--用于将state中的数据进行加工</span><br><span class="line">//假如需要加工的功能需要复用，建议使用getter</span><br><span class="line"></span><br><span class="line">/**getters配置项的使用：</span><br><span class="line"></span><br><span class="line">概念：当state中的数据需要经过加工后再使用时，可以使用getters加工</span><br><span class="line"></span><br><span class="line">在store.js中追加getters配置</span><br><span class="line"></span><br><span class="line">...</span><br><span class="line">const getters = &#123;</span><br><span class="line">bigSum(state)&#123;</span><br><span class="line">return state.sum * 10</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">...</span><br><span class="line">getters</span><br><span class="line">&#125;)</span><br><span class="line"> */</span><br><span class="line">const getters = &#123;</span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    //创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    actions,</span><br><span class="line">    mutations,</span><br><span class="line">    state,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components下在组件：Count.vue,Person.vue</p><p>Count.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;!-- 直接用插值语法调用vc上store.state的sum的值 --&gt;</span><br><span class="line">&lt;h1&gt;当前求和为：&#123;&#123;sum&#125;&#125;&lt;/h1&gt;</span><br><span class="line">&lt;!-- 直接访问$store.getters.bigSum中的数值 --&gt;</span><br><span class="line">        &lt;h3&gt;当前求和放大十倍为：&#123;&#123;bigSum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3&gt;我在&#123;&#123;school&#125;&#125;,学习&#123;&#123;subject&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;h3 style=&quot;color:red&quot;&gt;Person的总人数是：&#123;&#123;personList.length&#125;&#125;&lt;/h3&gt;</span><br><span class="line">&lt;!-- 将选项中的值强制转换成数字类型 --&gt;</span><br><span class="line">&lt;select v-model.number=&quot;n&quot;&gt;</span><br><span class="line">&lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;</span><br><span class="line">&lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;</span><br><span class="line">&lt;/select&gt;</span><br><span class="line">&lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;</span><br><span class="line">&lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;mapState,mapGetters,mapMutations,mapActions&#125; from &#x27;vuex&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">name:&#x27;Count&#x27;,</span><br><span class="line">data() &#123;</span><br><span class="line">return &#123;</span><br><span class="line">n:1, //用户选择的数字</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">computed:&#123;</span><br><span class="line">//mapState自动生成计算属性，从state中读取数据(数组写法)</span><br><span class="line">// 此处的数组写法既可以声明计算属性名，也可以连接state中的方法名，而计算属性名要和state中的方法名相同</span><br><span class="line">  ...mapState([&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;,&#x27;personList&#x27;]),</span><br><span class="line"></span><br><span class="line">/*--------------------------------------*/</span><br><span class="line"></span><br><span class="line">//使用mapGetters自动生成getter的计算属性，从getter中的bigSum获取数据(数组写法)</span><br><span class="line">...mapGetters([&#x27;bigSum&#x27;])</span><br><span class="line">&#125;,</span><br><span class="line">methods: &#123;</span><br><span class="line"></span><br><span class="line">//借助mapMutations生成对应的方法，方法中会调用commit去联系mutations(对象写法)</span><br><span class="line">//此处在生成函数时，会接收button按钮上的event点击事件，从而传输到mutation中，造成错误</span><br><span class="line">//所以需要在按钮上的函数名后接上data中的值</span><br><span class="line">...mapMutations(&#123;increment:&#x27;ADD&#x27;,decrement:&#x27;REDUCE&#x27;&#125;),</span><br><span class="line"></span><br><span class="line">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">...mapActions(&#123;incrementOdd:&#x27;addOdd&#x27;,incrementWait:&#x27;addWait&#x27;&#125;)</span><br><span class="line">//借助mapActions生成对应的方法，方法中会调用dispatch去联系actions(对象写法)</span><br><span class="line">// ...mapActions([&#x27;addOdd&#x27;,&#x27;addWait&#x27;])</span><br><span class="line"></span><br><span class="line">&#125;,</span><br><span class="line">mounted()&#123;</span><br><span class="line">const x=mapState(&#123;sum:&#x27;sum&#x27;,school:&#x27;school&#x27;,subject:&#x27;subject&#x27;&#125;)</span><br><span class="line">console.log(x)</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">button&#123;</span><br><span class="line">margin-left: 5px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Person.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">      &lt;h1&gt;人员列表&lt;/h1&gt;</span><br><span class="line">      &lt;h3 style=&quot;color:red&quot;&gt;Count组件的求和为&#123;&#123;sum&#125;&#125;&lt;/h3&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; placeholder=&quot;请输入名字&quot; v-model=&quot;name&quot;&gt;</span><br><span class="line">      &lt;button @click=&quot;add&quot;&gt;添加&lt;/button&gt;</span><br><span class="line">      &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;p in personList&quot; :key=&quot;p.id&quot;&gt;&#123;&#123;p.name&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import &#123;nanoid&#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&quot;Preson&quot;,</span><br><span class="line">    data()&#123;</span><br><span class="line">      return&#123;</span><br><span class="line">        name:&#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    computed:&#123;</span><br><span class="line">     personList()&#123;</span><br><span class="line">      return this.$store.state.personList</span><br><span class="line">     &#125;,</span><br><span class="line">     sum()&#123;</span><br><span class="line">       return this.$store.state.sum</span><br><span class="line">     &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      add()&#123;</span><br><span class="line">        const personObj=&#123;id:nanoid(),name:this.name&#125;</span><br><span class="line">        this.$store.commit(&#x27;ADD_PERSON&#x27;,personObj)</span><br><span class="line">        this.name=&#x27;&#x27;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="求和案例-模块化编码"><a href="#求和案例-模块化编码" class="headerlink" title="求和案例_模块化编码"></a>求和案例_模块化编码</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">//引入store,文件夹中只有一个文件时，就在选定文件夹的时候，选定这个文件</span><br><span class="line">import store from &#x27;./store&#x27;</span><br><span class="line">//引入插件</span><br><span class="line">import vueResource from &#x27;vue-resource&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//使用插件</span><br><span class="line">Vue.use(vueResource)</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line">    //没有使用vuex时，不能够使用store</span><br><span class="line">    store,</span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    beforeCreate() &#123;</span><br><span class="line">        Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;!-- </span><br><span class="line">   模块化+命名空间：</span><br><span class="line"></span><br><span class="line">目的：让代码更好维护，让多种数据分类更加明确</span><br><span class="line"></span><br><span class="line">修改store.js：</span><br><span class="line"></span><br><span class="line">const countAbout = &#123;</span><br><span class="line">namespaced:true,//开启命名空间</span><br><span class="line">state:&#123;x:1&#125;,</span><br><span class="line">    mutations: &#123; ... &#125;,</span><br><span class="line">    actions: &#123; ... &#125;,</span><br><span class="line">  getters: &#123;</span><br><span class="line">    bigSum(state)&#123;</span><br><span class="line">       return state.sum * 10</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const personAbout = &#123;</span><br><span class="line">  namespaced:true,//开启命名空间</span><br><span class="line">  state:&#123; ... &#125;,</span><br><span class="line">  mutations: &#123; ... &#125;,</span><br><span class="line">  actions: &#123; ... &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const store = new Vuex.Store(&#123;</span><br><span class="line">  modules: &#123;</span><br><span class="line">    countAbout,</span><br><span class="line">    personAbout</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中读取state数据：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接读取</span><br><span class="line">this.$store.state.personAbout.list</span><br><span class="line">//方式二：借助mapState读取：</span><br><span class="line">...mapState(&#x27;countAbout&#x27;,[&#x27;sum&#x27;,&#x27;school&#x27;,&#x27;subject&#x27;]),</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中读取getters数据：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接读取</span><br><span class="line">this.$store.getters[&#x27;personAbout/firstPersonName&#x27;]</span><br><span class="line">//方式二：借助mapGetters读取：</span><br><span class="line">...mapGetters(&#x27;countAbout&#x27;,[&#x27;bigSum&#x27;])</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中调用dispatch：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接dispatch</span><br><span class="line">this.$store.dispatch(&#x27;personAbout/addPersonWang&#x27;,person)</span><br><span class="line">//方式二：借助mapActions：</span><br><span class="line">...mapActions(&#x27;countAbout&#x27;,&#123;incrementOdd:&#x27;jiaOdd&#x27;,incrementWait:&#x27;jiaWait&#x27;&#125;)</span><br><span class="line"></span><br><span class="line">开启命名空间后，组件中调用commit：</span><br><span class="line"></span><br><span class="line">//方式一：自己直接commit</span><br><span class="line">this.$store.commit(&#x27;personAbout/ADD_PERSON&#x27;,person)</span><br><span class="line">//方式二：借助mapMutations：</span><br><span class="line">...mapMutations(&#x27;countAbout&#x27;,&#123;increment:&#x27;JIA&#x27;,decrement:&#x27;JIAN&#x27;&#125;),</span><br><span class="line">  --&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">    &lt;Count/&gt;</span><br><span class="line">    &lt;Person/&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Count from &#x27;./components/Count.vue&#x27;</span><br><span class="line">import Person from &#x27;./components/Person.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">   components:&#123;</span><br><span class="line">     Count,</span><br><span class="line">     Person</span><br><span class="line">   &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">//该文件用于创建vuex中最核心的store</span><br><span class="line"></span><br><span class="line">//引入vue</span><br><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line"></span><br><span class="line">//引入vuex，由于所使用的版本是vue2，所以要使用vuex3</span><br><span class="line">import Vuex from &#x27;vuex&#x27;</span><br><span class="line">//因为store的创建需要在vuex创建完成之后才能生效，所以需要放到这里先把vuex创建好了之后，才去创建store对象</span><br><span class="line">Vue.use(Vuex)</span><br><span class="line"></span><br><span class="line">//引入countOptions</span><br><span class="line">import countOptions from &#x27;./count&#x27;</span><br><span class="line">//引入personOptions</span><br><span class="line">import personOptions from &#x27;./person&#x27;</span><br><span class="line"></span><br><span class="line">//创建并暴露store</span><br><span class="line">export default new Vuex.Store(&#123;</span><br><span class="line">    //使用modules来声明分类好的模块配置</span><br><span class="line">    modules: &#123;</span><br><span class="line">        countAbout: countOptions,</span><br><span class="line">        personAbout: personOptions</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>store&#x2F;count.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">export default &#123;</span><br><span class="line">    //开启命名空间</span><br><span class="line">    namespaced: true,</span><br><span class="line">    //准备actions--用于响应组件中的动作</span><br><span class="line">    actions: &#123;</span><br><span class="line">        addOdd(context, value) &#123;</span><br><span class="line">            console.log(&#x27;调用addOdd actions&#x27;)</span><br><span class="line">                //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">            if (context.state.sum % 2) &#123;</span><br><span class="line">                context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        addWait(context, value) &#123;</span><br><span class="line">            console.log(&#x27;调用addWait actions&#x27;)</span><br><span class="line">                //此处取余得0，转化为布尔值为false，所以也就是说偶数不能运行此方法</span><br><span class="line">            setTimeout(() =&gt; &#123;</span><br><span class="line">                context.commit(&#x27;ADD&#x27;, value)</span><br><span class="line">            &#125;, 500);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备mutation--用于操作数据(state)</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        ADD(state, value) &#123;</span><br><span class="line">            console.log(&#x27;add被调用了 mutations&#x27;)</span><br><span class="line">            state.sum += value</span><br><span class="line">        &#125;,</span><br><span class="line">        REDUCE(state, value) &#123;</span><br><span class="line">            console.log(&#x27;REDUCE被调用了 mutations&#x27;)</span><br><span class="line">            state.sum -= value</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备state--用于存储数据</span><br><span class="line">    state: &#123;</span><br><span class="line">        sum: 0, //当前的和</span><br><span class="line">        school: &#x27;清华大学&#x27;,</span><br><span class="line">        subject: &#x27;线性代数&#x27;</span><br><span class="line">    &#125;,</span><br><span class="line">    //准备getters--用于将state中的数据进行加工</span><br><span class="line">    getters: &#123;</span><br><span class="line"></span><br><span class="line">        bigSum(state) &#123;</span><br><span class="line">            //getters需要返回值</span><br><span class="line">            return state.sum * 10</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store&#x2F;person.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">//人员管理功能相关的配置</span><br><span class="line">import axios from &#x27;axios&#x27;</span><br><span class="line">import &#123; nanoid &#125; from &#x27;nanoid&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    namespaced: true,</span><br><span class="line">    actions: &#123;</span><br><span class="line">        addPersonWang(context, value) &#123;</span><br><span class="line">            if (value.name.indexOf(&#x27;王&#x27;) === 0) &#123;</span><br><span class="line">                context.commit(&#x27;ADD_PERSON&#x27;, value)</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                alert(&#x27;添加的人必须姓王&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        //调用api</span><br><span class="line">        addPersonServer(context) &#123;</span><br><span class="line">            axios.get(&#x27;https://api.uixsj.cn/hitokoto/get?type=social&#x27;).then(</span><br><span class="line">                res =&gt; &#123;</span><br><span class="line">                    context.commit(&#x27;ADD_PERSON&#x27;, &#123; id: nanoid(), name: res.data &#125;)</span><br><span class="line">                &#125;,</span><br><span class="line">                err =&gt; &#123;</span><br><span class="line">                    alert(err.message)</span><br><span class="line">                &#125;</span><br><span class="line">            )</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;,</span><br><span class="line">    mutations: &#123;</span><br><span class="line">        ADD_PERSON(state, value) &#123;</span><br><span class="line">            console.log(&#x27;ADD_PERSON被调用了 mutations&#x27;)</span><br><span class="line">            state.personList.unshift(value)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    state: &#123;</span><br><span class="line">        personList: [</span><br><span class="line">            &#123; id: &#x27;001&#x27;, name: &#x27;张三&#x27; &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    getters: &#123;</span><br><span class="line">        firstPersonName(state) &#123;</span><br><span class="line">            return state.personList[0].name</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="认识vue-route"><a href="#认识vue-route" class="headerlink" title="认识vue-route"></a>认识vue-route</h3><p>vue-router是什么<br>这里的路由并不是指我们平时所说的硬件路由器，这里的路由就是SPA（单页应用）的路径管理器。再通俗的说，vue-router就是WebApp的链接路径管理系统。<br>vue-router是Vue.js官方的路由插件，它和vue.js是深度集成的，适合用于构建单页面应用。vue的单页面应用是基于路由和组件的，路由用于设定访问路径，并将路径和组件映射起来。传统的页面应用，是用一些超链接来实现页面切换和跳转的。在vue-router单页面应用中，则是路径之间的切换，也就是组件的切换。路由模块的本质 就是建立起url和页面之间的映射关系。</p><p>vue-route的安装<br>npm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i vue-router -S</span><br></pre></td></tr></table></figure><h3 id="vue-route的基本使用"><a href="#vue-route的基本使用" class="headerlink" title="vue-route的基本使用"></a>vue-route的基本使用</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>在vue-route中，我们需要创建一个route文件对路由进行管理<br>此处在src目录下创建一个router文件，其中的index.js文件存放路由配置信息<br>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * 什么是路由?</span><br><span class="line"></span><br><span class="line">一个路由就是一组映射关系（key - value）</span><br><span class="line">key 为路径，value 可能是 function 或 componen</span><br><span class="line">路由分类</span><br><span class="line"></span><br><span class="line">后端路由：</span><br><span class="line"></span><br><span class="line">理解：value 是 function，用于处理客户端提交的请求</span><br><span class="line">工作过程：服务器接收到一个请求时，根据请求路径找到匹配的函数来处理请求，返回响应数据</span><br><span class="line">前端路由：</span><br><span class="line"></span><br><span class="line">理解：value 是 component，用于展示页面内容</span><br><span class="line">工作过程：当浏览器的路径改变时，对应的组件就会显示</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入VueRouter</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入Luyou 组件</span><br><span class="line">import About from &#x27;../components/About&#x27;</span><br><span class="line">import Home from &#x27;../components/Home&#x27;</span><br><span class="line"></span><br><span class="line">//创建router实例对象，去管理一组一组的路由规则</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">routes:[</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/about&#x27;,</span><br><span class="line">component:About</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/home&#x27;,</span><br><span class="line">component:Home</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//暴露router</span><br><span class="line">export default router</span><br><span class="line">实现切换（active-class可配置高亮样式）：</span><br><span class="line"></span><br><span class="line">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line">指定展示位：&lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">*/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../components/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../components/Home.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>components组件：About.vue，Home.vue</p><p>About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;我是About的内容&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;h2&gt;我是Home的内容&lt;/h2&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="嵌套路由"><a href="#嵌套路由" class="headerlink" title="嵌套路由"></a>嵌套路由</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  配置路由规则，使用children配置项：</span><br><span class="line"></span><br><span class="line">routes:[</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/about&#x27;,</span><br><span class="line">component:About,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;/home&#x27;,</span><br><span class="line">component:Home,</span><br><span class="line">children:[ //通过children配置子级路由</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;news&#x27;, //此处一定不要写：/news</span><br><span class="line">component:News</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">path:&#x27;message&#x27;, //此处一定不要写：/message</span><br><span class="line">component:Message</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line">&#125;</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">跳转（要写完整路径）：&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>此处在src目录下设置pages文件夹，用于存放路由管理的页面</p><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message1&quot;&gt;message001&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message2&quot;&gt;message002&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;li&gt;</span><br><span class="line">        &lt;a href=&quot;/message/3&quot;&gt;message003&lt;/a&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="路由的query参数"><a href="#路由的query参数" class="headerlink" title="路由的query参数"></a>路由的query参数</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的字符串写法 --&gt;</span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(this.$route)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="命名路由"><a href="#命名路由" class="headerlink" title="命名路由"></a>命名路由</h3><p>main.js</p><figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt;</span><br><span class="line">  </span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    mounted()&#123;</span><br><span class="line">        console.log(this.$route)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="路由的params参数"><a href="#路由的params参数" class="headerlink" title="路由的params参数"></a>路由的params参数</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line">                        //使用params时，需要在path中表明id和title的占位符</span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        &lt;!-- 跳转路由并携带params参数，to的字符串写法 --&gt;</span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail/$&#123;n.id&#125;/$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             //在使用params参数时，只能够写name字段，不能够写path字段</span><br><span class="line">             name:&#x27;xiangqing&#x27;,   </span><br><span class="line">            params:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">  </span><br><span class="line">       &lt;li&gt;消息编号：&#123;&#123;$route.params.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.params.title&#125;&#125;&lt;/li&gt; </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    // mounted()&#123;</span><br><span class="line">    //     console.log(this.$route)</span><br><span class="line">    // &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="路由props配置"><a href="#路由props配置" class="headerlink" title="路由props配置"></a>路由props配置</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="router-link的replace属性"><a href="#router-link的replace属性" class="headerlink" title="router-link的replace属性"></a>router-link的replace属性</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;!-- 此处子路由在展示页面时需要接上父路由的名称才行 --&gt;</span><br><span class="line">          &lt;!-- replace作用：控制路由跳转时操作浏览器历史记录的模式--&gt;</span><br><span class="line">          &lt;!-- replace用来替换原来进入后一开始的历史记录--&gt;</span><br><span class="line">          &lt;!-- 浏览器的历史记录有两种写入方式：push和replace，其中push是追加历史记录，replace是替换当前记录。路由跳转时候默认为push方式</span><br><span class="line">开启replace模式：&lt;router-link replace ...&gt;News&lt;/router-link&gt; --&gt;</span><br><span class="line">          &lt;router-link replace class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link replace class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">             name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;&lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="编程式路由导航"><a href="#编程式路由导航" class="headerlink" title="编程式路由导航"></a>编程式路由导航</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="缓存路由组件"><a href="#缓存路由组件" class="headerlink" title="缓存路由组件"></a>缓存路由组件</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">    beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="路由中两个生命周期钩子"><a href="#路由中两个生命周期钩子" class="headerlink" title="路由中两个生命周期钩子"></a>路由中两个生命周期钩子</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">export default new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">//后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="独享路由守卫"><a href="#独享路由守卫" class="headerlink" title="独享路由守卫"></a>独享路由守卫</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                        &#123;</span><br><span class="line">                            // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                            console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                            //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                            if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                                //判断localStorage的值</span><br><span class="line">                                if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                                    next()</span><br><span class="line">                                &#125; else &#123;</span><br><span class="line">                                    alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                                &#125;</span><br><span class="line">                            &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                                next()</span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">//后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue<br>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="组件内路由守卫"><a href="#组件内路由守卫" class="headerlink" title="组件内路由守卫"></a>组件内路由守卫</h3><p>main.js</p><figure class="highlight plaintext"><figcaption><span>Vue from 'vue'</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    // beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                    //     &#123;</span><br><span class="line">                    //         // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                    //         console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                    //         //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                    //         if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                    //             //判断localStorage的值</span><br><span class="line">                    //             if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                    //                 next()</span><br><span class="line">                    //             &#125; else &#123;</span><br><span class="line">                    //                 alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                    //             &#125;</span><br><span class="line">                    //         &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                    //             next()</span><br><span class="line">                    //         &#125;</span><br><span class="line">                    //     &#125;</span><br><span class="line">                    // &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">// 后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line">  //组件内路由守卫</span><br><span class="line">  // 与全局路由守卫不同的是，组件内路由守卫是观察进出的动作的，例如进入此组件时，就会调用 beforeRouteEnter，而不会立即调用beforeRouteLeave，只有在离开此组件时，才会触发beforeRouteLeave</span><br><span class="line">  //通过路由规则，进入该组件时被调用</span><br><span class="line">  beforeRouteEnter(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发进入时的路由守卫&#x27;,to,from)</span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //通过路由规则，离开该组件时被调用</span><br><span class="line">  beforeRouteLeave(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发离开时的路由守卫&#x27;,to,from)</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue</p><p>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="hash和history的区别"><a href="#hash和history的区别" class="headerlink" title="hash和history的区别"></a>hash和history的区别</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//引入vue.router插件,vue2只能够引入vue-router@3，vue3才能够引入vue-router@4</span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//应用vuerouter插件</span><br><span class="line">Vue.use(VueRouter)</span><br><span class="line">    //引入路由器</span><br><span class="line">import router from &#x27;./router&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line">    router: router</span><br><span class="line">        // beforeCreate() &#123;</span><br><span class="line">        //     Vue.prototype.$bus = this //安装全局事件总线</span><br><span class="line">        // &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      </span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div class=&quot;row&quot;&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-2 col-xs-offset-2&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;list-group&quot;&gt;</span><br><span class="line">          &lt;!-- 原始html中的页面跳转 --&gt;</span><br><span class="line">          &lt;!-- &lt;a class=&quot;list-group-item&quot; href=&quot;./about.html&quot;&gt;About&lt;/a&gt;</span><br><span class="line">          &lt;a class=&quot;list-group-item active&quot; href=&quot;./home.html&quot;&gt;Home&lt;/a&gt; --&gt;</span><br><span class="line"></span><br><span class="line">          &lt;!-- 使用vue-router的库后，想要链接其他页面，进行页面的切换，需要写router-link标签，并且href换成to，文件位置改成设定好的路由地址即可 --&gt;</span><br><span class="line">          &lt;!-- active-class=&quot;active&quot;用于处理动态高亮的问题--&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;</span><br><span class="line">          &lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;div class=&quot;col-xs-6&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;panel&quot;&gt;</span><br><span class="line">          &lt;div class=&quot;panel-body&quot;&gt;</span><br><span class="line">            &lt;!-- 指定组件的呈现位置 --&gt;</span><br><span class="line">            &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;/div&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">import Banner from &#x27;./components/Banner.vue&#x27;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line">    components:&#123;</span><br><span class="line">      Banner</span><br><span class="line">    &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>router&#x2F;index.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br></pre></td><td class="code"><pre><span class="line">//该文件专门用于创建整个应用的路由器</span><br><span class="line">//引入插件</span><br><span class="line"></span><br><span class="line">import VueRouter from &#x27;vue-router&#x27;</span><br><span class="line">//引入组件</span><br><span class="line">import About from &#x27;../pages/About.vue&#x27;</span><br><span class="line">import Home from &#x27;../pages/Home.vue&#x27;</span><br><span class="line">import Message from &#x27;../pages/Message.vue&#x27;</span><br><span class="line">/**</span><br><span class="line"> * 路由器的两种工作模式</span><br><span class="line">对于一个url来说，什么是hash值？—— #及其后面的内容就是hash值</span><br><span class="line"></span><br><span class="line">hash值不会包含在 HTTP 请求中，即：hash值不会带给服务器</span><br><span class="line"></span><br><span class="line">hash模式：</span><br><span class="line"></span><br><span class="line">地址中永远带着#号，不美观</span><br><span class="line">若以后将地址通过第三方手机app分享，若app校验严格，则地址会被标记为不合法</span><br><span class="line">兼容性较好</span><br><span class="line">history模式：</span><br><span class="line"></span><br><span class="line">地址干净，美观</span><br><span class="line">兼容性和hash模式相比略差</span><br><span class="line">应用部署上线时需要后端人员支持，解决刷新页面服务端404的问题</span><br><span class="line"></span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">import News from &#x27;../pages/News.vue&#x27;</span><br><span class="line">import Detail from &#x27;../pages/Detail.vue&#x27;</span><br><span class="line"></span><br><span class="line">//创建一个路由并暴露一个路由</span><br><span class="line">const router = new VueRouter(&#123;</span><br><span class="line">    // 路由的运作模式默认为hash，路径的标识是/#/，可以且换成history</span><br><span class="line">    // 但是history上面有一个缺陷，就是路径上的东西都会当做资源路径请求</span><br><span class="line">    mode: &#x27;history&#x27;,</span><br><span class="line">    routes: [&#123;</span><br><span class="line">            //使用name为路由命名,可以不必再写页面路径</span><br><span class="line">            name: &#x27;guanyu&#x27;,</span><br><span class="line">            path: &#x27;/about&#x27;,</span><br><span class="line">            component: About,</span><br><span class="line">            meta: &#123; isAuth: true, title: &#x27;关于&#x27; &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            name: &#x27;zhuye&#x27;,</span><br><span class="line">            path: &#x27;/home&#x27;,</span><br><span class="line">            component: Home,</span><br><span class="line">            meta: &#123; title: &#x27;主页&#x27; &#125;,</span><br><span class="line">            //children用来创建子路由</span><br><span class="line">            children: [&#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinwen&#x27;,</span><br><span class="line">                    path: &#x27;news&#x27;,</span><br><span class="line">                    component: News,</span><br><span class="line">                    //往meta中可以用来放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;新闻&#x27; &#125;,</span><br><span class="line"></span><br><span class="line">                    //beforeEnter为独享路由守卫，只单独为此路由服务,独享路由守卫只有前置，没有后置</span><br><span class="line">                    // beforeEnter: (to, from, next) =&gt; &#123;</span><br><span class="line">                    //     &#123;</span><br><span class="line">                    //         // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">                    //         console.log(&#x27;前置路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">                    //         //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">                    //         if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">                    //             //判断localStorage的值</span><br><span class="line">                    //             if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">                    //                 next()</span><br><span class="line">                    //             &#125; else &#123;</span><br><span class="line">                    //                 alert(&#x27;学校名不对&#x27;)</span><br><span class="line">                    //             &#125;</span><br><span class="line">                    //         &#125; else &#123;</span><br><span class="line"></span><br><span class="line">                    //             next()</span><br><span class="line">                    //         &#125;</span><br><span class="line">                    //     &#125;</span><br><span class="line">                    // &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    //子路由的路径中不用写斜杠，因为在此处vue会自动添加斜杠</span><br><span class="line">                    name: &#x27;xinxi&#x27;,</span><br><span class="line">                    path: &#x27;message&#x27;,</span><br><span class="line">                    component: Message,</span><br><span class="line">                    //往meta中放置是否需要权限校验的标识</span><br><span class="line">                    meta: &#123; isAuth: true, title: &#x27;信息&#x27; &#125;,</span><br><span class="line">                    children: [&#123;</span><br><span class="line"></span><br><span class="line">                        name: &#x27;xiangqing&#x27;,</span><br><span class="line">                        //使用params参数时，此处要写出类似于:id的占位符</span><br><span class="line">                        // path: &#x27;detail/:id/:title&#x27;,</span><br><span class="line"></span><br><span class="line">                        path: &#x27;detail&#x27;,</span><br><span class="line">                        component: Detail,</span><br><span class="line">                        meta: &#123; isAuth: true, title: &#x27;详情&#x27; &#125;,</span><br><span class="line">                        //props的第一种写法，值为对象，该对象中的所有key-value都会以props形式传给Detail组件</span><br><span class="line">                        //这种形式写得少，值是固定的</span><br><span class="line">                        // props: &#123; a: 1, b: &#x27;hello&#x27; &#125;</span><br><span class="line"></span><br><span class="line">                        //props的第二种写法，值为布尔值，就会把该路由组件收到的所有params参数，以props形式传给Detail组件</span><br><span class="line">                        // props: true</span><br><span class="line"></span><br><span class="line">                        // props的第三种写法，值为函数,想要使用相应的值，要把route传进来，适用于query函数</span><br><span class="line">                        // props($route) &#123;</span><br><span class="line">                        //     return &#123; id: $route.query.id, title: $route.query.title &#125;</span><br><span class="line">                        // &#125;</span><br><span class="line"></span><br><span class="line">                        // 此处可以使用连续结构赋值，在$route的基础上解构出query，在query的基础上解构出id，title</span><br><span class="line">                        props(&#123; query: &#123; id, title &#125; &#125;) &#123;</span><br><span class="line">                            return &#123; id, title &#125;</span><br><span class="line">                        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    &#125;]</span><br><span class="line">                &#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line">//添加全局前置路由守卫</span><br><span class="line">//路由在被调用之前，得先要通过此处的方法才可以跳转</span><br><span class="line">/*router.beforeEach((to, from, next) =&gt; &#123;</span><br><span class="line">    // to表示去哪个页面, from表示来自哪个页面, next表示是否通行</span><br><span class="line">    console.log(&#x27;独享路由守卫已调用&#x27;, to, from)</span><br><span class="line"></span><br><span class="line">    //可进行判断路径(to.name === &#x27;xinwen&#x27; || to.name === &#x27;xinxi&#x27;) </span><br><span class="line"></span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)*/</span><br><span class="line"></span><br><span class="line">//添加全局后置路由守卫</span><br><span class="line">//路由在被调用之后，执行其中的操作</span><br><span class="line">// 后置路由守卫没有next属性</span><br><span class="line">router.afterEach((to, from) =&gt; &#123;</span><br><span class="line">    console.log(&#x27;后置路由守卫已调用&#x27;, to, from)</span><br><span class="line">    document.title = to.meta.title || &#x27;清华系统&#x27;</span><br><span class="line">&#125;)</span><br><span class="line">export default router</span><br></pre></td></tr></table></figure><p>pages&#x2F;Detail.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">      &lt;!-- 引入 $route.query中的id和title字段的数据--&gt;</span><br><span class="line">      &lt;!-- &lt;li&gt;消息编号：&#123;&#123;$route.query.id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;$route.query.title&#125;&#125;&lt;/li&gt; --&gt;</span><br><span class="line">      &lt;li&gt;消息编号：&#123;&#123;id&#125;&#125;&lt;/li&gt;</span><br><span class="line">      &lt;li&gt;消息标题：&#123;&#123;title&#125;&#125;&lt;/li&gt;</span><br><span class="line">       </span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Detail&#x27;,</span><br><span class="line">    //此处接收router/index中传过来的数据</span><br><span class="line">    props:[&#x27;id&#x27;,&#x27;title&#x27;],</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Home.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- </span><br><span class="line">  作用：让不展示的路由组件保持挂载，不被销毁</span><br><span class="line"></span><br><span class="line">具体编码：</span><br><span class="line"></span><br><span class="line">//缓存一个路由组件</span><br><span class="line">&lt;keep-alive include=&quot;News&quot;&gt; //include中写想要缓存的组件名，不写表示全部缓存</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line">//缓存多个路由组件</span><br><span class="line">&lt;keep-alive :include=&quot;[&#x27;News&#x27;,&#x27;Message&#x27;]&quot;&gt; </span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/keep-alive&gt;</span><br><span class="line"></span><br><span class="line"> --&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">    &lt;h2&gt;Home组件内容&lt;/h2&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;ul class=&quot;nav nav-tabs&quot;&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          </span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot;  to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">        &lt;li&gt;</span><br><span class="line">          &lt;router-link  class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;</span><br><span class="line">        &lt;/li&gt;</span><br><span class="line">      &lt;/ul&gt;</span><br><span class="line">      &lt;!-- keep-alive用来缓存相应的数据，include跟着的内容是组件名，用来指定需要缓存的内容，不使用include表示缓存所有组件内容 --&gt;</span><br><span class="line">      &lt;keep-alive include=&quot;News&quot;&gt;</span><br><span class="line">        &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">      &lt;/keep-alive&gt;</span><br><span class="line">      </span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Home&#x27;,</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;Message.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line"> &lt;div&gt;</span><br><span class="line">    &lt;ul&gt;</span><br><span class="line">    &lt;li v-for=&quot;n in messageList&quot; :key=&quot;n.id&quot;&gt;</span><br><span class="line">        &lt;!-- 添加了：会将传入来的值当做js解析 --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- &lt;router-link :to=&quot;`/home/message/detail?id=$&#123;n.id&#125;&amp;title=$&#123;n.title&#125;`&quot;&gt;&#123;&#123;n.title&#125;&#125;&lt;/router-link&gt;&amp;nbsp;&amp;nbsp; --&gt;</span><br><span class="line">        </span><br><span class="line">        &lt;!-- 跳转路由并携带query参数，to的对象写法 数据比较多的时候可以采取这种写法--&gt;</span><br><span class="line">         &lt;router-link :to=&quot;&#123;</span><br><span class="line">             //path:&#x27;/home/message/detail&#x27;,</span><br><span class="line">             //在路由文件中使用name后，此处不必再写页面路径,前提是必须写成对象写法</span><br><span class="line">             </span><br><span class="line">            /* name:&#x27;xiangqing&#x27;,</span><br><span class="line">            //params   </span><br><span class="line">            query:&#123;</span><br><span class="line">                id:n.id,</span><br><span class="line">                title:n.title</span><br><span class="line">            &#125;*/</span><br><span class="line">         &#125;&quot;&gt;</span><br><span class="line">             &#123;&#123;n.title&#125;&#125;</span><br><span class="line">             &lt;/router-link&gt;&amp;nbsp;&amp;nbsp;</span><br><span class="line">        &lt;button @click=&quot;pushShow(n)&quot;&gt;push查看&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;replaceShow(n)&quot;&gt;replace查看&lt;/button&gt;</span><br><span class="line">    &lt;/li&gt;</span><br><span class="line">    &lt;/ul&gt;</span><br><span class="line">    &lt;hr&gt;</span><br><span class="line">    &lt;router-view&gt;&lt;/router-view&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Message&#x27;,</span><br><span class="line">    data()&#123;</span><br><span class="line">        return&#123;</span><br><span class="line">            messageList:[</span><br><span class="line">                &#123;id:&#x27;001&#x27;,title:&#x27;消息001&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;002&#x27;,title:&#x27;消息002&#x27;&#125;,</span><br><span class="line">                &#123;id:&#x27;003&#x27;,title:&#x27;消息003&#x27;&#125;</span><br><span class="line">            ]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">        pushShow(n)&#123;</span><br><span class="line">            //使用$router.push可以实现router-link的功能</span><br><span class="line">            this.$router.push(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;,</span><br><span class="line">        replaceShow(n)&#123;</span><br><span class="line">            </span><br><span class="line">            this.$router.replace(&#123;</span><br><span class="line">                name:&#x27;xiangqing&#x27;,</span><br><span class="line">                query:&#123;</span><br><span class="line">                    id:n.id,</span><br><span class="line">                    title:n.title</span><br><span class="line">            &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>pages&#x2F;News.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- activated和deactivated是路由组件所独有的两个钩子，用于捕获路由组件的激活状态</span><br><span class="line">具体使用：</span><br><span class="line">activated路由组件被激活时触发</span><br><span class="line">deactivated路由组件失活时触发 --&gt;</span><br><span class="line">  &lt;ul&gt;</span><br><span class="line">    &lt;li :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news001 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news002 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">    &lt;li&gt;news003 &lt;input type=&quot;text&quot;&gt;&lt;/li&gt;</span><br><span class="line">  &lt;/ul&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;News&#x27;,</span><br><span class="line">     data()&#123;</span><br><span class="line">       return&#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">   /* beforeDestroy()&#123;</span><br><span class="line">      console.log(&#x27;即将被销毁&#x27;)</span><br><span class="line">      clearInterval(this.timer)</span><br><span class="line">    &#125;,</span><br><span class="line">    mounted() &#123;</span><br><span class="line">        //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">    //在使用keep-alive时，虽然会缓存数据，但是不会停止组件中的活动，而使用以下两个生命周期钩子，即可启停组件中的活动</span><br><span class="line">    //路由生命周期钩子--激活</span><br><span class="line">    activated()&#123;</span><br><span class="line">      console.log(&#x27;激活&#x27;)</span><br><span class="line">      this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                console.log(&#x27;@&#x27;)</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    //路由生命周期钩子--失活</span><br><span class="line">    deactivated()&#123;</span><br><span class="line">      console.log(&#x27;失活&#x27;)</span><br><span class="line">       clearInterval(this.timer)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>pages&#x2F;About.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h2&gt;About组件内容&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">  name:&#x27;About&#x27;,</span><br><span class="line"></span><br><span class="line">  //组件内路由守卫</span><br><span class="line">  // 与全局路由守卫不同的是，组件内路由守卫是观察进出的动作的，例如进入此组件时，就会调用 beforeRouteEnter，而不会立即调用beforeRouteLeave，只有在离开此组件时，才会触发beforeRouteLeave</span><br><span class="line">  //通过路由规则，进入该组件时被调用</span><br><span class="line">  beforeRouteEnter(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发进入时的路由守卫&#x27;,to,from)</span><br><span class="line">    if (to.meta.isAuth) &#123; //判断是否需要鉴权</span><br><span class="line">        //判断localStorage的值</span><br><span class="line">        if (localStorage.getItem(&#x27;school&#x27;) === &#x27;qinghua&#x27;) &#123;</span><br><span class="line">            next()</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            alert(&#x27;学校名不对&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line"></span><br><span class="line">        next()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  //通过路由规则，离开该组件时被调用</span><br><span class="line">  beforeRouteLeave(to,from,next)&#123;</span><br><span class="line">    console.log(&#x27;触发离开时的路由守卫&#x27;,to,from)</span><br><span class="line">    next()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>components组件：Banner.vue<br>Banner.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class=&quot;col-xs-offset-2 col-xs-8&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;page-header&quot;&gt;</span><br><span class="line">          &lt;h2&gt;Vue Router Demo&lt;/h2&gt;&lt;/div&gt;</span><br><span class="line">      &lt;button @click=&quot;back&quot;&gt;后退&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;forward&quot;&gt;前进&lt;/button&gt;</span><br><span class="line">      &lt;button @click=&quot;test&quot;&gt;往后退3步&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;Banner&#x27;,</span><br><span class="line">    methods:&#123;</span><br><span class="line">      //后退功能</span><br><span class="line">      back()&#123;</span><br><span class="line">        this.$router.back()</span><br><span class="line">      &#125;,</span><br><span class="line">       //前进功能</span><br><span class="line">      forward()&#123;</span><br><span class="line">        this.$router.forward()</span><br><span class="line">      &#125;,</span><br><span class="line">      //go中可传入参数，正数前进，负数后退</span><br><span class="line">      test()&#123;</span><br><span class="line">        this.$router.go(-3)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h3 id="认识element-ui"><a href="#认识element-ui" class="headerlink" title="认识element-ui"></a>认识element-ui</h3><p>Element-Ul是饿了么前端团队推出的一款基于Vue.js 2.0 的桌面端UI框架，一套为开发者、设计师和产品经理准备的基于 Vue 2.0 的桌面端组件库，手机端有对应框架是Mint UI 。</p><p>中文文档：<a href="http://element-cn.eleme.io/#/zh-CN">http://element-cn.eleme.io/#/zh-CN</a> github地址：<a href="https://github.com/ElemeFE/element">https://github.com/ElemeFE/element</a></p><p>安装element-ui<br>npm</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i element-ui -S</span><br></pre></td></tr></table></figure><h3 id="使用element-ui"><a href="#使用element-ui" class="headerlink" title="使用element-ui"></a>使用element-ui</h3><p>main.js</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import Vue from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">//完整引入</span><br><span class="line">// 引入element-ui组件库</span><br><span class="line">// import ElementUI from &#x27;element-ui&#x27;;</span><br><span class="line">// 引入ElementUI的样式</span><br><span class="line">// import &#x27;element-ui/lib/theme-chalk/index.css&#x27;;</span><br><span class="line">//使用ElementUI</span><br><span class="line">// Vue.use(ElementUI);</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#app&#x27;,</span><br><span class="line"></span><br><span class="line">    render: h =&gt; h(App),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>App.vue</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">  &lt;button&gt;原生的按钮&lt;/button&gt;</span><br><span class="line">  &lt;input type=&quot;text&quot;&gt;</span><br><span class="line">  &lt;el-row&gt;</span><br><span class="line">    &lt;el-button&gt;默认按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;primary&quot;&gt;主要按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;success&quot;&gt;成功按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;info&quot;&gt;信息按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;warning&quot;&gt;警告按钮&lt;/el-button&gt;</span><br><span class="line">    &lt;el-button type=&quot;danger&quot;&gt;危险按钮&lt;/el-button&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">  &lt;div class=&quot;block&quot;&gt;</span><br><span class="line">    &lt;span class=&quot;demonstration&quot;&gt;默认&lt;/span&gt;</span><br><span class="line">    &lt;el-date-picker</span><br><span class="line">      v-model=&quot;value1&quot;</span><br><span class="line">      type=&quot;date&quot;</span><br><span class="line">      placeholder=&quot;选择日期&quot;&gt;</span><br><span class="line">    &lt;/el-date-picker&gt;</span><br><span class="line"></span><br><span class="line">    &lt;el-row&gt;</span><br><span class="line">      &lt;el-button icon=&quot;el-icon-search&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;primary&quot; icon=&quot;el-icon-platform-eleme&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;success&quot; icon=&quot;el-icon-check&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;info&quot; icon=&quot;el-icon-message&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;warning&quot; icon=&quot;el-icon-star-off&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">      &lt;el-button type=&quot;danger&quot; icon=&quot;el-icon-delete&quot; circle&gt;&lt;/el-button&gt;</span><br><span class="line">&lt;/el-row&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">export default &#123;</span><br><span class="line">    name:&#x27;App&#x27;,</span><br><span class="line"> </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以上是本文的全部内容，如果你觉得这篇文章能够帮助到你，或者有什么问题的话，欢迎在评论区中留言！</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue CLI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue学习笔记（安装脚手架）</title>
      <link href="/posts/72ed8eade779/"/>
      <url>/posts/72ed8eade779/</url>
      
        <content type="html"><![CDATA[<p>本篇是关于学习Vue脚手架的学习笔记</p><p>首先来认识什么是Vue脚手架</p><h2 id="Vue-CLI"><a href="#Vue-CLI" class="headerlink" title="Vue CLI"></a>Vue CLI</h2><p><img src="/images/pasted-157.png" alt="upload successful"></p><h4 id="官方介绍："><a href="#官方介绍：" class="headerlink" title="官方介绍："></a>官方介绍：</h4><p>Vue CLI 是一个基于 Vue.js 进行快速开发的完整系统。<br>通过 @vue&#x2F;cli 实现的交互式的项目脚手架。<br>通过 @vue&#x2F;cli + @vue&#x2F;cli-service-global 实现的零配置原型开发。<br>一个运行时依赖 (@vue&#x2F;cli-service)，该依赖：<br>1.可升级；<br>2.基于 webpack 构建，并带有合理的默认配置；<br>3.可以通过项目内的配置文件进行配置；<br>4.可以通过插件进行扩展。<br>5.一个丰富的官方插件集合，集成了前端生态中最好的工具。<br>6.一套完全图形化的创建和管理 Vue.js 项目的用户界面。</p><p>简单来说，Vue CLI是一套已经包含核心功能和标准文件夹结构的半成品项目源代码，它的优点是标准化，极其便于协作，避免重复搭结构，降低学习成本。在今后所有的项目和新技术，基本都是在脚手架基础上开发的。其中集成了官方的插件，也可以引入第三方的插件进行页面的网页的构建。</p><p>接下来看看实际的操作步骤</p><h2 id="安装Vue脚手架前的准备工作"><a href="#安装Vue脚手架前的准备工作" class="headerlink" title="安装Vue脚手架前的准备工作"></a>安装Vue脚手架前的准备工作</h2><h3 id="安装Node-js"><a href="#安装Node-js" class="headerlink" title="安装Node.js"></a>安装Node.js</h3><p>首先，如果想要安装Vue的脚手架系统，需要在电脑上安装node.js，并使用其中自带的npm工具对Vue脚手架进行安装操作。<br>相关的Node.js的安装教程，请参考以下文章：<br>Windows版本：<br><a href="http://t.csdn.cn/iTU5e">http://t.csdn.cn/iTU5e</a><br>Linux版本：<br><a href="http://t.csdn.cn/jqQqo">http://t.csdn.cn/jqQqo</a><br>Mac版本：<br><a href="http://t.csdn.cn/89nHy">http://t.csdn.cn/89nHy</a></p><h3 id="更换Node-js的源地址"><a href="#更换Node-js的源地址" class="headerlink" title="更换Node.js的源地址"></a>更换Node.js的源地址</h3><p>为了加快安装速度，我们需要将npm的本身的源地址更换为淘宝镜像的源地址。<br>打开命令行窗口，全局切换镜像：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm config set registry http://registry.npm.taobao.org/</span><br></pre></td></tr></table></figure><p>查看镜像使用状态：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm get registry</span><br></pre></td></tr></table></figure><p>当npm中显示为淘宝镜像的源后，就可以继续操作了</p><h2 id="开始安装Vue脚手架"><a href="#开始安装Vue脚手架" class="headerlink" title="开始安装Vue脚手架"></a>开始安装Vue脚手架</h2><p>安装完Node.js后，我们就可以使用npm命令进行Vue脚手架的安装<br>Vue脚手架的安装命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g @vue/cli</span><br></pre></td></tr></table></figure><p>等待安装完成后，使用以下命令查看Vue的安装版本，若无法查看，则表明未安装成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue --version</span><br></pre></td></tr></table></figure><p>安装Vue脚手架完毕后，可以自己在电脑上找一个适合的位置，然后创建一个专门放置脚手架文件的文件夹，文件夹名可随意。</p><p>之后打开命令行窗口，将命令行的路径改为自己专门放置脚手架文件的目录中后，执行以下命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vue create hello-world</span><br></pre></td></tr></table></figure><p>这条命令的含义是，创建一个名为hello-word的Vue脚手架项目。<br>当然，项目名可以自己随意命名。</p><p>安装过程中进入了这个界面时，我们有三个选项可以选择，分别是：<br>1.默认安装Vue3<br>2.默认安装Vue2<br>3.自助选择安装选项<br><img src="/images/pasted-152.png" alt="upload successful"></p><p>前两个选项可一键安装Vue2或Vue3的项目文件，你也可以根据自身需要选择第三个选项，设置脚手架的其他配置选项，进入以下页面：<br><img src="/images/pasted-153.png" alt="upload successful"><br>在这个步骤中，我们选择默认一键安装Vue2的脚手架项目文件。</p><p>安装完成后，可打开编译器查看项目文件夹下的文件，此处推荐使用VsCode进行项目文件的查看。<br><img src="/images/pasted-154.png" alt="upload successful"></p><h2 id="启动Vue脚手架"><a href="#启动Vue脚手架" class="headerlink" title="启动Vue脚手架"></a>启动Vue脚手架</h2><p>以上步骤全部完成后，我们可以在当前项目文件夹的路径中启动命令行，并运行以下命令启动脚手架文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p>当出现以下情况时，证明你项目文件启动成功<br><img src="/images/pasted-155.png" alt="upload successful"></p><p>你可以在浏览器中访问Local或Network的地址，当浏览器中出现以下画面时证明脚手架文件启动成功！<br><img src="/images/pasted-156.png" alt="upload successful"></p><p>将以上步骤完全实施后，安装Vue脚手架的步骤到此结束。<br>其他的详细配置可参考官方文档</p><p>如果你觉得这篇文章比较好或者解决了你的问题，或者有其他疑问的的话，请留下你的评论吧！</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
            <tag> Vue CLI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Vue学习笔记（基础部分）</title>
      <link href="/posts/153a7b00a80e/"/>
      <url>/posts/153a7b00a80e/</url>
      
        <content type="html"><![CDATA[<span id="more"></span><h1 id="关于Vue"><a href="#关于Vue" class="headerlink" title="关于Vue"></a>关于Vue</h1><p>什么是 Vue？<br>Vue (发音为 &#x2F;vjuː&#x2F;，类似 view) 是一款用于构建用户界面的 JavaScript 框架。它基于标准 HTML、CSS 和 JavaScript 构建，并提供了一套声明式的、组件化的编程模型，帮助你高效地开发用户界面。无论是简单还是复杂的界面，Vue 都可以胜任。<br><img src="/images/pasted-151.png" alt="upload successful"></p><h1 id="笔记开始"><a href="#笔记开始" class="headerlink" title="笔记开始"></a>笔记开始</h1><h2 id="初识Vue"><a href="#初识Vue" class="headerlink" title="初识Vue"></a>初识Vue</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;初识vue&lt;/title&gt;</span><br><span class="line">    &lt;!-- 引入Vue --&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 注意：</span><br><span class="line"></span><br><span class="line">        想让Vue工作，就必须创建一个Vue实例，且要传入一个配置对象</span><br><span class="line">        root容器里的代码依然符合html规范，只不过混入了一些特殊的Vue语法</span><br><span class="line">        root容器里的代码被称为Vue模板</span><br><span class="line">        Vue实例与容器是一一对应的</span><br><span class="line">        真实开发中只有一个Vue实例，并且会配合着组件一起使用</span><br><span class="line">        &#123;&#123;xxx&#125;&#125;中的xxx要写js表达式，且xxx可以自动读取到data中的所有属性</span><br><span class="line">        一旦data中的数据发生变化，那么模板中用到该数据的地方也会自动更新 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- 准备好一个容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1&gt;Hello！&#123;&#123;name&#125;&#125;!&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false // 阻止vue在启动时生成生产提示</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;, //el用于指定当前Vue实例为哪个容器服务，值通常为css选择器字符串</span><br><span class="line">            data: &#123; //data用于存储数据，数据共el所指定的容器去使用</span><br><span class="line">                name: &#x27;北京大学&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="el与data的不同写法"><a href="#el与data的不同写法" class="headerlink" title="el与data的不同写法"></a>el与data的不同写法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;el与data的两种写法&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1&gt;Hello,&#123;&#123;name&#125;&#125;!&lt;/h1&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line">            //el的两种写法：</span><br><span class="line">            // const vm = new Vue(&#123;</span><br><span class="line">            //     // el:&#x27;#root&#x27;, //第一种写法</span><br><span class="line">            //     data:&#123;</span><br><span class="line">            //         name:&#x27;JOJO&#x27;</span><br><span class="line">            //     &#125;</span><br><span class="line">            // &#125;)</span><br><span class="line">            // vm.$mount(&#x27;#root&#x27;)//第二种写法</span><br><span class="line"></span><br><span class="line">        //data的两种写法：</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            //data的第一种写法：对象式</span><br><span class="line">            // data:&#123;</span><br><span class="line">            //     name:&#x27;JOJO&#x27;</span><br><span class="line">            // &#125;</span><br><span class="line">            //data的第二种写法：函数式</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    name: &#x27;北京大学&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="MVVM模型"><a href="#MVVM模型" class="headerlink" title="MVVM模型"></a>MVVM模型</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;mvvm&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">        data中所有的属性，最后都出现在了vm身上</span><br><span class="line">        vm身上所有的属性 及 Vue原型身上所有的属性，在Vue模板中都可以直接使用 </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">        Vue中的数据代理通过vm对象来代理data对象中属性的操作（读/写）</span><br><span class="line">        Vue中数据代理的好处：更加方便的操作data中的数据</span><br><span class="line">    基本原理：</span><br><span class="line">        通过object.defineProperty()把data对象中所有属性添加到vm上。</span><br><span class="line">        为每一个添加到vm上的属性，都指定一个getter/setter。</span><br><span class="line">        在getter/setter内部去操作（读/写）data中对应的属性。</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    --&gt;</span><br><span class="line">        &lt;!-- view --&gt;</span><br><span class="line">        &lt;h2&gt;名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;战队：&#123;&#123;rank&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;测试：&#123;&#123;$options&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line">        new Vue(&#123; //viewmodel</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &#x27;fly&#x27;, //model</span><br><span class="line">                rank: &#x27;QGhappy&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="插值语法"><a href="#插值语法" class="headerlink" title="插值语法"></a>插值语法</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;vue模板语法&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- Vue模板语法包括两大类：</span><br><span class="line"></span><br><span class="line">    插值语法：</span><br><span class="line"></span><br><span class="line">    功能：用于解析标签体内容</span><br><span class="line">    写法：&#123;&#123;xxx&#125;&#125;，xxx是js表达式，且可以直接读取到data中的所有区域</span><br><span class="line">    指令语法：</span><br><span class="line"></span><br><span class="line">    功能：用于解析标签（包括：标签属性、标签体内容、绑定事件…）</span><br><span class="line">    举例：&lt;a v-bind:href=&quot;xxx&quot;&gt;或简写为&lt;a :href=&quot;xxx&quot;&gt;，xxx同样要写js表达式，且可以直接读取到data中的所有属性</span><br><span class="line">    备注：Vue中有很多的指令，且形式都是v-???，此处我们只是拿v-bind举个例子 --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1&gt;插值语法&lt;/h1&gt;</span><br><span class="line">        &lt;h3&gt;你好，&#123;&#123;name&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;h1&gt;指令语法&lt;/h1&gt;</span><br><span class="line">        &lt;a v-bind:href=&quot;url&quot;&gt;清华大学欢迎你&lt;/a&gt;&lt;br&gt;</span><br><span class="line">        &lt;a :href=&quot;url&quot;&gt;清华大学欢迎你&lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                url: &#x27;https://www.tsinghua.edu.cn/&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h2><h3 id="数据绑定的简单演示"><a href="#数据绑定的简单演示" class="headerlink" title="数据绑定的简单演示"></a>数据绑定的简单演示</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;数据绑定&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">    Vue中有2种数据绑定的方式：</span><br><span class="line"></span><br><span class="line">        单向绑定（v-bind）：数据只能从data流向页面</span><br><span class="line">        双向绑定（v-model）：数据不仅能从data流向页面，还可以从页面流向data</span><br><span class="line">    备注：</span><br><span class="line"></span><br><span class="line">        双向绑定一般都应用在表单类元素上（如：&lt;input&gt;、&lt;select&gt;、&lt;textarea&gt;等）</span><br><span class="line">        v-model:value可以简写为v-model，因为v-model默认收集的就是value值</span><br><span class="line"></span><br><span class="line">        v-model是通过value和input之间的关系进行实现的</span><br><span class="line">        v-model如果写在子组件标签的话，就可以沟通子组件中的input标签，实现父子之间的数据同步</span><br><span class="line"></span><br><span class="line">        在input标签内使用@input的原生dom方法时，绑定某一个data中的数据值后，把input的$event.target.value赋值到数据值中，可以实现数据的双向绑定，</span><br><span class="line">        例如：@input=&quot;msg=$event.target.value&quot;</span><br><span class="line"></span><br><span class="line">        @input写在组件标签中时，就是自定义事件</span><br><span class="line">        </span><br><span class="line">        例子：</span><br><span class="line">        此为父组件中的组件标签，:value=&quot;a&quot;用于传输数据值给子组件，@input=&quot;a=$event&quot;的意思是将传过来的$event的值放入data的a中，修改a的数据</span><br><span class="line">        &lt;SearchSelector @trademarkInfo=&quot;trademarkInfo&quot; @attrInfo=&quot;attrInfo&quot; :value=&quot;a&quot; @input=&quot;a=$event&quot;/&gt;</span><br><span class="line">        其中，放入数据的阶段也可以换成v-model的形式</span><br><span class="line">        &lt;SearchSelector @trademarkInfo=&quot;trademarkInfo&quot; @attrInfo=&quot;attrInfo&quot; v-model=&quot;a&quot;/&gt;</span><br><span class="line">        ---------------------------------</span><br><span class="line">        此为子组件的input标签，在使用props接收数据value后，使用:value=&quot;value&quot;展示数据,@input=&quot;$emit(&#x27;input&#x27;,$event.target.value)用来发送数据到父组件中，这也是组件标签中@input和v-model修改数据的依据</span><br><span class="line">        &lt;input type=&quot;text&quot; :value=&quot;value&quot; @input=&quot;$emit(&#x27;input&#x27;,$event.target.value)&quot;&gt;</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line">        sync修饰符</span><br><span class="line">        sync修饰符是组件通信方式的一种</span><br><span class="line">        可以实现父子之间的数据同步</span><br><span class="line">        在父组件的组件标签上写上例如:money.sync的字样,代表父组件字符串传递props[&#x27;money&#x27;]，给当前子组件确定一个自定义事件(@update:money)</span><br><span class="line">        子组件中，在button中写上@click=&quot;$emit&#123;&#x27;update:money&#x27;,money-100&#125;&quot;来响应父组件中sync方法即可</span><br><span class="line"></span><br><span class="line">        $attrs和$listeners可以实现父子组件通信</span><br><span class="line">        在子组件标签上可以使用 v-bind=&quot;$attrs&quot;获取父组件传过来的属性值(此处的v-bind不能够简写成:，否则方法不生效),而使用v-on=&quot;$liseners&quot;能够响应父组件中设置的自定义事件(此处v-on不能够替换为@，否则方法不生效)</span><br><span class="line">        想要实现当鼠标悬浮在按钮上显示提示信息，就是将a标签包裹住button标签，然后在a标签内接收父组件传过来的相应的信息即可</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        $children和$parent</span><br><span class="line">        1.$ref可以获取到某一个组件的子组件，并可以获取其数据信息进行加工修改，例如$ref.money</span><br><span class="line">        2.$children组件实例的属性，可以获取当前组件的全部的子组件，并可以获取它们的数据信息，通过forEach遍历对数据信息进行逐一的加工修改,例如this.$children.forEach(item=&gt;(item.money+=100))</span><br><span class="line">        (注意：不能够使用this.$children[0].money的形式，因为不能够确定这个数组的第0项是否为正确的数据）</span><br><span class="line">        3.$parent可以获取当前组件的父组件，可以用来操作父组件的数据值，例如：this.$parent.money+=50</span><br><span class="line"></span><br><span class="line">    --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        单向数据绑定：&lt;input type=&quot;text&quot; v-bind:value=&quot;name&quot;&gt;&lt;br&gt; 双向数据绑定：</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model:value=&quot;name&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &#x27;张三&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="例子：收集表单数据"><a href="#例子：收集表单数据" class="headerlink" title="例子：收集表单数据"></a>例子：收集表单数据</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">                收集表单数据：</span><br><span class="line"></span><br><span class="line">                若：&lt;input type=&quot;text&quot;/&gt;，则v-model收集的是value值，用户输入的内容就是value值</span><br><span class="line">                若：&lt;input type=&quot;radio&quot;/&gt;，则v-model收集的是value值，且要给标签配置value属性</span><br><span class="line">                若：&lt;input type=&quot;checkbox&quot;/&gt;</span><br><span class="line">                没有配置value属性，那么收集的是checked属性（勾选 or 未勾选，是布尔值）</span><br><span class="line">                配置了value属性：</span><br><span class="line">                v-model的初始值是非数组，那么收集的就是checked（勾选 or 未勾选，是布尔值）</span><br><span class="line">                v-model的初始值是数组，那么收集的就是value组成的数组</span><br><span class="line">                v-model的三个修饰符：</span><br><span class="line"></span><br><span class="line">                lazy：失去焦点后再收集数据</span><br><span class="line">                number：输入字符串转为有效的数字</span><br><span class="line">                trim：输入首尾空格过滤</span><br><span class="line">                --&gt;</span><br><span class="line">        &lt;form @submit.prevent=&quot;demo&quot;&gt;</span><br><span class="line">            &lt;!-- v-model.trim用来排除文段之外的空格 --&gt;</span><br><span class="line">            账号：&lt;input type=&quot;text&quot; v-model.trim=&quot;userinfo.account&quot;&gt;&lt;br/&gt;&lt;br/&gt; 密码：</span><br><span class="line">            &lt;input type=&quot;password&quot; v-model=&quot;userinfo.password&quot;&gt; &lt;br/&gt;&lt;br/&gt; 年龄：</span><br><span class="line">            &lt;!--在输入框后输入数字，vue会解读成文本，这会跟数据库的数据类型起冲突，所以可以使用v-model的number修饰符来解决这个问题--&gt;</span><br><span class="line">            &lt;!-- type=&quot;number&quot; v-model.number一般同时使用 --&gt;</span><br><span class="line">            &lt;input type=&quot;number&quot; v-model.number=&quot;userinfo.age&quot;&gt;</span><br><span class="line">            &lt;br/&gt;&lt;br/&gt;性别： 男</span><br><span class="line">            &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;male&quot; v-model=&quot;userinfo.sex&quot;&gt; 女</span><br><span class="line">            &lt;input type=&quot;radio&quot; name=&quot;sex&quot; value=&quot;female&quot; v-model=&quot;userinfo.sex&quot;&gt;</span><br><span class="line"></span><br><span class="line">            &lt;br/&gt;</span><br><span class="line">            &lt;br/&gt; 学习</span><br><span class="line">            &lt;!--checkbox想要在vue中返回值，需要将data中的字段设置为数组形式才行，并且checkbox影响vue的值  --&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;userinfo.hobby&quot; value=&quot;学习&quot;&gt; 打游戏</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;userinfo.hobby&quot; value=&quot;吃饭&quot;&gt; 吃饭</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;userinfo.hobby&quot; value=&quot;打游戏&quot;&gt;</span><br><span class="line">            &lt;br/&gt;&lt;br/&gt; 所属校区</span><br><span class="line">            &lt;select v-model=&quot;userinfo.city&quot;&gt;</span><br><span class="line">                &lt;option value=&quot;&quot;&gt;&lt;/option&gt;</span><br><span class="line">                &lt;option value=&quot;beijing&quot;&gt;北京&lt;/option&gt;</span><br><span class="line">                &lt;option value=&quot;nanjing&quot;&gt;南京&lt;/option&gt;</span><br><span class="line">                &lt;option value=&quot;shenzhen&quot;&gt;深圳&lt;/option&gt;</span><br><span class="line">                &lt;option value=&quot;guangzhou&quot;&gt;广州&lt;/option&gt;</span><br><span class="line">            &lt;/select&gt; &lt;br/&gt;&lt;br/&gt;其它信息</span><br><span class="line">            &lt;!-- v-model.lazy失去焦点的一瞬间进行收集 --&gt;</span><br><span class="line">            &lt;textarea v-model.lazy=&quot;userinfo.other&quot;&gt;&lt;/textarea&gt; &lt;br/&gt;&lt;br/&gt;</span><br><span class="line">            &lt;input type=&quot;checkbox&quot; v-model=&quot;userinfo.check&quot;&gt;阅读并接收</span><br><span class="line">            &lt;a href=&quot;https://www.pku.edu.cn/&quot;&gt;《用户协议》&lt;/a&gt;</span><br><span class="line">            &lt;button type=&quot;submit&quot;&gt;提交&lt;/button&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            userinfo: &#123;</span><br><span class="line">                account: &#x27;&#x27;,</span><br><span class="line">                password: &#x27;&#x27;,</span><br><span class="line">                age: &#x27;&#x27;,</span><br><span class="line">                sex: &#x27;female&#x27;,</span><br><span class="line">                hobby: [],</span><br><span class="line">                city: &#x27;beijing&#x27;,</span><br><span class="line">                other: &#x27;&#x27;,</span><br><span class="line">                check: &#x27;&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            demo() &#123;</span><br><span class="line">                //将提交过来的json文件变为可供阅读的字符串</span><br><span class="line">                console.log(JSON.stringify(this.userinfo))</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="样式的绑定"><a href="#样式的绑定" class="headerlink" title="样式的绑定"></a>样式的绑定</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line"> &lt;meta name=&quot;viewport&quot; content=&quot;width=device-w                               nitial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .basic &#123;</span><br><span class="line">            width: 400px;</span><br><span class="line">            height: 100px;</span><br><span class="line">            border: 1px solid black;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .happy &#123;</span><br><span class="line">            border: 4px solid red;</span><br><span class="line">            ;</span><br><span class="line">            background-color: rgba(255, 255, 0, 0.644);</span><br><span class="line">            background: linear-gradient(30deg, yellow, pink, orange, yellow);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .sad &#123;</span><br><span class="line">            border: 4px dashed rgb(2, 197, 2);</span><br><span class="line">            background-color: gray;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .normal &#123;</span><br><span class="line">            background-color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .atguigu1 &#123;</span><br><span class="line">            background-color: yellowgreen;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .atguigu2 &#123;</span><br><span class="line">            font-size: 30px;</span><br><span class="line">            text-shadow: 2px 2px 10px red;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .atguigu3 &#123;</span><br><span class="line">            border-radius: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">                class样式：</span><br><span class="line"></span><br><span class="line">                写法：class=&quot;xxx&quot;，xxx可以是字符串、对象、数组</span><br><span class="line"></span><br><span class="line">                字符串写法适用于：类名不确定，要动态获取</span><br><span class="line"></span><br><span class="line">                对象写法适用于：要绑定多个样式，个数不确定，名字也不确定</span><br><span class="line"></span><br><span class="line">                数组写法适用于：要绑定多个样式，个数确定，名字也确定，但不确定用不用</span><br><span class="line"></span><br><span class="line">                style样式：</span><br><span class="line"></span><br><span class="line">                :style=&quot;&#123;fontSize: xxx&#125;&quot;其中xxx是动态值</span><br><span class="line">                :style=&quot;[a,b]&quot;其中a、b是样式对象</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 绑定class样式--字符串写法 适用于：样式的类名不确定，需要动态指定--&gt;</span><br><span class="line">        &lt;div class=&quot;basic&quot; :class=&quot;mood&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt; &lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;!-- 绑定class样式--数组写法 适用于：样式的名字不确定，个数不确定，需要动态指定--&gt;</span><br><span class="line">        &lt;div class=&quot;basic&quot; :class=&quot;classArr&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;!-- 绑定class样式--数组写法 适用于：样式的名字确定，确定不确定，但需要动态决定用不用--&gt;</span><br><span class="line">        &lt;div class=&quot;basic&quot; :class=&quot;classObj&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;&lt;br&gt;&lt;br&gt;</span><br><span class="line">        &lt;!-- style样式绑定 --&gt;</span><br><span class="line">        &lt;div class=&quot;basic&quot; :style=&quot;styleObj&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;!-- style样式绑定 数组写法，用得比较少--&gt;</span><br><span class="line">        &lt;div class=&quot;basic&quot; :style=&quot;styleArr&quot; @click=&quot;changeMood&quot;&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;北京大学&#x27;,</span><br><span class="line">            mood: &#x27;normal&#x27;, //变化的样式最好用绑定样式去写</span><br><span class="line">            classArr: [&#x27;atguigu1&#x27;, &#x27;atguigu2&#x27;, &#x27;atguigu3&#x27;], //数组写在此处可以让vue管理数组</span><br><span class="line">            classObj: &#123;</span><br><span class="line">                atguigu1: false,</span><br><span class="line">                atguigu2: false</span><br><span class="line">            &#125;,</span><br><span class="line">            styleObj: &#123;</span><br><span class="line">                fontSize: &#x27;40px&#x27;, // fontSize== font-size</span><br><span class="line">                backgroundColor: &#x27;orange&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            styleArr: [&#123;</span><br><span class="line">                fontSize: &#x27;40px&#x27;, // fontSize== font-size</span><br><span class="line">                backgroundColor: &#x27;blue&#x27;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                color: &#x27;red&#x27;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            changeMood() &#123;</span><br><span class="line">                const arr = [&#x27;happy&#x27;, &#x27;sad&#x27;, &#x27;normal&#x27;]</span><br><span class="line">                const index = Math.floor(Math.random() * 3) // Math.floor向下取整</span><br><span class="line">                this.mood = arr[index]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="Vue中的过滤器"><a href="#Vue中的过滤器" class="headerlink" title="Vue中的过滤器"></a>Vue中的过滤器</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;./day.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">        过滤器：</span><br><span class="line"></span><br><span class="line">        定义：对要显示的数据进行特定格式化后再显示（适用于一些简单逻辑的处理）。</span><br><span class="line"></span><br><span class="line">        语法：</span><br><span class="line"></span><br><span class="line">        注册过滤器：Vue.filter(name,callback) 或 new Vue&#123;filters:&#123;&#125;&#125;</span><br><span class="line"></span><br><span class="line">        使用过滤器：&#123;&#123; xxx | 过滤器名&#125;&#125; 或 v-bind:属性 = &quot;xxx | 过滤器名&quot;</span><br><span class="line"></span><br><span class="line">        备注：</span><br><span class="line"></span><br><span class="line">        过滤器可以接收额外参数，多个过滤器也可以串联</span><br><span class="line">        并没有改变原本的数据，而是产生新的对应的数据</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 过滤器不可跟复杂逻辑，例如v-model --&gt;</span><br><span class="line">        &lt;h3 :x=&quot;msg | mySlice&quot;&gt;大学&lt;/h3&gt;</span><br><span class="line">        &lt;!-- 计算属性实现 --&gt;</span><br><span class="line">        &lt;h2&gt;显示格式化后的时间，现在是&#123;&#123;fmtTime&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;!-- methods实现 --&gt;</span><br><span class="line">        &lt;h2&gt;显示格式化后的时间，现在是&#123;&#123;getfmtTime()&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;!-- 过滤器实现 将time的值传入timeFormater--&gt;</span><br><span class="line">        &lt;h2&gt;现在是:&#123;&#123;time | timeFormater&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;!-- 过滤器传参 --&gt;</span><br><span class="line">        &lt;h2&gt;现在是:&#123;&#123;time | timeFormater(&#x27;YYYY_MM_DD&#x27;)|mySlice&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;div id=&quot;root2&quot;&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;msg|mySlice&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">        //注册全局过滤器</span><br><span class="line">    Vue.filter(&#x27;mySlice&#x27;, function(value) &#123;</span><br><span class="line">        return value.slice(0, 4) //只截取前四位</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line"></span><br><span class="line">        data: &#123;</span><br><span class="line">            time: 1621561377603, //时间戳</span><br><span class="line">            msg: &#x27;你好，北京&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        computed: &#123;</span><br><span class="line">            fmtTime() &#123;</span><br><span class="line">                return dayjs(this.time).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            getfmtTime() &#123;</span><br><span class="line">                return dayjs(this.time).format(&#x27;YYYY-MM-DD HH:mm:ss&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        //注册局部过滤器</span><br><span class="line">        filters: &#123;</span><br><span class="line">            timeFormater(value, str = &#x27;YYYY-MM-DD HH:mm:ss&#x27;) &#123;</span><br><span class="line">                //str有值用的用返回过来的值，没有则直接使用str中格式</span><br><span class="line">                console.log(&#x27;@&#x27;, value)</span><br><span class="line">                return dayjs(value).format(str)</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root2&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;2020-1-1&#x27;,</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>此处使用的是Day.js的源文件做为条件过滤，可以在Day.js官网中下载源文件</p><h2 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;计算属性&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            计算属性：</span><br><span class="line"></span><br><span class="line">            定义：要用的属性不存在，需要通过已有属性计算得来。</span><br><span class="line"></span><br><span class="line">            原理：底层借助了Objcet.defineproperty()方法提供的getter和setter。</span><br><span class="line"></span><br><span class="line">            get函数什么时候执行？</span><br><span class="line"></span><br><span class="line">            初次读取时会执行一次</span><br><span class="line">            当依赖的数据发生改变时会被再次调用</span><br><span class="line">            优势：与methods实现相比，内部有缓存机制（复用），效率更高，调试方便</span><br><span class="line"></span><br><span class="line">            备注：</span><br><span class="line"></span><br><span class="line">            计算属性最终会出现在vm上，直接读取使用即可</span><br><span class="line">            如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变</span><br><span class="line">            如果计算属性确定不考虑修改，可以使用计算属性的简写形式</span><br><span class="line">--&gt;</span><br><span class="line">        姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt;&lt;br&gt;&lt;br&gt; 名：</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt;&lt;br&gt;&lt;br&gt; 姓名：</span><br><span class="line">        &lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                firstName: &#x27;张&#x27;,</span><br><span class="line">                lastName: &#x27;三&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            /*正常书写模式*/</span><br><span class="line">            computed: &#123;</span><br><span class="line">                fullName: &#123;</span><br><span class="line">                    get() &#123;</span><br><span class="line">                        return this.firstName + &#x27;-&#x27; + this.lastName</span><br><span class="line">                    &#125;,</span><br><span class="line">                    set(value) &#123;</span><br><span class="line">                            const arr = value.split(&#x27;-&#x27;)</span><br><span class="line">                            this.firstName = arr[0]</span><br><span class="line">                            this.lastName = arr[1]</span><br><span class="line">                        &#125;</span><br><span class="line">                        /*</span><br><span class="line">            简写模式</span><br><span class="line">            computed:&#123;</span><br><span class="line">                fullName()&#123;</span><br><span class="line">                return this.firstName + &#x27;-&#x27; + this.lastName</span><br><span class="line">    &#125;</span><br><span class="line">                    */</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="监视属性"><a href="#监视属性" class="headerlink" title="监视属性"></a>监视属性</h2><h3 id="监视属性的简单演示"><a href="#监视属性的简单演示" class="headerlink" title="监视属性的简单演示"></a>监视属性的简单演示</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;监视属性&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!--  </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">                监视属性watch：</span><br><span class="line"></span><br><span class="line">                当被监视的属性变化时，回调函数自动调用，进行相关操作</span><br><span class="line">                监视的属性必须存在，才能进行监视</span><br><span class="line">                监视有两种写法：</span><br><span class="line">                创建Vue时传入watch配置</span><br><span class="line">               </span><br><span class="line">        --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h2&gt;今天天气好&#123;&#123;info&#125;&#125;!&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;changeWeather&quot;&gt;点击切换天气&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">        const vm = new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                isHot: true,</span><br><span class="line">            &#125;,</span><br><span class="line">            computed: &#123;</span><br><span class="line">                info() &#123;</span><br><span class="line">                    return this.isHot ? &#x27;炎热&#x27; : &#x27;凉爽&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                changeWeather() &#123;</span><br><span class="line">                    this.isHot = !this.isHot</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            watch: &#123;</span><br><span class="line">                /*isHot: &#123;</span><br><span class="line">                    immediate: true, //初始化时让handler调用一下</span><br><span class="line">                    //handler什么时候调用？当isHot发生改变时</span><br><span class="line">                    handler(newValue, oldValue) &#123;</span><br><span class="line">                        console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;*/</span><br><span class="line"></span><br><span class="line">                //简写</span><br><span class="line">                isHot(newValue, oldValue) &#123;</span><br><span class="line">                    console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue, this)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            /*通过vm.$watch监视</span><br><span class="line">            //正常写法</span><br><span class="line">            vm.$watch(</span><br><span class="line">                &#x27;isHot&#x27;, &#123;</span><br><span class="line">                immediate: true,</span><br><span class="line">                handler(newValue, oldValue) &#123;</span><br><span class="line">                    console.log(&#x27;isHot被修改了&#x27;, newValue, oldValue)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line">            //简写</span><br><span class="line">            vm.$watch(&#x27;isHot&#x27;,function(newValue,oldValue)&#123;</span><br><span class="line">                console.log(&#x27;isHot被修改了&#x27;,newValue,oldValue,this)</span><br><span class="line">                             &#125;)</span><br><span class="line">            */</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="监听属性-VS-计算属性"><a href="#监听属性-VS-计算属性" class="headerlink" title="监听属性 VS 计算属性"></a>监听属性 VS 计算属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;计算属性&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            computed和watch之间的区别：</span><br><span class="line"></span><br><span class="line">            computed能完成的功能，watch都可以完成</span><br><span class="line">            watch能完成的功能，computed不一定能完成，例如：watch可以进行异步操作</span><br><span class="line">            两个重要的小原则：</span><br><span class="line"></span><br><span class="line">            所有被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象</span><br><span class="line">            所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象。</span><br><span class="line"> --&gt;</span><br><span class="line">        姓：&lt;input type=&quot;text&quot; v-model=&quot;firstName&quot;&gt;&lt;br&gt;&lt;br&gt; 名：</span><br><span class="line">        &lt;input type=&quot;text&quot; v-model=&quot;lastName&quot;&gt;&lt;br&gt;&lt;br&gt; 姓名：</span><br><span class="line">        &lt;span&gt;&#123;&#123;fullName&#125;&#125;&lt;/span&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                firstName: &#x27;张&#x27;,</span><br><span class="line">                lastName: &#x27;三&#x27;,</span><br><span class="line">                fullName: &#x27;张-三&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            /*computed: &#123;</span><br><span class="line">                fullName() &#123;</span><br><span class="line">                    return this.firstName + &#x27;-&#x27; + this.lastName</span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">            &#125;*/</span><br><span class="line"></span><br><span class="line">            watch: &#123;</span><br><span class="line">                firstName(val) &#123;</span><br><span class="line">                    //当firstname改变时，将会在此处进行更新firstname的值</span><br><span class="line">                    setTimeout(() =&gt; &#123; //所有不被Vue所管理的函数,最好写成箭头函数，这样this的指向才是vm 或 组件实例对象。</span><br><span class="line">                        this.fullName = val + &#x27;-&#x27; + this.lastName</span><br><span class="line">                    &#125;, 1000);</span><br><span class="line">                &#125;,</span><br><span class="line">                lastName(val) &#123;</span><br><span class="line">                    //当lastName改变时，将会在此处进行更新firstname的值</span><br><span class="line">                    this.fullName = this.firstName + &#x27;-&#x27; + val</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="深度监视"><a href="#深度监视" class="headerlink" title="深度监视"></a>深度监视</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;深度监视&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            深度监视：</span><br><span class="line"></span><br><span class="line">                    Vue中的watch默认不监测对象内部值的改变（一层）</span><br><span class="line">                    在watch中配置deep:true可以监测对象内部值的改变（多层）</span><br><span class="line">                    备注：</span><br><span class="line"></span><br><span class="line">                    Vue自身可以监测对象内部值的改变，但Vue提供的watch默认不可以</span><br><span class="line">                    使用watch时根据监视数据的具体结构，决定是否采用深度监视</span><br><span class="line">--&gt;</span><br><span class="line">        &lt;h3&gt;a的值是:&#123;&#123;numbers.a&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;button @click=&quot;numbers.a++&quot;&gt;点我让a+1&lt;/button&gt;</span><br><span class="line">        &lt;h3&gt;b的值是:&#123;&#123;numbers.b&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;button @click=&quot;numbers.b++&quot;&gt;点我让b+1&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                isHot: true,</span><br><span class="line">                numbers: &#123;</span><br><span class="line">                    a: 1,</span><br><span class="line">                    b: 1,</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            watch: &#123;</span><br><span class="line">                //监视多级结构中所有属性的变化</span><br><span class="line">                numbers: &#123;</span><br><span class="line">                    deep: true, //此处为深度监视的开关，默认为false</span><br><span class="line">                    handler() &#123;</span><br><span class="line">                        console.log(&#x27;numbers改变了&#x27;)</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;,</span><br><span class="line">                //监视多级结构中某个属性的变化</span><br><span class="line">                /* &#x27;numbers.a&#x27;:&#123;</span><br><span class="line">                handler()&#123;</span><br><span class="line">                console.log(&#x27;a被改变了&#x27;)</span><br><span class="line">                &#125;</span><br><span class="line">                &#125; */</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="内置指令"><a href="#内置指令" class="headerlink" title="内置指令"></a>内置指令</h2><h3 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;v-cloak指令&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        [v-cloak] &#123;</span><br><span class="line">            display: none;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--  </span><br><span class="line">        总结：</span><br><span class="line"></span><br><span class="line">            v-cloak指令（没有值）：</span><br><span class="line"></span><br><span class="line">            本质是一个特殊属性，Vue实例创建完毕并接管容器,显示正确内容后，会删掉v-cloak属性</span><br><span class="line">            使用css配合v-cloak可以解决网速慢时页面展示出&#123;&#123;xxx&#125;&#125;的问题</span><br><span class="line">    --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2 v-cloak&gt;&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;尚硅谷&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="v-html"><a href="#v-html" class="headerlink" title="v-html"></a>v-html</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;v-html指令&lt;/title&gt;</span><br><span class="line">    &lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!--  总结：</span><br><span class="line"></span><br><span class="line">            v-html指令：</span><br><span class="line"></span><br><span class="line">            作用：向指定节点中渲染包含html结构的内容</span><br><span class="line"></span><br><span class="line">            与插值语法的区别：</span><br><span class="line"></span><br><span class="line">            v-html会替换掉节点中所有的内容，&#123;&#123;xx&#125;&#125;则不会</span><br><span class="line">            v-html可以识别html结构</span><br><span class="line">            严重注意：v-html有安全性问题！！！</span><br><span class="line"></span><br><span class="line">            在网站上动态渲染任意HTML是非常危险的，容易导致XSS攻击</span><br><span class="line">            一定要在可信的内容上使用v-html，永远不要用在用户提交的内容上！！！</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div&gt;Hello，&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;div v-html=&quot;str&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;div v-html=&quot;str2&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;清华大学&#x27;,</span><br><span class="line">            str: &#x27;&lt;h3&gt;你好啊！&lt;/h3&gt;&#x27;,</span><br><span class="line">            str2: &#x27;&lt;a href=javascript:location.href=&quot;http://www.baidu.com?&quot;+document.cookie&gt;兄弟我找到你想要的资源了，快来！&lt;/a&gt;&#x27;,</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;v-once指令&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">                v-once指令：</span><br><span class="line"></span><br><span class="line">                v-once所在节点在初次动态渲染后，也就是只执行一次渲染，就视为静态内容了</span><br><span class="line"></span><br><span class="line">                以后数据的改变不会引起v-once所在结构的更新，可以用于优化性能</span><br><span class="line">         --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2 v-once&gt;n初始化的值是：&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;n现在的值是：&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            n: 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="v-pre"><a href="#v-pre" class="headerlink" title="v-pre"></a>v-pre</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;v-pre指令&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        总结：</span><br><span class="line"></span><br><span class="line">                v-pre指令：</span><br><span class="line"></span><br><span class="line">                跳过其所在节点的编译过程，也就是说vue对v-pre所在的模板不做解析和管理，不要在具有插值语法或者其他语法节点的语句中使用 </span><br><span class="line">                可利用它跳过：没有使用指令语法、没有使用插值语法的节点，会加快编译</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2 v-pre&gt;Vue其实很简单&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;当前的n值是:&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;n++&quot;&gt;点我n+1&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            n: 1</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="v-text"><a href="#v-text" class="headerlink" title="v-text"></a>v-text</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            之前学过的指令：</span><br><span class="line"></span><br><span class="line">            v-bind：单向绑定解析表达式，可简写为:</span><br><span class="line">            v-model：双向数据绑定</span><br><span class="line">            v-for：遍历数组 / 对象 / 字符串</span><br><span class="line">            v-on：绑定事件监听，可简写为@</span><br><span class="line">            v-if：条件渲染（动态控制节点是否存存在）</span><br><span class="line">            v-else：条件渲染（动态控制节点是否存存在）</span><br><span class="line">            v-show：条件渲染 (动态控制节点是否展示)</span><br><span class="line">            v-text指令：</span><br><span class="line"></span><br><span class="line">            作用：向其所在的节点中渲染文本内容</span><br><span class="line"></span><br><span class="line">            与插值语法的区别：v-text会替换掉节点中的内容，&#123;&#123;xx&#125;&#125;则不会。</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;div&gt;&#123;&#123;name&#125;&#125;&lt;/div&gt;</span><br><span class="line">        &lt;div v-text=&quot;name&quot;&gt;&lt;/div&gt;</span><br><span class="line">        &lt;!-- &lt;div v-text=&quot;str&quot;&gt;&lt;/div&gt; --&gt;</span><br><span class="line">        &lt;!-- v-html支持结构的解析 --&gt;</span><br><span class="line">        &lt;div v-html=&quot;str&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;清华大学&#x27;,</span><br><span class="line">            str: &#x27;&lt;h3&gt;你好&lt;/h3&gt;&#x27;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h2><h3 id="键盘事件"><a href="#键盘事件" class="headerlink" title="键盘事件"></a>键盘事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;键盘事件&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- Vue中常用的按键别名：</span><br><span class="line"></span><br><span class="line">            回车：enter</span><br><span class="line">            删除：delete (捕获“删除”和“退格”键)</span><br><span class="line">            退出：esc</span><br><span class="line">            空格：space</span><br><span class="line">            换行：tab (特殊，必须配合keydown去使用)</span><br><span class="line">            上：up</span><br><span class="line">            下：down</span><br><span class="line">            左：left</span><br><span class="line">            右：right</span><br><span class="line">            注意：</span><br><span class="line"></span><br><span class="line">            系统修饰键（用法特殊）：ctrl、alt、shift、meta</span><br><span class="line"></span><br><span class="line">            配合keyup使用：按下修饰键的同时，再按下其他键，随后释放其他键，事件才被触发</span><br><span class="line">            配合keydown使用：正常触发事件</span><br><span class="line">            可以使用keyCode去指定具体的按键，比如：@keydown.13=&quot;showInfo&quot;，但不推荐这样使用</span><br><span class="line"></span><br><span class="line">            Vue.config.keyCodes.自定义键名 = 键码，可以自定义按键别名</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2&gt;欢迎来到&#123;&#123;name&#125;&#125;学习&lt;/h2&gt;</span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;按下回车提示输入&quot; @keydown.enter=&quot;showInfo&quot;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;尚硅谷&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showInfo(e) &#123;</span><br><span class="line">                console.log(e.target.value)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="事件处理-1"><a href="#事件处理-1" class="headerlink" title="事件处理"></a>事件处理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;事件的基本用法&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!--  总结：</span><br><span class="line"></span><br><span class="line">        使用v-on:xxx或@xxx绑定事件，其中xxx是事件名</span><br><span class="line">        事件的回调需要配置在methods对象中，最终会在vm上</span><br><span class="line">        methods中配置的函数，==不要用箭头函数！==否则this就不是vm了</span><br><span class="line">        methods中配置的函数，都是被Vue所管理的函数，this的指向是vm或组件实例对象</span><br><span class="line">        @click=&quot;demo和@click=&quot;demo($event)&quot;效果一致，但后者可以传参</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2&gt;hello,&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button v-on:click=&quot;showInfo1&quot;&gt;点我提示信息1&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;showInfo2($event,66)&quot;&gt;点我提示信息2&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;script&gt;</span><br><span class="line">        Vue.config.productionTip = false</span><br><span class="line">        new Vue(&#123;</span><br><span class="line">            el: &#x27;#root&#x27;,</span><br><span class="line">            data: &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line">            methods: &#123;</span><br><span class="line">                showInfo1(event) &#123;</span><br><span class="line">                    console.log(event)</span><br><span class="line">                &#125;,</span><br><span class="line">                showInfo2(evnet, num) &#123;</span><br><span class="line">                    console.log(event, num)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="事件处理修饰符"><a href="#事件处理修饰符" class="headerlink" title="事件处理修饰符"></a>事件处理修饰符</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;事件修饰符&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        * &#123;</span><br><span class="line">            margin-top: 20px;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .demo1 &#123;</span><br><span class="line">            height: 50px;</span><br><span class="line">            background-color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .box1 &#123;</span><br><span class="line">            padding: 5px;</span><br><span class="line">            background-color: skyblue;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .box2 &#123;</span><br><span class="line">            padding: 5px;</span><br><span class="line">            background-color: orange;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        .list &#123;</span><br><span class="line">            width: 200px;</span><br><span class="line">            height: 200px;</span><br><span class="line">            background-color: peru;</span><br><span class="line">            overflow: auto;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        li &#123;</span><br><span class="line">            height: 100px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h2&gt;欢迎来到&#123;&#123;name&#125;&#125;学习&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            Vue中的事件修饰符：</span><br><span class="line"></span><br><span class="line">            prevent：阻止默认事件（常用）</span><br><span class="line">            stop：阻止事件冒泡（常用）</span><br><span class="line">            once：事件只触发一次（常用）</span><br><span class="line">            capture：使用事件的捕获模式</span><br><span class="line">            self：只有event.target是当前操作的元素时才触发事件</span><br><span class="line">            passive：事件的默认行为立即执行，无需等待事件回调执行完毕</span><br><span class="line">            修饰符可以连续写，比如可以这么用：@click.prevent.stop=&quot;showInfo&quot;,代表阻止默认事件的同时阻止冒泡</span><br><span class="line">--&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 阻止默认事件 --&gt;</span><br><span class="line">        &lt;a href=&quot;http://www.atguigu.com&quot; @click.prevent=&quot;showInfo&quot;&gt;点我提示信息&lt;/a&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 阻止事件冒泡 --&gt;</span><br><span class="line">        &lt;div class=&quot;demo1&quot; @click=&quot;showInfo&quot;&gt;</span><br><span class="line">            &lt;button @click.stop=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 事件只触发一次 --&gt;</span><br><span class="line">        &lt;button @click.once=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 使用事件的捕获模式,box1在捕获阶段时就被直接输出了，所以即使是内部先发起请求，都会先输出box1的值 --&gt;</span><br><span class="line">        &lt;div class=&quot;box1&quot; @click.capture=&quot;showMsg(1)&quot;&gt;</span><br><span class="line">            div1</span><br><span class="line">            &lt;div class=&quot;box2&quot; @click=&quot;showMsg(2)&quot;&gt;</span><br><span class="line">                div2</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">       &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 只有event.target是当前操作的元素时才触发事件 --&gt;</span><br><span class="line">        &lt;div class=&quot;demo1&quot; @click.self=&quot;showInfo&quot;&gt;</span><br><span class="line">            &lt;button @click=&quot;showInfo&quot;&gt;点我提示信息&lt;/button&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 事件的默认行为立即执行，无需等待事件回调执行完毕 --&gt;</span><br><span class="line">        &lt;ul @wheel.passive=&quot;demo&quot; class=&quot;list&quot;&gt;</span><br><span class="line">            &lt;li&gt;1&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;2&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;3&lt;/li&gt;</span><br><span class="line">            &lt;li&gt;4&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;尚硅谷&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showInfo(e) &#123;</span><br><span class="line">                alert(&#x27;同学你好！&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            showMsg(msg) &#123;</span><br><span class="line">                console.log(msg)</span><br><span class="line">            &#125;,</span><br><span class="line">            demo() &#123;</span><br><span class="line">                for (let i = 0; i &lt; 100000; i++) &#123;</span><br><span class="line">                    console.log(&#x27;#&#x27;)</span><br><span class="line">                &#125;</span><br><span class="line">                console.log(&#x27;累坏了&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="数据的渲染与排序"><a href="#数据的渲染与排序" class="headerlink" title="数据的渲染与排序"></a>数据的渲染与排序</h2><h3 id="列表的过滤"><a href="#列表的过滤" class="headerlink" title="列表的过滤"></a>列表的过滤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;h2&gt;人员信息&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; v-model=&quot;keyWord&quot;&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(p,index) in fliperson&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;</span><br><span class="line"></span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line"></span><br><span class="line">        data: &#123;</span><br><span class="line">            keyWord: &#x27;&#x27;,</span><br><span class="line">            persons: [&#123;</span><br><span class="line">                id: &#x27;001&#x27;,</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;002&#x27;,</span><br><span class="line">                name: &#x27;李四&#x27;,</span><br><span class="line">                age: 19,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;003&#x27;,</span><br><span class="line">                name: &#x27;王五&#x27;,</span><br><span class="line">                age: 20,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;],</span><br><span class="line">            //fliperson: []</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        /*watch方法实现列表过滤</span><br><span class="line">        watch: &#123;</span><br><span class="line">            keyWord: &#123;</span><br><span class="line">                immediate: &#x27;true&#x27;,</span><br><span class="line">                //由于空字符串在所有字符串之中都存在，所以可以将persons数组中所有的数据全部输出，所以可以先调用一次空字符串，让所有数据先输出一次</span><br><span class="line">                handler(val) &#123;</span><br><span class="line">                    //此处实现过滤功能</span><br><span class="line">                    this.fliperson = this.persons.filter((p) =&gt; &#123;</span><br><span class="line">                        return p.name.indexOf(val) !== -1 //由于-1等于一个寻找不到字符串，所以此处既然要返回一个存在的值，那就让其不等于-1即可</span><br><span class="line">                            //indexOf()用来搜索值是否存在</span><br><span class="line">                    &#125;)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;*/</span><br><span class="line"></span><br><span class="line">        computed: &#123;</span><br><span class="line">            fliperson() &#123;</span><br><span class="line">                //return是计算属性的所必要返回的</span><br><span class="line">                return this.fliperson = this.persons.filter((p) =&gt; &#123;</span><br><span class="line">                    //此处只需写入keyWord后，直接就可以进行传值</span><br><span class="line">                    //只要keyWord一发生变化，那么整个fliperson就会重新运行 </span><br><span class="line">                    return p.name.indexOf(this.keyWord) !== -1</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="列表的排序"><a href="#列表的排序" class="headerlink" title="列表的排序"></a>列表的排序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;h2&gt;人员信息&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;input type=&quot;text&quot; placeholder=&quot;请输入姓名&quot; v-model=&quot;keyWord&quot;&gt;</span><br><span class="line">        &lt;button @click=&quot;sortType=2&quot;&gt;年龄升序&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;sortType=1&quot;&gt;年龄降序&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;sortType=0&quot;&gt;原顺序&lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(p,index) in fliperson&quot; :key=&quot;p.id&quot;&gt;</span><br><span class="line">                &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;-&#123;&#123;p.sex&#125;&#125;</span><br><span class="line"></span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line"></span><br><span class="line">        data: &#123;</span><br><span class="line">            keyWord: &#x27;&#x27;,</span><br><span class="line">            sortType: 0,</span><br><span class="line">            persons: [&#123;</span><br><span class="line">                id: &#x27;001&#x27;,</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 25,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;002&#x27;,</span><br><span class="line">                name: &#x27;李四&#x27;,</span><br><span class="line">                age: 32,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;003&#x27;,</span><br><span class="line">                name: &#x27;王五&#x27;,</span><br><span class="line">                age: 20,</span><br><span class="line">                sex: &#x27;男&#x27;</span><br><span class="line">            &#125;],</span><br><span class="line">            //fliperson: []</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        computed: &#123;</span><br><span class="line">            fliperson() &#123;</span><br><span class="line">                //return是计算属性的所必要返回的</span><br><span class="line">                const arr = this.persons.filter((p) =&gt; &#123;</span><br><span class="line">                    //此处只需写入keyWord后，直接就可以进行传值</span><br><span class="line">                    //只要keyWord一发生变化，那么整个fliperson就会重新运行 </span><br><span class="line">                    return p.name.indexOf(this.keyWord) !== -1</span><br><span class="line">                &#125;)</span><br><span class="line">                if (this.sortType) &#123;</span><br><span class="line">                    arr.sort((p1, p2) =&gt; &#123;</span><br><span class="line">                        //p2-p1后减前为升序</span><br><span class="line">                        //p1-p2前减后为降序 </span><br><span class="line">                        return this.sortType === 1 ? p2.age - p1.age : p1.age - p2.age</span><br><span class="line">                    &#125;)</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">                return arr</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">            v-for指令：</span><br><span class="line">                1.用于展示列表数据</span><br><span class="line">                2.语法：v-for=&quot;(item,index) in xxx&quot; :key=&quot;yyy&quot;</span><br><span class="line">                3.可遍历：数组，对象，字符串(用得少)，指定次数(用得少)</span><br><span class="line">         --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 遍历数组 --&gt;</span><br><span class="line">        &lt;h2&gt;人员信息&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(p,index) in persons&quot; :key=&quot;index&quot;&gt;&#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 遍历对象 </span><br><span class="line">            遍历对象时有value和key的值</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;h2&gt;汽车信息&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(value,key) in car&quot; :key=&quot;key&quot;&gt;&#123;&#123;key&#125;&#125;-&#123;&#123;value&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;h2&gt;遍历字符串&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(char,index) in hello&quot; :key=&quot;index&quot;&gt;&#123;&#123;char&#125;&#125;-&#123;&#123;index&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;h2&gt;遍历指定次数&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(number,index) in 5&quot; :key=&quot;index&quot;&gt;&#123;&#123;number&#125;&#125;-&#123;&#123;index&#125;&#125;&lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            persons: [&#123;</span><br><span class="line">                id: &#x27;001&#x27;,</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;002&#x27;,</span><br><span class="line">                name: &#x27;李四&#x27;,</span><br><span class="line">                age: 19</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;003&#x27;,</span><br><span class="line">                name: &#x27;王五&#x27;,</span><br><span class="line">                age: 20</span><br><span class="line">            &#125;],</span><br><span class="line">            car: &#123;</span><br><span class="line">                name: &#x27;奥迪A8&#x27;,</span><br><span class="line">                price: &#x27;70万&#x27;,</span><br><span class="line">                color: &#x27;白色&#x27;</span><br><span class="line">            &#125;,</span><br><span class="line"></span><br><span class="line">            hello: &#x27;hello&#x27;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">                v-if：</span><br><span class="line"></span><br><span class="line">                写法：</span><br><span class="line"></span><br><span class="line">                v-if=&quot;表达式&quot;</span><br><span class="line">                v-else-if=&quot;表达式&quot;</span><br><span class="line">                v-else</span><br><span class="line">                适用于：切换频率较低的场景</span><br><span class="line"></span><br><span class="line">                特点：不展示的DOM元素直接被移除</span><br><span class="line"></span><br><span class="line">                注意：v-if可以和v-else-if、v-else一起使用，但要求结构不能被打断</span><br><span class="line"></span><br><span class="line">                v-show：</span><br><span class="line"></span><br><span class="line">                写法：v-show=&quot;表达式&quot;</span><br><span class="line">                适用于：切换频率较高的场景</span><br><span class="line">                特点：不展示的DOM元素未被移除，仅仅是使用样式隐藏掉</span><br><span class="line">                使用v-if的时，元素可能无法获取到，而使用v-show一定可以获取到</span><br><span class="line"> --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- 使用频率高的用v-show，使用频率低的用v-if --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- 使用v-show做条件渲染 若设置为false，则会隐藏内容，但实际上内容结构没有消失--&gt;</span><br><span class="line">        &lt;!-- &lt;h2 v-show=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2 v-show=&quot;1===1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt; --&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;!-- 使用v-if做条件渲染 若设置为false，则会隐藏内容，内容结构一并消失--&gt;</span><br><span class="line">        &lt;h2 v-if=&quot;false&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2 v-if=&quot;1===1&quot;&gt;欢迎来到&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h2&gt;当前的n值为：&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=n++&gt;点我n+1&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &lt;!-- v-else和v-else-if --&gt;</span><br><span class="line">        &lt;div v-if=&quot;n===1&quot;&gt;Angular&lt;/div&gt;</span><br><span class="line">        &lt;div v-else-if=&quot;n===2&quot;&gt;react&lt;/div&gt;</span><br><span class="line">        &lt;div v-else-if=&quot;n===3&quot;&gt;vue&lt;/div&gt;</span><br><span class="line">        &lt;div v-else&gt;超出可选范围&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- template为模板的意思，在浏览器中渲染页面时，template不会渲染上去 --&gt;</span><br><span class="line">        &lt;!-- template只能够配合v-if进行使用 --&gt;</span><br><span class="line">        &lt;template v-if=&quot;n===1&quot;&gt;</span><br><span class="line">            &lt;h2&gt;你好&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;北京大学&lt;/h2&gt;</span><br><span class="line">        &lt;/template&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;清华大学&#x27;,</span><br><span class="line">            n: 0</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="数据渲染时，key的作用"><a href="#数据渲染时，key的作用" class="headerlink" title="数据渲染时，key的作用"></a>数据渲染时，key的作用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;!-- </span><br><span class="line">            面试题：react、vue中的key有什么作用？（key的内部原理）</span><br><span class="line"></span><br><span class="line">                虚拟DOM中key的作用：key是虚拟DOM中对象的标识，当数据发生变化时，Vue会根据【新数据】生成【新的虚拟DOM】，随后Vue进行【新虚拟DOM】与【旧虚拟DOM】的差异比较，比较规则如下：</span><br><span class="line"></span><br><span class="line">                对比规则：</span><br><span class="line"></span><br><span class="line">                旧虚拟DOM中找到了与新虚拟DOM相同的key：</span><br><span class="line"></span><br><span class="line">                若虚拟DOM中内容没变, 直接使用之前的真实DOM</span><br><span class="line">                若虚拟DOM中内容变了, 则生成新的真实DOM，随后替换掉页面中之前的真实DOM</span><br><span class="line">                旧虚拟DOM中未找到与新虚拟DOM相同的key：创建新的真实DOM，随后渲染到到页面</span><br><span class="line"></span><br><span class="line">                用index作为key可能会引发的问题：</span><br><span class="line"></span><br><span class="line">                若对数据进行逆序添加、逆序删除等破坏顺序操作：会产生没有必要的真实DOM更新 ==&gt; 界面效果没问题, 但效率低</span><br><span class="line">                若结构中还包含输入类的DOM：会产生错误DOM更新 ==&gt; 界面有问题</span><br><span class="line">                开发中如何选择key?</span><br><span class="line"></span><br><span class="line">                最好使用每条数据的唯一标识作为key，比如id、手机号、身份证号、学号等唯一值</span><br><span class="line">                如果不存在对数据的逆序添加、逆序删除等破坏顺序的操作，仅用于渲染列表，使用index作为key是没有问题的</span><br><span class="line"></span><br><span class="line">         --&gt;</span><br><span class="line">        &lt;!-- 遍历数组 --&gt;</span><br><span class="line">        &lt;h2&gt;人员信息&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;button @click.once=add&gt;添加一个人&lt;/button&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(p,index) in persons&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;p.name&#125;&#125;-&#123;&#123;p.age&#125;&#125;</span><br><span class="line">                &lt;input type=&quot;text&quot;&gt;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            persons: [&#123;</span><br><span class="line">                id: &#x27;001&#x27;,</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;002&#x27;,</span><br><span class="line">                name: &#x27;李四&#x27;,</span><br><span class="line">                age: 19</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">                id: &#x27;003&#x27;,</span><br><span class="line">                name: &#x27;王五&#x27;,</span><br><span class="line">                age: 20</span><br><span class="line">            &#125;],</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            add() &#123;</span><br><span class="line">                const p = &#123;</span><br><span class="line">                    id: &#x27;004&#x27;,</span><br><span class="line">                    name: &#x27;老刘&#x27;,</span><br><span class="line">                    age: 40</span><br><span class="line">                &#125;</span><br><span class="line">                this.persons.unshift(p)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="Vue-set的使用"><a href="#Vue-set的使用" class="headerlink" title="Vue.set的使用"></a>Vue.set的使用</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1&gt;学校信息&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;h1&gt;学生信息&lt;/h1&gt;</span><br><span class="line">        &lt;button @click=&quot;addSex&quot;&gt;点击添加一个性别，默认值为男&lt;/button&gt;</span><br><span class="line">        &lt;h2&gt;学生姓名：&#123;&#123;student.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2 v-if=&quot;student.sex&quot;&gt;性别:&#123;&#123;student.sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学生年龄：&#123;&#123;student.age.rAge&#125;&#125;,对外&#123;&#123;student.age.sAge&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot; (f,index) in student.friends&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;北京大学&#x27;,</span><br><span class="line">            address: &#x27;北京&#x27;,</span><br><span class="line">            student: &#123;</span><br><span class="line">                name: &#x27;true&#x27;,</span><br><span class="line">                // sex: &#x27;男&#x27;,</span><br><span class="line">                age: &#123;</span><br><span class="line">                    rAge: 40,</span><br><span class="line">                    sAge: 29</span><br><span class="line">                &#125;,</span><br><span class="line">                friends: [&#123;</span><br><span class="line">                    name: &#x27;jerry&#x27;,</span><br><span class="line">                    age: 35</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    name: &#x27;tony&#x27;,</span><br><span class="line">                    age: 36</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            addSex() &#123;</span><br><span class="line">                /*在student中追加一个属性sex，初始值为男</span><br><span class="line">                Vue.set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)*/</span><br><span class="line">                this.$set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="Vue监测数据改变的原理-数组"><a href="#Vue监测数据改变的原理-数组" class="headerlink" title="Vue监测数据改变的原理_数组"></a>Vue监测数据改变的原理_数组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;h1&gt;学校信息&lt;/h1&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;br&gt;</span><br><span class="line">        &lt;h1&gt;学生信息&lt;/h1&gt;</span><br><span class="line">        &lt;button @click=&quot;addSex&quot;&gt;点击添加一个性别，默认值为男&lt;/button&gt;</span><br><span class="line">        &lt;h2&gt;学生姓名：&#123;&#123;student.name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2 v-if=&quot;student.sex&quot;&gt;性别:&#123;&#123;student.sex&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学生年龄：&#123;&#123;student.age.rAge&#125;&#125;,对外&#123;&#123;student.age.sAge&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot; (f,index) in student.friends&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;h2&gt;爱好&lt;/h2&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot; (h,index) in student.hobby&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;h&#125;&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            name: &#x27;北京大学&#x27;,</span><br><span class="line">            address: &#x27;北京&#x27;,</span><br><span class="line">            student: &#123;</span><br><span class="line">                name: &#x27;true&#x27;,</span><br><span class="line">                // sex: &#x27;男&#x27;,</span><br><span class="line">                hobby: [&#x27;抽烟&#x27;, &#x27;喝酒&#x27;, &#x27;烫头&#x27;], //想要在vue中修改数组元素，必须使用push()、pop()、shift()、unshift()、splice()、sort()、reverse()</span><br><span class="line">                age: &#123;</span><br><span class="line">                    rAge: 40,</span><br><span class="line">                    sAge: 29</span><br><span class="line">                &#125;,</span><br><span class="line">                friends: [&#123;</span><br><span class="line">                    name: &#x27;jerry&#x27;,</span><br><span class="line">                    age: 35</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    name: &#x27;tony&#x27;,</span><br><span class="line">                    age: 36</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            addSex() &#123;</span><br><span class="line">                /*在student中追加一个属性sex，初始值为男</span><br><span class="line">                Vue.set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)*/</span><br><span class="line">                this.$set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="Vue监测数据改变总结"><a href="#Vue监测数据改变总结" class="headerlink" title="Vue监测数据改变总结"></a>Vue监测数据改变总结</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot; /&gt;</span><br><span class="line">    &lt;title&gt;Vue数据监视&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        button &#123;</span><br><span class="line">            margin-top: 10px;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">                Vue监视数据的原理：</span><br><span class="line"></span><br><span class="line">                vue会监视data中所有层次的数据</span><br><span class="line"></span><br><span class="line">                如何监测对象中的数据？</span><br><span class="line"></span><br><span class="line">                通过setter实现监视，且要在new Vue时就传入要监测的数据</span><br><span class="line"></span><br><span class="line">                对象中后追加的属性，Vue默认不做响应式处理</span><br><span class="line">                如需给后添加的属性做响应式，请使用如下API：</span><br><span class="line">                Vue.set(target,propertyName/index,value)</span><br><span class="line">                vm.$set(target,propertyName/index,value)</span><br><span class="line">                如何监测数组中的数据？</span><br><span class="line"></span><br><span class="line">                通过包裹数组更新元素的方法实现，本质就是做了两件事：</span><br><span class="line"></span><br><span class="line">                调用原生对应的方法对数组进行更新</span><br><span class="line">                重新解析模板，进而更新页面</span><br><span class="line">                在Vue修改数组中的某个元素一定要用如下方法：</span><br><span class="line"></span><br><span class="line">                使用这些API：push()、pop()、shift()、unshift()、splice()、sort()、reverse()</span><br><span class="line">                Vue.set() 或 vm.$set()</span><br><span class="line"></span><br><span class="line">         --&gt;</span><br><span class="line">        &lt;h1&gt;学生信息&lt;/h1&gt;</span><br><span class="line">        &lt;button @click=&quot;student.age++&quot;&gt;年龄+1岁&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;addSex&quot;&gt;添加性别属性，默认值：男&lt;/button&gt; &lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;student.sex=&#x27;未知&#x27;&quot;&gt;添加性别属性,未知&lt;/button&gt; &lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;addFriend&quot;&gt;在列表首位添加一个朋友&lt;/button&gt; &lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;updateFirstFriendName&quot;&gt;修改第一个朋友的名字为：张三&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;addHobby&quot;&gt;添加一个爱好&lt;/button&gt; &lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;updateHobby&quot;&gt;修改第一个爱好为：开车&lt;/button&gt;&lt;br/&gt;</span><br><span class="line">        &lt;button @click=&quot;removeSmoke&quot;&gt;过滤掉爱好中的抽烟&lt;/button&gt; &lt;br/&gt;</span><br><span class="line">        &lt;h3&gt;姓名：&#123;&#123;student.name&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;h3&gt;年龄：&#123;&#123;student.age&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;h3 v-if=&quot;student.sex&quot;&gt;性别：&#123;&#123;student.sex&#125;&#125;&lt;/h3&gt;</span><br><span class="line">        &lt;h3&gt;爱好：&lt;/h3&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(h,index) in student.hobby&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;h&#125;&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">        &lt;h3&gt;朋友们：&lt;/h3&gt;</span><br><span class="line">        &lt;ul&gt;</span><br><span class="line">            &lt;li v-for=&quot;(f,index) in student.friends&quot; :key=&quot;index&quot;&gt;</span><br><span class="line">                &#123;&#123;f.name&#125;&#125;--&#123;&#123;f.age&#125;&#125;</span><br><span class="line">            &lt;/li&gt;</span><br><span class="line">        &lt;/ul&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line"></span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">    Vue.config.productionTip = false //阻止 vue 在启动时生成生产提示。</span><br><span class="line"></span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            student: &#123;</span><br><span class="line">                name: &#x27;tom&#x27;,</span><br><span class="line">                age: 18,</span><br><span class="line">                hobby: [&#x27;抽烟&#x27;, &#x27;喝酒&#x27;, &#x27;烫头&#x27;],</span><br><span class="line">                friends: [&#123;</span><br><span class="line">                    name: &#x27;jerry&#x27;,</span><br><span class="line">                    age: 35</span><br><span class="line">                &#125;, &#123;</span><br><span class="line">                    name: &#x27;tony&#x27;,</span><br><span class="line">                    age: 36</span><br><span class="line">                &#125;]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            addSex() &#123;</span><br><span class="line">                // Vue.set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line">                this.$set(this.student, &#x27;sex&#x27;, &#x27;男&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            addFriend() &#123;</span><br><span class="line">                this.student.friends.unshift(&#123;</span><br><span class="line">                    name: &#x27;jack&#x27;,</span><br><span class="line">                    age: 25</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;,</span><br><span class="line">            updateFirstFriendName() &#123;</span><br><span class="line">                //this.student.friends[0]这个就是一个对象，但是要是直接往里面赋值的话，vue不会承认，因为没有getter和setter</span><br><span class="line">                //所以要往后面添加属性名，这个里面才有getter和setter</span><br><span class="line">                this.student.friends[0].name = &#x27;张三&#x27;</span><br><span class="line">                this.student.friends[0].age = 25</span><br><span class="line">            &#125;,</span><br><span class="line">            addHobby() &#123;</span><br><span class="line">                this.student.hobby.push(&#x27;学习&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            updateHobby() &#123;</span><br><span class="line">                //从第0个开始删除一个值，然后添加一个值为开车</span><br><span class="line">                //this.student.hobby.splice(0, 1, &#x27;开车&#x27;)</span><br><span class="line">                this.$set(this.student.hobby, 0, &#x27;开车&#x27;)</span><br><span class="line">            &#125;,</span><br><span class="line">            removeSmoke() &#123;</span><br><span class="line">                //直接替换原数组</span><br><span class="line">                this.student.hobby = this.student.hobby.filter((h) =&gt; &#123;</span><br><span class="line">                    return h !== &#x27;抽烟&#x27;</span><br><span class="line">                &#125;)</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h2 id="组件化"><a href="#组件化" class="headerlink" title="组件化"></a>组件化</h2><h3 id="非单文件组件"><a href="#非单文件组件" class="headerlink" title="非单文件组件"></a>非单文件组件</h3><h4 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">            Vue中使用组件的三大步骤：</span><br><span class="line"></span><br><span class="line">            定义组件(创建组件)</span><br><span class="line">            注册组件</span><br><span class="line">            使用组件(写组件标签)</span><br><span class="line">            如何定义一个组件？</span><br><span class="line"></span><br><span class="line">            使用Vue.extend(options)创建，其中options和new Vue(options)时传入的options几乎一样，但也有点区别：</span><br><span class="line"></span><br><span class="line">            el不要写，为什么？</span><br><span class="line"></span><br><span class="line">            最终所有的组件都要经过一个vm的管理，由vm中的el决定服务哪个容器</span><br><span class="line"></span><br><span class="line">            data必须写成函数，为什么？</span><br><span class="line"></span><br><span class="line">            避免组件被复用时，数据存在引用关系</span><br><span class="line"></span><br><span class="line">            如何注册组件？</span><br><span class="line"></span><br><span class="line">            局部注册：new Vue的时候传入components选项</span><br><span class="line">            全局注册：Vue.component(&#x27;组件名&#x27;,组件)</span><br><span class="line">            编写组件标签：&lt;school&gt;&lt;/school&gt;</span><br><span class="line"> --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;!-- 3.写组件标签 --&gt;</span><br><span class="line">        &lt;school&gt;&lt;/school&gt;</span><br><span class="line">        &lt;hr&gt;</span><br><span class="line">        &lt;student&gt;&lt;/student&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">    &lt;div id=&quot;root2&quot;&gt;</span><br><span class="line">        &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //1.创建school组件</span><br><span class="line">    const school = Vue.extend(&#123;</span><br><span class="line">        //组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务哪个对象</span><br><span class="line">        //使用函数式data时，外界在不同时候调用时都会返回一个全新的函数</span><br><span class="line"></span><br><span class="line">        //组件在此处定义模板</span><br><span class="line">        template: `</span><br><span class="line">           &lt;div&gt;</span><br><span class="line">               &lt;h2&gt;学校名称:&#123;&#123;schoolName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">               &lt;h2&gt;学校地址:&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">               &lt;button @click=&quot;showName&quot;&gt;显示学校名&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">           `,</span><br><span class="line">        data() &#123;</span><br><span class="line"></span><br><span class="line">            return &#123;</span><br><span class="line">                schoolName: &#x27;尚硅谷&#x27;,</span><br><span class="line">                address: &#x27;北京昌平&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showName() &#123;</span><br><span class="line">                alert(this.schoolName)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //2.创建student组件</span><br><span class="line">    const student = Vue.extend(&#123;</span><br><span class="line">        //组件定义时，一定不要写el配置项，因为最终所有的组件都要被一个vm管理，由vm决定服务哪个对象</span><br><span class="line">        //使用函数式data时，外界在不同时候调用时都会返回一个全新的函数</span><br><span class="line">        template: `</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学生姓名:&#123;&#123;studentName&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学生年龄:&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        data() &#123;</span><br><span class="line"></span><br><span class="line">            return &#123;</span><br><span class="line">                studentName: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //1.创建hello组件</span><br><span class="line">    const hello = Vue.extend(&#123;</span><br><span class="line">            template: `&lt;div&gt;</span><br><span class="line">            &lt;h2&gt; 你好啊！&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;`,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    name: &#x27;tom&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        //全局注册hello组件(第二步)</span><br><span class="line">        //第一个为自定义组件名，第二个为组件位置</span><br><span class="line">        //常用的还是局部组件</span><br><span class="line">        //如果用全局组件和局部组件的话，那么注册全局组件的步骤需要在其创建的组件之后才行</span><br><span class="line">    Vue.component(&#x27;hello&#x27;, hello)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;你好，清华大学&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        //注册组件(局部注册)</span><br><span class="line">        components: &#123;</span><br><span class="line">            school,</span><br><span class="line">            student</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root2&#x27;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="几个注意点"><a href="#几个注意点" class="headerlink" title="几个注意点"></a>几个注意点</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!--  </span><br><span class="line">            总结：</span><br><span class="line"></span><br><span class="line">                关于组件名：</span><br><span class="line"></span><br><span class="line">                一个单词组成：</span><br><span class="line"></span><br><span class="line">                第一种写法（首字母小写）：school</span><br><span class="line">                第二种写法（首字母大写）：School</span><br><span class="line">                多个单词组成：</span><br><span class="line"></span><br><span class="line">                第一种写法（kebab-case命名）：my-school</span><br><span class="line">                第二种写法（CamelCase命名）：MySchool （需要Vue脚手架支持）</span><br><span class="line">                备注：</span><br><span class="line"></span><br><span class="line">                组件名尽可能回避HTML中已有的元素名称，例如：h2、H2都不行</span><br><span class="line">                可以使用name配置项指定组件在开发者工具中呈现的名字</span><br><span class="line">                关于组件标签：</span><br><span class="line"></span><br><span class="line">                第一种写法：&lt;school&gt;&lt;/school&gt;</span><br><span class="line">                第二种写法：&lt;school/&gt;</span><br><span class="line">                备注：不使用脚手架时，&lt;school/&gt;会导致后续组件不能渲染</span><br><span class="line">                一个简写方式：const school = Vue.extend(options)可简写为：const school = options</span><br><span class="line"></span><br><span class="line">        --&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h1&gt;&#123;&#123;msg&#125;&#125;&lt;/h1&gt;</span><br><span class="line">        &lt;my-school&gt;&lt;/my-school&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const school = Vue.extend(&#123;</span><br><span class="line">        name: &#x27;it&#x27;, //可以使用name配置项指定组件在开发者工具中呈现的名字s</span><br><span class="line">        template: `</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;欢迎学习vue&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            //school //此处可使用简写形式</span><br><span class="line">            &#x27;my-school&#x27;: school</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="重要的内置关系"><a href="#重要的内置关系" class="headerlink" title="重要的内置关系"></a>重要的内置关系</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        一个重要的内置关系：VueComponent.prototype.__proto__ === Vue.prototype</span><br><span class="line">        （也就是说，组件实例对象（vc）的原型对象的__proto__，是连接到Vue.prototype的）</span><br><span class="line">为什么要有这个关系：让组件实例对象（vc）可以访问到 Vue 原型上的属性、方法</span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;school&gt;&lt;/school&gt;</span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    Vue.prototype.x = 99</span><br><span class="line">        //定义school组件</span><br><span class="line">    const school = Vue.extend(&#123;</span><br><span class="line">        name: &#x27;school&#x27;, //可以使用name配置项指定组件在vue开发者工具中呈现的名字</span><br><span class="line">        template: `</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">        &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&#x27;showX&#x27;&gt;点我输出X&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    `,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showX() &#123;</span><br><span class="line">                console.log(this.x) //this是school的实例对象vc</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            msg: &#x27;你好&#x27;</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            school</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /*   //定义一个构造函数</span><br><span class="line">    function Demo() &#123;</span><br><span class="line">        this.a = 1</span><br><span class="line">        this.b = 2</span><br><span class="line">    &#125;</span><br><span class="line">    //定义一个demo的实例对象</span><br><span class="line">    const d = new Demo()</span><br><span class="line"></span><br><span class="line">    console.log(Demo.prototype) //显式原型属性</span><br><span class="line">    console.log(d._proto_) //隐式原型属性</span><br><span class="line"></span><br><span class="line">    //通过显式属性操作原型对象，追加一个x属性，值为99</span><br><span class="line">    Demo.prototype.x = 99</span><br><span class="line">    console.log(d)*/</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="组件的嵌套"><a href="#组件的嵌套" class="headerlink" title="组件的嵌套"></a>组件的嵌套</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">        //定义student组件</span><br><span class="line">        //先定义student组件，才可以在school组件中嵌套成功</span><br><span class="line">    const student = Vue.extend(&#123;</span><br><span class="line">            name: &#x27;student&#x27;, //可以使用name配置项指定组件在开发者工具中呈现的名字s</span><br><span class="line">            template: `</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">                &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            `,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    name: &#x27;张三&#x27;,</span><br><span class="line">                    age: 18</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        //定义school组件</span><br><span class="line">    const school = Vue.extend(&#123;</span><br><span class="line">            name: &#x27;school&#x27;, //可以使用name配置项指定组件在vue开发者工具中呈现的名字</span><br><span class="line">            template: `</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;student&gt;&lt;/student&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    name: &#x27;清华大学&#x27;,</span><br><span class="line">                    address: &#x27;北京&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;,</span><br><span class="line">            //嵌套注册组件(局部)</span><br><span class="line">            //在哪里嵌套注册，就在哪里写组件结构</span><br><span class="line">            components: &#123;</span><br><span class="line">                student</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        //定义hello组件</span><br><span class="line">    const hello = Vue.extend(&#123;</span><br><span class="line">            name: &#x27;hello&#x27;,</span><br><span class="line">            template: `&lt;h1&gt;</span><br><span class="line">        &#123;&#123;msg&#125;&#125;</span><br><span class="line">    &lt;/h1&gt;`,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    msg: &#x27;hello&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        //定义app组件,此处领导众多的组件</span><br><span class="line">    const app = Vue.extend(&#123;</span><br><span class="line">        template: `</span><br><span class="line">        &lt;div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">            &lt;school&gt;&lt;/school&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        components: &#123;</span><br><span class="line"></span><br><span class="line">            school, //因为student组件已经嵌套进school里面了，所以此处不必调用</span><br><span class="line">            hello</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        template: `</span><br><span class="line">        &lt;app&gt;&lt;/app&gt;</span><br><span class="line">        `, //在此处也可以使用template</span><br><span class="line">        components: &#123;</span><br><span class="line">            app</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="VueComponent"><a href="#VueComponent" class="headerlink" title="VueComponent"></a>VueComponent</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        关于VueComponent：</span><br><span class="line"></span><br><span class="line">            school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的</span><br><span class="line"></span><br><span class="line">            我们只需要写&lt;school/&gt;或&lt;school&gt;&lt;/school&gt;，Vue解析时会帮我们创建school组件的实例对象，即Vue帮我们执行的：new VueComponent(options)</span><br><span class="line"></span><br><span class="line">            特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！</span><br><span class="line"></span><br><span class="line">            关于this指向：</span><br><span class="line"></span><br><span class="line">            组件配置中：data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是VueComponent实例对象</span><br><span class="line">            new Vue(options)配置中：data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是Vue实例对象</span><br><span class="line">            VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）</span><br><span class="line"></span><br><span class="line">            Vue的实例对象，以后简称vm</span><br><span class="line"></span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;hello&gt;&lt;/hello&gt;</span><br><span class="line">        &lt;school&gt;&lt;/school&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">        //定义school组件</span><br><span class="line">    const school = Vue.extend(&#123;</span><br><span class="line">        name: &#x27;school&#x27;, //可以使用name配置项指定组件在开发者工具中呈现的名字s</span><br><span class="line">        template: `</span><br><span class="line">        &lt;div&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">          </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    //定义test组件</span><br><span class="line">    const test = Vue.extend(&#123;</span><br><span class="line"></span><br><span class="line">            template: &#x27;&lt;span&gt;&#123;&#123;msg&#125;&#125;&lt;/span&gt;&#x27;,</span><br><span class="line">            data() &#123;</span><br><span class="line">                return &#123;</span><br><span class="line">                    msg: &#x27;清华大学&#x27;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        //定义hello组件</span><br><span class="line">    const hello = Vue.extend(&#123;</span><br><span class="line"></span><br><span class="line">        template: `&lt;div&gt;</span><br><span class="line">        &lt;test&gt;&lt;/test&gt;</span><br><span class="line">        &lt;h2&gt;&#123;&#123;msg&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        `,</span><br><span class="line">        data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                msg: &#x27;你好&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            test</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    console.log(&#x27;@&#x27;, school)</span><br><span class="line">    console.log(&#x27;#&#x27;, hello)</span><br><span class="line"></span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        components: &#123;</span><br><span class="line">            school,</span><br><span class="line">            hello</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="单文件组件"><a href="#单文件组件" class="headerlink" title="单文件组件"></a>单文件组件</h3><p>接下来的文件需要组合使用</p><h4 id="index-html"><a href="#index-html" class="headerlink" title="index.html"></a>index.html</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 先让模板出来再引入 App.vue --&gt;</span><br><span class="line">    &lt;!-- 准备一个容器 --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;&lt;/div&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">    &lt;!-- 引入入口文件 --&gt;</span><br><span class="line">    &lt;script src=&quot;./main.js&quot;&gt;&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="main-js"><a href="#main-js" class="headerlink" title="main.js"></a>main.js</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line"></span><br><span class="line">new Vue(&#123;</span><br><span class="line">    el: &#x27;#root&#x27;,</span><br><span class="line">    template: `&lt;App&gt;&lt;/App&gt;`,</span><br><span class="line">    components: &#123;</span><br><span class="line">        App</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="School-vue"><a href="#School-vue" class="headerlink" title="School.vue"></a>School.vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">            &lt;h2&gt;学校名称：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学校地址：&#123;&#123;address&#125;&#125;&lt;/h2&gt;</span><br><span class="line">           </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;School&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;清华大学&#x27;,</span><br><span class="line">                address: &#x27;北京&#x27;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            showX() &#123;</span><br><span class="line">                console.log(this.x) //this是school的实例对象vc</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line">/* 组件的样式 */</span><br><span class="line">.demo&#123;</span><br><span class="line">    background-color: orange;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4 id="Student-vue"><a href="#Student-vue" class="headerlink" title="Student.vue"></a>Student.vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line"> &lt;!-- 组件的结构 --&gt;</span><br><span class="line"> &lt;!-- 非单文件的弊端就是css不会跟着组件走 --&gt;</span><br><span class="line">&lt;div class=&quot;demo&quot;&gt;</span><br><span class="line">            &lt;h2&gt;学生姓名：&#123;&#123;name&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125;&lt;/h2&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//组件交互相关的代码(数据、方法等等)</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">   //直接可以不使用vue.extend</span><br><span class="line">    export default&#123;</span><br><span class="line">        name:&#x27;Student&#x27;,</span><br><span class="line">         data() &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                name: &#x27;张三&#x27;,</span><br><span class="line">                age: 18</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="App-vue"><a href="#App-vue" class="headerlink" title="App.vue"></a>App.vue</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div&gt;</span><br><span class="line">      &lt;School&gt;&lt;/School&gt;</span><br><span class="line">      &lt;Student&gt;&lt;/Student&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">//引入组件</span><br><span class="line">import School from &#x27;./School.vue&#x27;</span><br><span class="line">import Student from &#x27;./Student.vue&#x27;</span><br><span class="line">   //一般使用默认暴露export default,然后想要在其他文件中引入此文件只需要写import....from....</span><br><span class="line">    export default &#123;</span><br><span class="line">        name:&#x27;App&#x27;,</span><br><span class="line">        </span><br><span class="line">        components:&#123;</span><br><span class="line">            //注册组件</span><br><span class="line">            School,</span><br><span class="line">            Student</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;style&gt;</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><h2 id="Vue的生命周期"><a href="#Vue的生命周期" class="headerlink" title="Vue的生命周期"></a>Vue的生命周期</h2><h3 id="引出生命周期的概念"><a href="#引出生命周期的概念" class="headerlink" title="引出生命周期的概念"></a>引出生命周期的概念</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- 总结：</span><br><span class="line"></span><br><span class="line">        生命周期：</span><br><span class="line"></span><br><span class="line">        又名：生命周期回调函数、生命周期函数、生命周期钩子,钩子的意思也就是说在vue运行到特定的周期时去做我们所设定的事情 </span><br><span class="line">        是什么：Vue在关键时刻帮我们调用的一些特殊名称的函数</span><br><span class="line">        生命周期函数的名字不可更改，但函数的具体内容是程序员根据需求编写的</span><br><span class="line">        生命周期函数中的this指向是vm 或 组件实例对象 --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line">        &lt;!-- &#123;opacity:opacity&#125;第一个opacity是css属性名，第二个opacity是vue的数值 </span><br><span class="line">            但是可以简写成&#123;opacity&#125;</span><br><span class="line">        --&gt;</span><br><span class="line">        &lt;h2 :style=&quot;&#123;opacity&#125;&quot;&gt;欢迎学习Vue&lt;/h2&gt;</span><br><span class="line"></span><br><span class="line">        &lt;button @click=&quot;stop&quot;&gt;点我停止变换&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        data: &#123;</span><br><span class="line">            opacity: 1</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line"></span><br><span class="line">            stop() &#123;</span><br><span class="line">                //clearInterval(this.timer)//响应this.timer</span><br><span class="line">                this.$destroy()</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        //Vue完成模板的解析并把初始的真实DOM元素放入页面后(挂载完毕)调用mounted,也就是说mounted只调用一次 </span><br><span class="line">        mounted() &#123;</span><br><span class="line">            console.log(&#x27;mounted&#x27;)</span><br><span class="line">            console.log(&#x27;开启了定时器&#x27;)</span><br><span class="line">                //这里的this.timer相当于往vm中添加了一个timer的属性</span><br><span class="line">            this.timer = setInterval(() =&gt; &#123;</span><br><span class="line">                this.opacity -= 0.01</span><br><span class="line">                if (this.opacity &lt;= 0) this.opacity = 1</span><br><span class="line">            &#125;, 16)</span><br><span class="line">        &#125;,</span><br><span class="line">        beforeDestroy() &#123;</span><br><span class="line">            //使用钩子的好处就是在必要的流程上做自己想做的事情</span><br><span class="line">            console.log(&#x27;定时器停止&#x27;)</span><br><span class="line">            clearInterval(this.timer)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    //通过外部的定时器实现(不推荐)</span><br><span class="line">    /* setInterval(() =&gt; &#123;</span><br><span class="line">         vm.opacity -= 0.01</span><br><span class="line">         if (vm.opacity &lt;= 0) vm.opacity = 1</span><br><span class="line">     &#125;, 16)*/</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="分析生命周期"><a href="#分析生命周期" class="headerlink" title="分析生命周期"></a>分析生命周期</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line"></span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;script src=&quot;https://cdn.jsdelivr.net/npm/vue@2/dist/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;!-- </span><br><span class="line">        总结：</span><br><span class="line"></span><br><span class="line">                常用的生命周期钩子：</span><br><span class="line"></span><br><span class="line">                        mounted：发送ajax请求、启动定时器、绑定自定义事件、订阅消息等初始化操作</span><br><span class="line"></span><br><span class="line">                        beforeDestroy：清除定时器、解绑自定义事件、取消订阅消息等收尾工作</span><br><span class="line"></span><br><span class="line">                关于销毁Vue实例：</span><br><span class="line"></span><br><span class="line">                        销毁后借助Vue开发者工具看不到任何信息</span><br><span class="line"></span><br><span class="line">                        销毁后自定义事件会失效，但原生DOM事件依然有效</span><br><span class="line"></span><br><span class="line">                        一般不会在beforeDestroy操作数据，因为即便操作数据，也不会再触发更新流程了</span><br><span class="line"></span><br><span class="line">     --&gt;</span><br><span class="line">    &lt;div id=&quot;root&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;h2&gt; 当前n的值：&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">        &lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt;</span><br><span class="line">        &lt;button @click=&quot;bye&quot;&gt;点我销毁vm&lt;/button&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">    Vue.config.productionTip = false</span><br><span class="line">    const vm = new Vue(&#123;</span><br><span class="line">        el: &#x27;#root&#x27;,</span><br><span class="line">        //在vue中，可以使用 template作为模板，让vue去解析模板</span><br><span class="line">        /* template: ` </span><br><span class="line">         &lt;div&gt;</span><br><span class="line">         &lt;h2&gt; 当前n的值：&#123;&#123;n&#125;&#125;&lt;/h2&gt;</span><br><span class="line">         &lt;button @click=&quot;add&quot;&gt;点我n+1&lt;/button&gt; &lt;/div&gt;`,*/</span><br><span class="line">        data: &#123;</span><br><span class="line">            n: 1</span><br><span class="line">        &#125;,</span><br><span class="line">        methods: &#123;</span><br><span class="line">            add() &#123;</span><br><span class="line">                this.n++</span><br><span class="line">            &#125;,</span><br><span class="line">            bye() &#123;</span><br><span class="line">                console.log(&#x27;bye&#x27;)</span><br><span class="line">                this.$destroy() //vm.$destroy完全销毁一个实例，清理它与其它实例的连接</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        watch: &#123;</span><br><span class="line">            n() &#123;</span><br><span class="line">                console.log(&#x27;n变了&#x27;)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;,</span><br><span class="line">        //挂载流程</span><br><span class="line">        //Vue完成模板的解析并把初始的真实DOM元素放入页面后(挂载完毕)调用mounted,也就是说mounted只调用一次 </span><br><span class="line">        beforeCreate() &#123;</span><br><span class="line">            //此处是创建数据代理和数据监测之前的操作</span><br><span class="line">            //此时无法通过vm访问到data中的数据、methods中的方法</span><br><span class="line">            console.log(&#x27;beforeCreate&#x27;)</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        created() &#123;</span><br><span class="line">            //此处是创建完数据代理和数据监测之后的操作</span><br><span class="line">            //此时可以通过vm访问到data中的数值，methods中配置的方法</span><br><span class="line">            console.log(&#x27;created&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        beforeMount() &#123;</span><br><span class="line">            //此时，页面呈现的是未经vue编译的dom结构，对所有的dom结构的操作，最终都不奏效</span><br><span class="line">            console.log(&#x27;beforeMount&#x27;)</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        mounted() &#123; //【重要的钩子】</span><br><span class="line">            //此时，页面中呈现的是经过vue编译的dom</span><br><span class="line">            //对dom的操作均有效，在此处可开启定时器，发送网络请求，订阅消息，绑定自定义时间等初始化操作 </span><br><span class="line">            console.log(&#x27;mounted&#x27;)</span><br><span class="line">                //console.log(this)//此处的this为真实dom</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line"></span><br><span class="line">        //更新流程</span><br><span class="line">        beforeUpdate() &#123;</span><br><span class="line">            //此时，在页面和数据尚未保持同步</span><br><span class="line">            console.log(&#x27;beforeUpdate&#x27;)</span><br><span class="line"></span><br><span class="line">        &#125;,</span><br><span class="line">        updated() &#123;</span><br><span class="line">            //此时，数据已更新完毕</span><br><span class="line">            //console.log(this.n)</span><br><span class="line">            console.log(&#x27;updated&#x27;)</span><br><span class="line">        &#125;,</span><br><span class="line">        beforeDestroy() &#123;</span><br><span class="line">            //【重要的钩子】</span><br><span class="line">            //此时,data，methods指令,等等都处于可用状态</span><br><span class="line">            //但是在此处就不要调用方法或修改数据，因为即使如此操作，在此阶段都不会奏效</span><br><span class="line">            //一般只能关闭定时器，取消订阅信息，解绑自定义事件等收尾操作</span><br><span class="line">            console.log(&#x27;beforeDestroy&#x27;)</span><br><span class="line">            console.log(this.n)</span><br><span class="line">        &#125;,</span><br><span class="line">        destroyed() &#123;</span><br><span class="line">            console.log(&#x27;destroyed&#x27;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>以上内容为Vue的基础部分的知识学习笔记，如果觉得这篇文章还行，在评论区留下你的赞赏评论！</p>]]></content>
      
      
      <categories>
          
          <category> Vue </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Vue </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>腾讯云开发工程师认证</title>
      <link href="/posts/fc992f84422f/"/>
      <url>/posts/fc992f84422f/</url>
      
        <content type="html"><![CDATA[<p>腾讯云开发工程师认证必读教程</p><span id="more"></span><h1 id="云开发基础"><a href="#云开发基础" class="headerlink" title="云开发基础"></a>云开发基础</h1><h2 id="1-1传统it架构特点"><a href="#1-1传统it架构特点" class="headerlink" title="1.1传统it架构特点"></a>1.1传统it架构特点</h2><h3 id="企业信息化建设"><a href="#企业信息化建设" class="headerlink" title="企业信息化建设"></a>企业信息化建设</h3><p>1.需求明确</p><p>2.用户规模小</p><p>3.迭代升级慢</p><p>4.技术复杂度低</p><p>5.需求变化慢</p><p>6.企业内部应用</p><h3 id="传统开发模式"><a href="#传统开发模式" class="headerlink" title="传统开发模式"></a>传统开发模式</h3><p>1.瀑布开发模型：标准化，阶段清晰，环环相扣</p><p><img src="/images/pasted-1.png" alt="upload successful"><br>2.单体架构：开发速度快，成本低</p><p><img src="/images/pasted-2.png" alt="upload successful"></p><h2 id="1-2业务驱动下的IT架构变革"><a href="#1-2业务驱动下的IT架构变革" class="headerlink" title="1.2业务驱动下的IT架构变革"></a>1.2业务驱动下的IT架构变革</h2><p><img src="/images/pasted-4.png" alt="upload successful"></p><p><img src="/images/pasted-3.png" alt="upload successful"></p><h3 id="硬件基础设施"><a href="#硬件基础设施" class="headerlink" title="硬件基础设施"></a>硬件基础设施</h3><p><img src="/images/pasted-5.png" alt="upload successful"></p><p><img src="/images/pasted-6.png" alt="upload successful"></p><h3 id="软件架构的改变"><a href="#软件架构的改变" class="headerlink" title="软件架构的改变"></a>软件架构的改变</h3><p><img src="/images/pasted-7.png" alt="upload successful"></p><h2 id="1-3-“互联网-”带来的挑战"><a href="#1-3-“互联网-”带来的挑战" class="headerlink" title="1.3 “互联网+”带来的挑战"></a>1.3 “互联网+”带来的挑战</h2><h3 id="业务特征"><a href="#业务特征" class="headerlink" title="业务特征"></a>业务特征</h3><p><img src="/images/pasted-8.png" alt="upload successful"></p><p><img src="/images/pasted-10.png" alt="upload successful"></p><h2 id="1-4-云计算简介"><a href="#1-4-云计算简介" class="headerlink" title="1.4 云计算简介"></a>1.4 云计算简介</h2><p>云计算是一种新的资源按需租用的服务模式；</p><p>一种新型的互联网数据中心业务</p><p><img src="/images/pasted-11.png" alt="upload successful"></p><h3 id="传统IDC与云计算的区别"><a href="#传统IDC与云计算的区别" class="headerlink" title="传统IDC与云计算的区别"></a>传统IDC与云计算的区别</h3><p><img src="/images/pasted-12.png" alt="upload successful"><br><img src="/images/pasted-13.png" alt="upload successful"></p><h3 id="云计算的特征"><a href="#云计算的特征" class="headerlink" title="云计算的特征"></a>云计算的特征</h3><p>特征：超大规模，高可靠性，多租户隔离，弹性扩展，按需服务，资源可监控计量，低成本</p><p><img src="/images/pasted-14.png" alt="upload successful"></p><h3 id="云计算的服务模式"><a href="#云计算的服务模式" class="headerlink" title="云计算的服务模式"></a>云计算的服务模式</h3><p>模式：SaaS，PaaS，laaS<br><img src="/images/pasted-15.png" alt="upload successful"></p><h2 id="1-5-云计算解决的问题"><a href="#1-5-云计算解决的问题" class="headerlink" title="1.5 云计算解决的问题"></a>1.5 云计算解决的问题</h2><p><img src="/images/pasted-16.png" alt="upload successful"></p><h3 id="用户关注点的区别"><a href="#用户关注点的区别" class="headerlink" title="用户关注点的区别"></a>用户关注点的区别</h3><p><img src="/images/pasted-17.png" alt="upload successful"></p><h3 id="仍然存在的问题"><a href="#仍然存在的问题" class="headerlink" title="仍然存在的问题"></a>仍然存在的问题</h3><p><img src="/images/pasted-18.png" alt="upload successful"></p><h2 id="1-6-云时代开发方式"><a href="#1-6-云时代开发方式" class="headerlink" title="1.6 云时代开发方式"></a>1.6 云时代开发方式</h2><p><img src="/images/pasted-19.png" alt="upload successful"></p><h3 id="开发模式演变"><a href="#开发模式演变" class="headerlink" title="开发模式演变"></a>开发模式演变</h3><p><img src="/images/pasted-20.png" alt="upload successful"></p><p><img src="/images/pasted-21.png" alt="upload successful"></p><h3 id="演变-微服务架构"><a href="#演变-微服务架构" class="headerlink" title="演变-微服务架构"></a>演变-微服务架构</h3><p><img src="/images/pasted-22.png" alt="upload successful"></p><p><img src="/images/pasted-23.png" alt="upload successful"></p><h3 id="软件架构演变"><a href="#软件架构演变" class="headerlink" title="软件架构演变"></a>软件架构演变</h3><p>无服务器：不是说没有服务器，只是不用太过关心服务器，而是关心相关的代码、方法或是函数</p><p><img src="/images/pasted-24.png" alt="upload successful"></p><h3 id="传统应用跟云端应用区别"><a href="#传统应用跟云端应用区别" class="headerlink" title="传统应用跟云端应用区别"></a>传统应用跟云端应用区别</h3><p><img src="/images/pasted-25.png" alt="upload successful"></p><h3 id="技术栈的区别"><a href="#技术栈的区别" class="headerlink" title="技术栈的区别"></a>技术栈的区别</h3><p><img src="/images/pasted-26.png" alt="upload successful"></p><h3 id="云时代开发分类"><a href="#云时代开发分类" class="headerlink" title="云时代开发分类"></a>云时代开发分类</h3><h1 id="云开发入门"><a href="#云开发入门" class="headerlink" title="云开发入门"></a>云开发入门</h1><p><img src="/images/pasted-27.png" alt="upload successful"></p><h2 id="2-1腾讯云简介"><a href="#2-1腾讯云简介" class="headerlink" title="2.1腾讯云简介"></a>2.1腾讯云简介</h2><p><img src="/images/pasted-28.png" alt="upload successful"></p><p><img src="/images/pasted-35.png" alt="upload successful"></p><p><img src="/images/pasted-37.png" alt="upload successful"></p><h3 id="大规模运营经验"><a href="#大规模运营经验" class="headerlink" title="大规模运营经验"></a>大规模运营经验</h3><p><img src="/images/pasted-33.png" alt="upload successful"></p><h3 id="采购能力"><a href="#采购能力" class="headerlink" title="采购能力"></a>采购能力</h3><p><img src="/images/pasted-39.png" alt="upload successful"></p><h3 id="服务提供能力"><a href="#服务提供能力" class="headerlink" title="服务提供能力"></a>服务提供能力</h3><p><img src="/images/pasted-40.png" alt="upload successful"></p><h2 id="2-2-云管理平台及云产品概览"><a href="#2-2-云管理平台及云产品概览" class="headerlink" title="2.2 云管理平台及云产品概览"></a>2.2 云管理平台及云产品概览</h2><h3 id="VStation云计算管理平台"><a href="#VStation云计算管理平台" class="headerlink" title="VStation云计算管理平台"></a>VStation云计算管理平台</h3><p><img src="/images/pasted-41.png" alt="upload successful"></p><p><img src="/images/pasted-42.png" alt="upload successful"></p><p><img src="/images/pasted-43.png" alt="upload successful"></p><h3 id="云产品概览"><a href="#云产品概览" class="headerlink" title="云产品概览"></a>云产品概览</h3><p><img src="/images/pasted-44.png" alt="upload successful"></p><p><img src="/images/pasted-45.png" alt="upload successful"></p><h2 id="2-3-腾讯云全球基础设施简介"><a href="#2-3-腾讯云全球基础设施简介" class="headerlink" title="2.3 腾讯云全球基础设施简介"></a>2.3 腾讯云全球基础设施简介</h2><p><img src="/images/pasted-46.png" alt="upload successful"></p><h3 id="地域与可用区"><a href="#地域与可用区" class="headerlink" title="地域与可用区"></a>地域与可用区</h3><p><img src="/images/pasted-48.png" alt="upload successful"></p><p><img src="/images/pasted-50.png" alt="upload successful"></p><p><img src="/images/pasted-51.png" alt="upload successful"></p><h2 id="2-4-开发接入流程"><a href="#2-4-开发接入流程" class="headerlink" title="2.4 开发接入流程"></a>2.4 开发接入流程</h2><h3 id="开发接入流程"><a href="#开发接入流程" class="headerlink" title="开发接入流程"></a>开发接入流程</h3><p><img src="/images/pasted-52.png" alt="upload successful"></p><h3 id="获取主账号"><a href="#获取主账号" class="headerlink" title="获取主账号"></a>获取主账号</h3><p><img src="/images/pasted-55.png" alt="upload successful"></p><p><img src="/images/pasted-56.png" alt="upload successful"></p><h3 id="账号分类"><a href="#账号分类" class="headerlink" title="账号分类"></a>账号分类</h3><p><img src="/images/pasted-57.png" alt="upload successful"><br>由于权限过大，所以实际开发时不推荐使用主账号！！！</p><p><img src="/images/pasted-58.png" alt="upload successful"></p><h2 id="2-5-云产品的使用方式"><a href="#2-5-云产品的使用方式" class="headerlink" title="2.5 云产品的使用方式"></a>2.5 云产品的使用方式</h2><p><img src="/images/pasted-59.png" alt="upload successful"></p><h3 id="SDK方式"><a href="#SDK方式" class="headerlink" title="SDK方式"></a>SDK方式</h3><p><img src="/images/pasted-60.png" alt="upload successful"></p><p><img src="/images/pasted-61.png" alt="upload successful"></p><h3 id="API方式"><a href="#API方式" class="headerlink" title="API方式"></a>API方式</h3><p><img src="/images/pasted-62.png" alt="upload successful"></p><h2 id="2-6-账号使用与安全"><a href="#2-6-账号使用与安全" class="headerlink" title="2.6 账号使用与安全"></a>2.6 账号使用与安全</h2><h3 id="访问管理CAM"><a href="#访问管理CAM" class="headerlink" title="访问管理CAM"></a>访问管理CAM</h3><p><img src="/images/pasted-63.png" alt="upload successful"></p><h3 id="CAM概念关系"><a href="#CAM概念关系" class="headerlink" title="CAM概念关系"></a>CAM概念关系</h3><p><img src="/images/pasted-64.png" alt="upload successful"></p><p><img src="/images/pasted-65.png" alt="upload successful"></p><p><img src="/images/pasted-66.png" alt="upload successful"></p><h3 id="创建子账号流程"><a href="#创建子账号流程" class="headerlink" title="创建子账号流程"></a>创建子账号流程</h3><p><img src="/images/pasted-67.png" alt="upload successful"></p><h3 id="CAM最佳实践"><a href="#CAM最佳实践" class="headerlink" title="CAM最佳实践"></a>CAM最佳实践</h3><p><img src="/images/pasted-68.png" alt="upload successful"></p><h3 id="本地开发环境"><a href="#本地开发环境" class="headerlink" title="本地开发环境"></a>本地开发环境</h3><p><img src="/images/pasted-69.png" alt="upload successful"></p><h3 id="云端开发环境"><a href="#云端开发环境" class="headerlink" title="云端开发环境"></a>云端开发环境</h3><p><img src="/images/pasted-70.png" alt="upload successful"></p><h2 id="2-8-云API概述"><a href="#2-8-云API概述" class="headerlink" title="2.8 云API概述"></a>2.8 云API概述</h2><p>云API是腾讯云开放生态的基石</p><p><img src="/images/pasted-71.png" alt="upload successful"></p><h3 id="功能组合"><a href="#功能组合" class="headerlink" title="功能组合"></a>功能组合</h3><p>可以将常用或是需要经常复用的API组合封装成一个整体的API</p><p><img src="/images/pasted-72.png" alt="upload successful"></p><h3 id="定制化需求"><a href="#定制化需求" class="headerlink" title="定制化需求"></a>定制化需求</h3><p><img src="/images/pasted-73.png" alt="upload successful"></p><h2 id="2-9-云API请求结构"><a href="#2-9-云API请求结构" class="headerlink" title="2.9 云API请求结构"></a>2.9 云API请求结构</h2><p><img src="/images/pasted-74.png" alt="upload successful"></p><h3 id="请求方法"><a href="#请求方法" class="headerlink" title="请求方法"></a>请求方法</h3><p><img src="/images/pasted-75.png" alt="upload successful"></p><h3 id="服务地址"><a href="#服务地址" class="headerlink" title="服务地址"></a>服务地址</h3><p>支持就近地域接入，会自动解析并最近区域云服务器，从而降低时延</p><p><img src="/images/pasted-76.png" alt="upload successful"></p><h3 id="公共参数"><a href="#公共参数" class="headerlink" title="公共参数"></a>公共参数</h3><p>公共参数用来标识用户和接口鉴权的参数</p><p>推荐使用v3的签名方法，与API3.0相对应</p><p><img src="/images/pasted-77.png" alt="upload successful"></p><h3 id="签名方法v3"><a href="#签名方法v3" class="headerlink" title="签名方法v3"></a>签名方法v3</h3><p>v3的签名方法使用的是TC3-HMAC-SHA256</p><p><img src="/images/pasted-78.png" alt="upload successful"></p><h3 id="地域列表"><a href="#地域列表" class="headerlink" title="地域列表"></a>地域列表</h3><p>Region参数所指的是地域</p><p><img src="/images/pasted-79.png" alt="upload successful"></p><h3 id="云API接口鉴权"><a href="#云API接口鉴权" class="headerlink" title="云API接口鉴权"></a>云API接口鉴权</h3><p>腾讯云API会对每个访问请求进行身份验证</p><p>安全凭证包括SecretId和SecretKey</p><p><img src="/images/pasted-80.png" alt="upload successful"></p><h3 id="鉴权分类"><a href="#鉴权分类" class="headerlink" title="鉴权分类"></a>鉴权分类</h3><p><img src="/images/pasted-81.png" alt="upload successful"></p><h3 id="使用步骤"><a href="#使用步骤" class="headerlink" title="使用步骤"></a>使用步骤</h3><p><img src="/images/pasted-82.png" alt="upload successful"></p><h3 id="签名失败以及错误码"><a href="#签名失败以及错误码" class="headerlink" title="签名失败以及错误码"></a>签名失败以及错误码</h3><p><img src="/images/pasted-83.png" alt="upload successful"></p><h2 id="2-10-API-3-0-Explorer"><a href="#2-10-API-3-0-Explorer" class="headerlink" title="2.10 API 3.0 Explorer"></a>2.10 API 3.0 Explorer</h2><p>API 3.0 Explorer可以用来简化签名流程</p><p><img src="/images/pasted-84.png" alt="upload successful"></p><p><img src="/images/pasted-85.png" alt="upload successful"></p><p><img src="/images/pasted-86.png" alt="upload successful"></p><p><img src="/images/pasted-87.png" alt="upload successful"></p><h1 id="本地应用迁移到云端"><a href="#本地应用迁移到云端" class="headerlink" title="本地应用迁移到云端"></a>本地应用迁移到云端</h1><h2 id="3-1本地使用上云的基础"><a href="#3-1本地使用上云的基础" class="headerlink" title="3.1本地使用上云的基础"></a>3.1本地使用上云的基础</h2><p><img src="/images/pasted-88.png" alt="upload successful"></p><p><img src="/images/pasted-89.png" alt="upload successful"></p><h3 id="本地应用上云的优势"><a href="#本地应用上云的优势" class="headerlink" title="本地应用上云的优势"></a>本地应用上云的优势</h3><p><img src="/images/pasted-90.png" alt="upload successful"></p><h3 id="基本步骤"><a href="#基本步骤" class="headerlink" title="基本步骤"></a>基本步骤</h3><p><img src="/images/pasted-91.png" alt="upload successful"></p><h2 id="3-2-应用迁移上云场景介绍"><a href="#3-2-应用迁移上云场景介绍" class="headerlink" title="3.2 应用迁移上云场景介绍"></a>3.2 应用迁移上云场景介绍</h2><p><img src="/images/pasted-92.png" alt="upload successful"></p><h3 id="迁移方案"><a href="#迁移方案" class="headerlink" title="迁移方案"></a>迁移方案</h3><p><img src="/images/pasted-94.png" alt="upload successful"></p><h3 id="本地应用迁移上云后架构"><a href="#本地应用迁移上云后架构" class="headerlink" title="本地应用迁移上云后架构"></a>本地应用迁移上云后架构</h3><p><img src="/images/pasted-95.png" alt="upload successful"></p><h2 id="3-3-云服务器简介"><a href="#3-3-云服务器简介" class="headerlink" title="3.3 云服务器简介"></a>3.3 云服务器简介</h2><p><img src="/images/pasted-96.png" alt="upload successful"></p><h3 id="云服务器CVM"><a href="#云服务器CVM" class="headerlink" title="云服务器CVM"></a>云服务器CVM</h3><p><img src="/images/pasted-97.png" alt="upload successful"></p><p><img src="/images/pasted-98.png" alt="upload successful"></p><h3 id="云服务器CVM概念关系"><a href="#云服务器CVM概念关系" class="headerlink" title="云服务器CVM概念关系"></a>云服务器CVM概念关系</h3><p>实例就是云服务器</p><p><img src="/images/pasted-99.png" alt="upload successful"></p><h3 id="云服务器的存储"><a href="#云服务器的存储" class="headerlink" title="云服务器的存储"></a>云服务器的存储</h3><p><img src="/images/pasted-100.png" alt="upload successful"></p><h3 id="块存储设备映射"><a href="#块存储设备映射" class="headerlink" title="块存储设备映射"></a>块存储设备映射</h3><p><img src="/images/pasted-101.png" alt="upload successful"></p><h3 id="API概览"><a href="#API概览" class="headerlink" title="API概览"></a>API概览</h3><p><img src="/images/pasted-102.png" alt="upload successful"></p><h3 id="常用API接口"><a href="#常用API接口" class="headerlink" title="常用API接口"></a>常用API接口</h3><p><img src="/images/pasted-103.png" alt="upload successful"></p><h3 id="SDK访问CVM基础"><a href="#SDK访问CVM基础" class="headerlink" title="SDK访问CVM基础"></a>SDK访问CVM基础</h3><p>可以使用python，java，go等多个SDK</p><p><img src="/images/pasted-104.png" alt="upload successful"></p><p><img src="/images/pasted-105.png" alt="upload successful"></p><h3 id="SDK新建CVM实例"><a href="#SDK新建CVM实例" class="headerlink" title="SDK新建CVM实例"></a>SDK新建CVM实例</h3><p><img src="/images/pasted-106.png" alt="upload successful"></p><h3 id="CVM最佳实践"><a href="#CVM最佳实践" class="headerlink" title="CVM最佳实践"></a>CVM最佳实践</h3><p><img src="/images/pasted-107.png" alt="upload successful"></p><h2 id="3-4-本地应用迁移上云流程"><a href="#3-4-本地应用迁移上云流程" class="headerlink" title="3.4 本地应用迁移上云流程"></a>3.4 本地应用迁移上云流程</h2><p><img src="/images/pasted-108.png" alt="upload successful"></p><p><img src="/images/pasted-109.png" alt="upload successful"></p><h2 id="3-5-本地应用迁移上云-实验"><a href="#3-5-本地应用迁移上云-实验" class="headerlink" title="3.5 本地应用迁移上云-实验"></a>3.5 本地应用迁移上云-实验</h2><p>此步为购买服务器流程，具体细节可以到控制台查看</p><h3 id="1-此处使用的是Java的JDK和tomcat"><a href="#1-此处使用的是Java的JDK和tomcat" class="headerlink" title="1.此处使用的是Java的JDK和tomcat"></a>1.此处使用的是Java的JDK和tomcat</h3><p><img src="/images/pasted-110.png" alt="upload successful"></p><h3 id="2-在云服务器上安装mysql数据库"><a href="#2-在云服务器上安装mysql数据库" class="headerlink" title="2.在云服务器上安装mysql数据库"></a>2.在云服务器上安装mysql数据库</h3><p><img src="/images/pasted-111.png" alt="upload successful"></p><h3 id="3-挂载云硬盘到mysql服务的云服务器中"><a href="#3-挂载云硬盘到mysql服务的云服务器中" class="headerlink" title="3.挂载云硬盘到mysql服务的云服务器中"></a>3.挂载云硬盘到mysql服务的云服务器中</h3><p><img src="/images/pasted-113.png" alt="upload successful"></p><h3 id="4-把mysql数据库保存到云硬盘中"><a href="#4-把mysql数据库保存到云硬盘中" class="headerlink" title="4.把mysql数据库保存到云硬盘中"></a>4.把mysql数据库保存到云硬盘中</h3><p><img src="/images/pasted-112.png" alt="upload successful"></p><h3 id="5-修改应用配置，上传并启动应用"><a href="#5-修改应用配置，上传并启动应用" class="headerlink" title="5.修改应用配置，上传并启动应用"></a>5.修改应用配置，上传并启动应用</h3><p><img src="/images/pasted-114.png" alt="upload successful"></p><h2 id="3-6-负载均衡"><a href="#3-6-负载均衡" class="headerlink" title="3.6 负载均衡"></a>3.6 负载均衡</h2><p><img src="/images/pasted-115.png" alt="upload successful"></p><h3 id="负载均衡CLB简介"><a href="#负载均衡CLB简介" class="headerlink" title="负载均衡CLB简介"></a>负载均衡CLB简介</h3><p><img src="/images/pasted-116.png" alt="upload successful"></p><p><img src="/images/pasted-117.png" alt="upload successful"></p><h3 id="负载均衡的CLB分类"><a href="#负载均衡的CLB分类" class="headerlink" title="负载均衡的CLB分类"></a>负载均衡的CLB分类</h3><p><img src="/images/pasted-118.png" alt="upload successful"></p><h3 id="负载均衡的CLB使用步骤"><a href="#负载均衡的CLB使用步骤" class="headerlink" title="负载均衡的CLB使用步骤"></a>负载均衡的CLB使用步骤</h3><p><img src="/images/pasted-119.png" alt="upload successful"></p><h3 id="负载均衡API概览"><a href="#负载均衡API概览" class="headerlink" title="负载均衡API概览"></a>负载均衡API概览</h3><p><img src="/images/pasted-120.png" alt="upload successful"></p><h3 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h3><p><img src="/images/pasted-121.png" alt="upload successful"><br>长时间进行连接的使用加权最小连接数算法</p><p>需要会话保持的，使用源地址散列调度算法</p><p>用户请求时间大致相同时，使用加权轮询<br><img src="/images/pasted-122.png" alt="upload successful">算法</p><p><img src="/images/pasted-122.png" alt="upload successful"></p><h2 id="3-7弹性伸缩"><a href="#3-7弹性伸缩" class="headerlink" title="3.7弹性伸缩"></a>3.7弹性伸缩</h2><p><img src="/images/pasted-123.png" alt="upload successful"></p><p><img src="/images/pasted-124.png" alt="upload successful"></p><h3 id="弹性伸缩AS的优势"><a href="#弹性伸缩AS的优势" class="headerlink" title="弹性伸缩AS的优势"></a>弹性伸缩AS的优势</h3><p><img src="/images/pasted-125.png" alt="upload successful"></p><h3 id="弹性伸缩AS的使用步骤"><a href="#弹性伸缩AS的使用步骤" class="headerlink" title="弹性伸缩AS的使用步骤"></a>弹性伸缩AS的使用步骤</h3><p>可以通过告警或者是定时任务触发弹性伸缩</p><p><img src="/images/pasted-126.png" alt="upload successful"></p><p><img src="/images/pasted-127.png" alt="upload successful"></p><h3 id="弹性伸缩AS最佳实践"><a href="#弹性伸缩AS最佳实践" class="headerlink" title="弹性伸缩AS最佳实践"></a>弹性伸缩AS最佳实践</h3><p><img src="/images/pasted-128.png" alt="upload successful"></p><h2 id="3-8-弹性伸缩-实验"><a href="#3-8-弹性伸缩-实验" class="headerlink" title="3.8 弹性伸缩-实验"></a>3.8 弹性伸缩-实验</h2><h3 id="1-创建文件共享存储"><a href="#1-创建文件共享存储" class="headerlink" title="1.创建文件共享存储"></a>1.创建文件共享存储</h3><p><img src="/images/pasted-129.png" alt="upload successful"></p><h3 id="2-挂载文件系统"><a href="#2-挂载文件系统" class="headerlink" title="2.挂载文件系统"></a>2.挂载文件系统</h3><p><img src="/images/pasted-130.png" alt="upload successful"></p><h3 id="3-修改应用中图片的上传路径配置"><a href="#3-修改应用中图片的上传路径配置" class="headerlink" title="3.修改应用中图片的上传路径配置"></a>3.修改应用中图片的上传路径配置</h3><p><img src="/images/pasted-131.png" alt="upload successful"></p><h3 id="4-创建集群机器的自定义镜像"><a href="#4-创建集群机器的自定义镜像" class="headerlink" title="4.创建集群机器的自定义镜像"></a>4.创建集群机器的自定义镜像</h3><p>包括操作系统以及应用环境</p><h3 id="5-创建弹性伸缩启动配置"><a href="#5-创建弹性伸缩启动配置" class="headerlink" title="5.创建弹性伸缩启动配置"></a>5.创建弹性伸缩启动配置</h3><p><img src="/images/pasted-132.png" alt="upload successful"></p><h3 id="6-创建伸缩组"><a href="#6-创建伸缩组" class="headerlink" title="6.创建伸缩组"></a>6.创建伸缩组</h3><p><img src="/images/pasted-133.png" alt="upload successful"></p><h3 id="7-创建定时任务触发弹性伸缩"><a href="#7-创建定时任务触发弹性伸缩" class="headerlink" title="7.创建定时任务触发弹性伸缩"></a>7.创建定时任务触发弹性伸缩</h3><p><img src="/images/pasted-134.png" alt="upload successful"></p><h2 id="3-9-存储扩容"><a href="#3-9-存储扩容" class="headerlink" title="3.9 存储扩容"></a>3.9 存储扩容</h2><p><img src="/images/pasted-135.png" alt="upload successful"></p><h3 id="腾讯云存储产品概述"><a href="#腾讯云存储产品概述" class="headerlink" title="腾讯云存储产品概述"></a>腾讯云存储产品概述</h3><p><img src="/images/pasted-136.png" alt="upload successful"></p><h3 id="云硬盘产品概述"><a href="#云硬盘产品概述" class="headerlink" title="云硬盘产品概述"></a>云硬盘产品概述</h3><p><img src="/images/pasted-137.png" alt="upload successful"></p><h3 id="云硬盘产品分类"><a href="#云硬盘产品分类" class="headerlink" title="云硬盘产品分类"></a>云硬盘产品分类</h3><p><img src="/images/pasted-138.png" alt="upload successful"></p><h3 id="云硬盘扩容方式"><a href="#云硬盘扩容方式" class="headerlink" title="云硬盘扩容方式"></a>云硬盘扩容方式</h3><p><img src="/images/pasted-139.png" alt="upload successful"></p><h3 id="云硬盘API概览"><a href="#云硬盘API概览" class="headerlink" title="云硬盘API概览"></a>云硬盘API概览</h3><p><img src="/images/pasted-140.png" alt="upload successful"></p><h3 id="云硬盘最佳实践"><a href="#云硬盘最佳实践" class="headerlink" title="云硬盘最佳实践"></a>云硬盘最佳实践</h3><p><img src="/images/pasted-141.png" alt="upload successful"></p><h3 id="文件存储CFS"><a href="#文件存储CFS" class="headerlink" title="文件存储CFS"></a>文件存储CFS</h3><p><img src="/images/pasted-142.png" alt="upload successful"></p><h3 id="文件存储与云硬盘区别"><a href="#文件存储与云硬盘区别" class="headerlink" title="文件存储与云硬盘区别"></a>文件存储与云硬盘区别</h3><p><img src="/images/pasted-143.png" alt="upload successful"></p><h3 id="文件存储使用步骤"><a href="#文件存储使用步骤" class="headerlink" title="文件存储使用步骤"></a>文件存储使用步骤</h3><p><img src="/images/pasted-144.png" alt="upload successful"></p><h2 id="3-10-云硬盘扩容-实验"><a href="#3-10-云硬盘扩容-实验" class="headerlink" title="3.10 云硬盘扩容-实验"></a>3.10 云硬盘扩容-实验</h2><p>1.模拟数据盘被占满的情况<br><img src="/images/pasted-145.png" alt="upload successful"><br>2.重启mysql服务</p><p><img src="/images/pasted-146.png" alt="upload successful"><br>3.云服务器控制台扩容</p><p><img src="/images/pasted-147.png" alt="upload successful"><br>4.扩展分区及文件系统</p><p><img src="/images/pasted-148.png" alt="upload successful"><br>5.重启mysql服务</p><p><img src="/images/pasted-149.png" alt="upload successful"><br>实验结果为成功访问服务器</p><h2 id="3-11本地应用上云后仍然存在的问题"><a href="#3-11本地应用上云后仍然存在的问题" class="headerlink" title="3.11本地应用上云后仍然存在的问题"></a>3.11本地应用上云后仍然存在的问题</h2><p><img src="/images/pasted-150.png" alt="upload successful"></p><h1 id="云端应用开发"><a href="#云端应用开发" class="headerlink" title="云端应用开发"></a>云端应用开发</h1><h2 id="4-1数据库简介"><a href="#4-1数据库简介" class="headerlink" title="4.1数据库简介"></a>4.1数据库简介</h2><p>组织方式：</p><p>关系型数据库需要处理数据模型，例如Mysql</p><p>非关系型数据库则不需要处理数据模型，例如MongoDB</p><p>架构方式：</p><p>集中式数据库就是数据库分配到一台服务器上</p><p>分布式数据库就是数据库分配到多台服务器上</p><p><img src="/images/pasted-175.png" alt="upload successful"></p><p><img src="/images/pasted-176.png" alt="upload successful"></p><h3 id="CDB"><a href="#CDB" class="headerlink" title="CDB"></a>CDB</h3><p><img src="/images/pasted-177.png" alt="upload successful"></p><h2 id="4-2云数据库mysql"><a href="#4-2云数据库mysql" class="headerlink" title="4.2云数据库mysql"></a>4.2云数据库mysql</h2><p><img src="/images/pasted-178.png" alt="upload successful"></p><p><img src="/images/pasted-180.png" alt="upload successful"></p><h3 id="使用云数据库mysql替代自建mysql"><a href="#使用云数据库mysql替代自建mysql" class="headerlink" title="使用云数据库mysql替代自建mysql"></a>使用云数据库mysql替代自建mysql</h3><p><img src="/images/pasted-181.png" alt="upload successful"><br>云数据库mysql的使用</p><p><img src="/images/pasted-182.png" alt="upload successful"></p><h2 id="4-3-数据迁移"><a href="#4-3-数据迁移" class="headerlink" title="4.3 数据迁移"></a>4.3 数据迁移</h2><p><img src="/images/pasted-183.png" alt="upload successful"></p><h3 id="数据迁移到云数据库mysql方案"><a href="#数据迁移到云数据库mysql方案" class="headerlink" title="数据迁移到云数据库mysql方案"></a>数据迁移到云数据库mysql方案</h3><p><img src="/images/pasted-184.png" alt="upload successful"></p><h3 id="sql文件导入"><a href="#sql文件导入" class="headerlink" title="sql文件导入"></a>sql文件导入</h3><p><img src="/images/pasted-185.png" alt="upload successful"></p><p><img src="/images/pasted-186.png" alt="upload successful"></p><h3 id="使用DTS在线导入"><a href="#使用DTS在线导入" class="headerlink" title="使用DTS在线导入"></a>使用DTS在线导入</h3><p>新建导入案例后，按照提示输入本地数据库的相关信息，测试数据库时需通过，若无法通过测试，则查看帮助文档。入完成后需点击右侧的完成按钮，否则仍会处于传输状态</p><p><img src="/images/pasted-187.png" alt="upload successful"></p><h2 id="4-4-读写分离"><a href="#4-4-读写分离" class="headerlink" title="4.4 读写分离"></a>4.4 读写分离</h2><p><img src="/images/pasted-188.png" alt="upload successful"><br>云数据库只有一个主数据库和多个从数据库</p><p><img src="/images/pasted-189.png" alt="upload successful"></p><h3 id="云数据库mysql只读实例"><a href="#云数据库mysql只读实例" class="headerlink" title="云数据库mysql只读实例"></a>云数据库mysql只读实例</h3><p><img src="/images/pasted-190.png" alt="upload successful"></p><h3 id="只读实例的使用步骤"><a href="#只读实例的使用步骤" class="headerlink" title="只读实例的使用步骤"></a>只读实例的使用步骤</h3><p><img src="/images/pasted-191.png" alt="upload successful"></p><h3 id="读写分离实现步骤"><a href="#读写分离实现步骤" class="headerlink" title="读写分离实现步骤"></a>读写分离实现步骤</h3><p><img src="/images/pasted-192.png" alt="upload successful"></p><h3 id="架构的变化"><a href="#架构的变化" class="headerlink" title="架构的变化"></a>架构的变化</h3><p>创建只读实例可以极大提高负载能力</p><p>适用于当前的读大于写的场景</p><p><img src="/images/pasted-193.png" alt="upload successful"></p><h2 id="4-5云数据库mysql的整合实验"><a href="#4-5云数据库mysql的整合实验" class="headerlink" title="4.5云数据库mysql的整合实验"></a>4.5云数据库mysql的整合实验</h2><h3 id="实验环境"><a href="#实验环境" class="headerlink" title="实验环境"></a>实验环境</h3><p><img src="/images/pasted-194.png" alt="upload successful"></p><h3 id="2-初始化实例"><a href="#2-初始化实例" class="headerlink" title="2.初始化实例"></a>2.初始化实例</h3><p><img src="/images/pasted-195.png" alt="upload successful"></p><h3 id="3-开启外网访问"><a href="#3-开启外网访问" class="headerlink" title="3.开启外网访问"></a>3.开启外网访问</h3><p><img src="/images/pasted-196.png" alt="upload successful"></p><p><img src="/images/pasted-197.png" alt="upload successful"></p><h3 id="4-使用数据管理DMC管理数据库"><a href="#4-使用数据管理DMC管理数据库" class="headerlink" title="4.使用数据管理DMC管理数据库"></a>4.使用数据管理DMC管理数据库</h3><p><img src="/images/pasted-198.png" alt="upload successful"></p><h3 id="5-通过数据管理DMC进入PMA"><a href="#5-通过数据管理DMC进入PMA" class="headerlink" title="5.通过数据管理DMC进入PMA"></a>5.通过数据管理DMC进入PMA</h3><p><img src="/images/pasted-199.png" alt="upload successful"></p><h3 id="6-修改配置连接云数据mysql实例"><a href="#6-修改配置连接云数据mysql实例" class="headerlink" title="6.修改配置连接云数据mysql实例"></a>6.修改配置连接云数据mysql实例</h3><p><img src="/images/pasted-200.png" alt="upload successful"></p><h2 id="4-6-云数据库MongoDB简介"><a href="#4-6-云数据库MongoDB简介" class="headerlink" title="4.6 云数据库MongoDB简介"></a>4.6 云数据库MongoDB简介</h2><p><img src="/images/pasted-201.png" alt="upload successful"></p><p><img src="/images/pasted-202.png" alt="upload successful"></p><h3 id="MongoDB与Mysql的区别"><a href="#MongoDB与Mysql的区别" class="headerlink" title="MongoDB与Mysql的区别"></a>MongoDB与Mysql的区别</h3><p><img src="/images/pasted-203.png" alt="upload successful"></p><h3 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a>应用场景</h3><p><img src="/images/pasted-204.png" alt="upload successful"></p><p><img src="/images/pasted-205.png" alt="upload successful"></p><h2 id="4-7-云数据库MongoDB使用"><a href="#4-7-云数据库MongoDB使用" class="headerlink" title="4.7 云数据库MongoDB使用"></a>4.7 云数据库MongoDB使用</h2><p><img src="/images/pasted-207.png" alt="upload successful"></p><h3 id="1-创建实例"><a href="#1-创建实例" class="headerlink" title="1.创建实例"></a>1.创建实例</h3><p><img src="/images/pasted-208.png" alt="upload successful"></p><h3 id="2-数据迁移"><a href="#2-数据迁移" class="headerlink" title="2.数据迁移"></a>2.数据迁移</h3><p>数据迁移</p><p><img src="/images/pasted-209.png" alt="upload successful"></p><h3 id="3-使用实例"><a href="#3-使用实例" class="headerlink" title="3.使用实例"></a>3.使用实例</h3><p><img src="/images/pasted-210.png" alt="upload successful"></p><h3 id="4-架构的变化"><a href="#4-架构的变化" class="headerlink" title="4.架构的变化"></a>4.架构的变化</h3><p>使用MongoDB保存日志文件</p><p><img src="/images/pasted-211.png" alt="upload successful"></p><h2 id="4-8-云数据库MongoDB整合实验"><a href="#4-8-云数据库MongoDB整合实验" class="headerlink" title="4.8 云数据库MongoDB整合实验"></a>4.8 云数据库MongoDB整合实验</h2><p><img src="/images/pasted-212.png" alt="upload successful"></p><h3 id="1-新建实例"><a href="#1-新建实例" class="headerlink" title="1.新建实例"></a>1.新建实例</h3><p><img src="/images/pasted-213.png" alt="upload successful"></p><h3 id="2-初始化MongoDB实例"><a href="#2-初始化MongoDB实例" class="headerlink" title="2.初始化MongoDB实例"></a>2.初始化MongoDB实例</h3><p><img src="/images/pasted-214.png" alt="upload successful"></p><p><img src="/images/pasted-215.png" alt="upload successful"></p><h3 id="3-把系统的业务日志保存到MongoDB实例中"><a href="#3-把系统的业务日志保存到MongoDB实例中" class="headerlink" title="3.把系统的业务日志保存到MongoDB实例中"></a>3.把系统的业务日志保存到MongoDB实例中</h3><p><img src="/images/pasted-216.png" alt="upload successful"></p><p><img src="/images/pasted-217.png" alt="upload successful"></p><p><img src="/images/pasted-218.png" alt="upload successful"><br>需要在更改完成后将程序打包,然后将其映射到相应的数据库服务器</p><h3 id="4-查看MongoDB中保存的日志信息"><a href="#4-查看MongoDB中保存的日志信息" class="headerlink" title="4.查看MongoDB中保存的日志信息"></a>4.查看MongoDB中保存的日志信息</h3><p><img src="/images/pasted-219.png" alt="upload successful"></p><h2 id="4-9-对象存储COS简介"><a href="#4-9-对象存储COS简介" class="headerlink" title="4.9 对象存储COS简介"></a>4.9 对象存储COS简介</h2><p><img src="/images/pasted-220.png" alt="upload successful"></p><p><img src="/images/pasted-221.png" alt="upload successful"></p><h3 id="对象存储的类型"><a href="#对象存储的类型" class="headerlink" title="对象存储的类型"></a>对象存储的类型</h3><p><img src="/images/pasted-222.png" alt="upload successful"></p><h3 id="存储类型对比"><a href="#存储类型对比" class="headerlink" title="存储类型对比"></a>存储类型对比</h3><p><img src="/images/pasted-223.png" alt="upload successful"></p><h3 id="对象存储各概念关系"><a href="#对象存储各概念关系" class="headerlink" title="对象存储各概念关系"></a>对象存储各概念关系</h3><p><img src="/images/pasted-224.png" alt="upload successful"></p><h2 id="4-10-控制台中使用对象存储的使用步骤"><a href="#4-10-控制台中使用对象存储的使用步骤" class="headerlink" title="4.10 控制台中使用对象存储的使用步骤"></a>4.10 控制台中使用对象存储的使用步骤</h2><p><img src="/images/pasted-225.png" alt="upload successful"></p><h3 id="创建存储桶"><a href="#创建存储桶" class="headerlink" title="创建存储桶"></a>创建存储桶</h3><p><img src="/images/pasted-226.png" alt="upload successful"></p><h3 id="工具概览"><a href="#工具概览" class="headerlink" title="工具概览"></a>工具概览</h3><p><img src="/images/pasted-227.png" alt="upload successful"></p><h2 id="4-11-对象存储API"><a href="#4-11-对象存储API" class="headerlink" title="4.11 对象存储API"></a>4.11 对象存储API</h2><p><img src="/images/pasted-228.png" alt="upload successful"></p><h3 id="术语简介"><a href="#术语简介" class="headerlink" title="术语简介"></a>术语简介</h3><p><img src="/images/pasted-229.png" alt="upload successful"></p><h3 id="service接口"><a href="#service接口" class="headerlink" title="### service接口"></a>### service接口</h3><p><img src="/images/pasted-230.png" alt="upload successful"></p><p><img src="/images/pasted-232.png" alt="upload successful"></p><p><img src="/images/pasted-231.png" alt="upload successful"><br>返回的是XML格式  的数据</p><p><img src="/images/pasted-233.png" alt="upload successful"></p><h3 id="bucket接口"><a href="#bucket接口" class="headerlink" title="bucket接口"></a>bucket接口</h3><p><img src="/images/pasted-234.png" alt="upload successful"></p><h3 id="object接口"><a href="#object接口" class="headerlink" title="object接口"></a>object接口</h3><p><img src="/images/pasted-235.png" alt="upload successful"></p><h2 id="4-12-SDK操作对象存储"><a href="#4-12-SDK操作对象存储" class="headerlink" title="4.12 SDK操作对象存储"></a>4.12 SDK操作对象存储</h2><p><img src="/images/pasted-236.png" alt="upload successful"></p><h3 id="Java-SDK访问"><a href="#Java-SDK访问" class="headerlink" title="Java SDK访问"></a>Java SDK访问</h3><p><img src="/images/pasted-237.png" alt="upload successful"></p><p><img src="/images/pasted-238.png" alt="upload successful"></p><h3 id="引入cos存储后架构的变化"><a href="#引入cos存储后架构的变化" class="headerlink" title="引入cos存储后架构的变化"></a>引入cos存储后架构的变化</h3><p><img src="/images/pasted-239.png" alt="upload successful"></p><h2 id="4-13-对象存储整合实验"><a href="#4-13-对象存储整合实验" class="headerlink" title="4.13 对象存储整合实验"></a>4.13 对象存储整合实验</h2><p><img src="/images/pasted-240.png" alt="upload successful"></p><h3 id="1-创建存储桶"><a href="#1-创建存储桶" class="headerlink" title="1.创建存储桶"></a>1.创建存储桶</h3><p><img src="/images/pasted-241.png" alt="upload successful"></p><h3 id="2-新建访问密钥"><a href="#2-新建访问密钥" class="headerlink" title="2.新建访问密钥"></a>2.新建访问密钥</h3><p><img src="/images/pasted-242.png" alt="upload successful"></p><p><img src="/images/pasted-243.png" alt="upload successful"></p><h3 id="3-修改cos存储配置内容"><a href="#3-修改cos存储配置内容" class="headerlink" title="3.修改cos存储配置内容"></a>3.修改cos存储配置内容</h3><p><img src="/images/pasted-244.png" alt="upload successful"></p><p><img src="/images/pasted-245.png" alt="upload successful"><br>需要在更改完成后将程序打包,然后将其映射到相应的数据库服务器</p><h3 id="4-上传文件信息"><a href="#4-上传文件信息" class="headerlink" title="4.上传文件信息"></a>4.上传文件信息</h3><p><img src="/images/pasted-246.png" alt="upload successful"></p>]]></content>
      
      
      <categories>
          
          <category> 腾讯云开发 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 腾讯云开发 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>博客首次启动</title>
      <link href="/posts/06aa2b5650ce/"/>
      <url>/posts/06aa2b5650ce/</url>
      
        <content type="html"><![CDATA[<p>这是一篇首次部署hexo博客框架的文章</p><span id="more"></span><h2 id="思想斗争"><a href="#思想斗争" class="headerlink" title="思想斗争"></a>思想斗争</h2><p>暑期来临，自己就很想利用暑期的时间部署一个属于自己的个人博客。<br>首先我自己是想到了用前端框架和后端框架自己写一个博客出来，最后自己搭一个服务器什么的。但是写到一半之后仔细想了想后期这个博客站点运行的问题，总感觉整个博客的运行成本有点超出我的预期。<br>虽然以学生身份在腾讯云或者阿里云的平台上买服务器是可以享受到优惠的，但是优惠终归有期限，超过期限之后就得原价续费，还不包括后期维护或者续费服务器运行费用的相关问题。<br>毕竟博客还是得要一直部署在公网上才有意义。<br>所以我开始了追求极致性价比的道路。<br>在b站冲浪两个半小时之后，我看到hexo框架。<br>hexo博客框架当下也算是比较流行的博客框架的一种，相较于halo等动态博客框架不同，hexo博客框架是静态的。<br>虽然看上去逼格不够高，但是能用就行。<br>hexo框架只需要在本地部署完成，然后将工程文件利用git推送到远端，例如github或者gitee中后，就可以使用它们所提供的page功能完成线上部署，并可以直接在公网上访问到自己的博客网站了。<br><img src="/images/pasted-0.png" alt="upload successful"></p><h2 id="部署hexo系统"><a href="#部署hexo系统" class="headerlink" title="部署hexo系统"></a>部署hexo系统</h2><h3 id="1-前置步骤"><a href="#1-前置步骤" class="headerlink" title="1.前置步骤"></a>1.前置步骤</h3><p>在部署hexo系统之前，需要先安装node.js，我们需要使用node.js中的包管理器npm对hexo博客框架进行安装。node.js版本直接跟着教程安装最新版本就好。<br>官网： <a href="https://nodejs.org/">https://nodejs.org/</a></p><h3 id="2-开始部署"><a href="#2-开始部署" class="headerlink" title="2.开始部署"></a>2.开始部署</h3><p>安装完成node.js后，我们使用以下命令全局安装hexo:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g  </span><br></pre></td></tr></table></figure><p>接着如果你是Windos用户，就可以自己创建一个专门放置hexo博客的文件夹，之后在此文件夹的文件路径框中输入cmd即可让cmd命令行窗口进入当前文件路径下。<br>linux用户和mac用户的操作相似，此处不再赘述。<br>之后，在命令行窗口输入以下命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure><p>等待安装完成后，即可使用<br>在本地启动hexo博客框架的命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>如果你更改了博客框架中的某些内容，需要先清除掉原来框架中的缓存，如以下所示：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo clean </span><br></pre></td></tr></table></figure><p>然后重新生成渲染网页文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure><p>之后在使用启动hexo框架的命令之后，就可以看到自己想要的效果了</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
